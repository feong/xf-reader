// {"direction":"ltr","id":"user\/-\/state\/com.google\/starred","title":"Starred","description":"","self":{"href":"https:\/\/www.inoreader.com\/reader\/api\/0\/stream\/contents\/user\/-\/state\/com.google\/starred"},"updated":1491034376,"updatedUsec":"1491034376035451","items":[{"crawlTimeMsec":"1489981943000","timestampUsec":"1489981943000000","id":"tag:google.com,2005:reader\/item\/00000002a10b955e","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"饿了么如何落地和管理「大前端」团队？","published":1489977000,"updated":0,"starred":1489981943,"canonical":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25789936?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25789936?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\n                \u003Ccenter\u003E\n                    \u003Cdiv style=\u0022text-align:center;color:#424242;font-size:0.8em;margin-bottom:30px;\u0022\u003E\n                        \u003Cdiv\u003E\n                            Ads from Inoreader \u0026bull; \u003Ca target=\u0022_blank\u0022 style=\u0022text-decoration:underline;color:#424242;\u0022 href=\u0022https:\/\/www.inoreader.com\/about_ads\u0022\u003ERemove\u003C\/a\u003E\n                        \u003C\/div\u003E\n                        \u003Cdiv style=\u0022margin-top:10px;\u0022\u003E\n                            \u003Ca href=\u0022http:\/\/www.inoreader.com\/adv\/www\/delivery\/ck.php?n=a49f975d\u0026cb=58df610808f74\u0022 target=\u0022_blank\u0022\u003E\u003Cimg src=\u0022http:\/\/www.inoreader.com\/adv\/www\/delivery\/avw.php?zoneid=23\u0026from_api=1\u0026cb=58df610808f74\u0026n=a49f975d\u0026sens=0\u0026pd=2\u0022 style=\u0022border:0;width:320px;height:50px;margin:0; auto 0 auto !important;float:none !important;\u0022\u003E\u003C\/a\u003E\n                        \u003C\/div\u003E\n                    \u003C\/div\u003E\n                    \u003Cdiv style=\u0022clear:both;\u0022\u003E\n                    \u003C\/div\u003E\n                \u003C\/center\u003E\u003Cblockquote\u003E\u003Cb\u003E写在前面：\u003C\/b\u003E这是 InfoQ 的一次专访，但因为访谈形式的阅读疲劳，编辑尾尾把它变成了一篇文章《\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/mp.weixin.qq.com\/s\/ZONgNxZIzphHXoxC1PpW4A\u0022\u003E如何落地和管理一个“大前端”团队?饿了么大前端团队解密\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E》。这个访谈前面主要是介绍，一些团队的实践和主要观点（个人拙见）在后面。因为个人觉得访谈可能比文章更「原汁原味」，并且已经是一篇经过验证（早上被朋友圈刷屏）的文章。所以把原版分享出来给大家。TL;DR。\u003C\/blockquote\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E1、请您简单地向读者做个自我介绍，包括经历、现在的团队和自己的职责\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E平时大家会叫我小鱼或 Sofish，尴尬的是只有屈指可数的同行知道我真名叫林建锋。为了逃离数学，大学我选了法学这个专业；而毕业前又为了逃离职业性的「辩论」选择了不用说太多话的前端，至此踏上程序员的不归路。\u003C\/p\u003E\u003Cp\u003E从实习到远赴杭州支付宝，再作为第一个前端工程师加入百姓网后选择创业，最后加入饿了么并定居上海。目前作为饿了么大前端部门负责人，和一群小伙伴在努力把饿了么变的更好，顺路立志成为业界顶尖团队。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E2、您所带领的团队是饿了么大前端团队，“大前端”这个名字当初是如何确定下来的？其具体的职责包括哪些？具体是如何分工的？团队间如何协作？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E大前端这个词最早是因为在阿里内部有很多前端既写前端又写 Java 的 Velocity 模板而得，而部门成为之初也是因为那时我们承担的内容不仅仅是前端，还包含 CDN 和 Nginx 层，所以取名大前端。时至今日，大前端已经包含了前端、Node、Native-Like (Hybrid \/ WEEX \/ RN)，甚至 Native App 开发。\u003C\/p\u003E\u003Cp\u003E如上面所说的，除了纯 iOS \/ Android App 的开发，其他都是我们团队职责所在，同时我们还负责公司 HTTP API 层，有一些自己运维的系统。\u003C\/p\u003E\u003Cp\u003E从分工来说来，目前我们有架构与机动组负责框架、规范、工具的生产；Node 研发团队负责公司 Node 业务的基础设施和业务支撑；多个业务前端团队支持不同的 BU 前端。这里值得一提的是，架构与机动组中的成员，会对每个业务团队至少派出一名架构师长期、深入地了解业务团队所遇到的问题并反馈到架构团队，并在解决方案提出后协助推动。\u003C\/p\u003E\u003Cp\u003E在具体职能分工之外，各团队也有以项目而组织起来的虚拟团队，比如由我们部门负责的「游戏中心系统」就由 Node 研发团队和架构与机场组中的成员组成；又如小程序团队；亦如发起一次由 93 后独立组织的招聘；专栏编辑团队、官司微小分队、对内对外分享会小分队等等。除了大家看到的开源产品，内部的所有项目都是「内部开源」，特别鼓励大家提 Pull Request 和相互 Code Review。这些与部门所创建的文化息息相关，且如你可能猜到的，大多合作都是一旦有人提出，即自发组队。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E3、您认为“大前端”这个概念应该如何定义？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E在我看来，「大前端」是一种变化形态多过于固定的职责范围，是「前端」职责范围的延升，是对这个社会分工因为能力范围和因此所达到效率提升的一种进化形态。给大家分享个小道消息，CTO 曾多次开玩笑说 —— 你们负责的已经不仅仅是前端，要不就改名「大全栈」吧。这部门的名字很霸气但同时也太高调，所有并没有接受 BOSS 的提议，而是继续沿用这个部门名。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E4、您认为“大前端”团队具有什么样的特点，和单纯的“移动开发团队+前端团队”有什么样的区别?大前端团队的模式有什么利弊？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E特点前面已经说了，是对前端本身的一种能力范围延升。关于是移动开发团队我猜这里指的是包含移动网页、Native-Like、Native App 这样的团队，如携程；纯大前端的团队如美团和饿了么北京研发中心，只要是客户端的无论是网页还是 App 都在单一个团队；饿了么不仅有大前端，还有各 BU 的 Native App 团队，甚至还有专注于移动基础框架的公共的移动技术团队。\u003C\/p\u003E\u003Cp\u003E分工的利弊通常来说与公司状态、团队本身所创造的价格有很大的关联；虽然大家都是「离用户最近的工程师」，但没有公式可抄。\u003C\/p\u003E\u003Cp\u003E就拿饿了么大前端来说，最开始是因为业务的快速发展，除了 C 端部门，其他新成立的部门前端工程师极度紧缺，为了资源的高效配置，成立了这个部门。这是当时公司业务的状态。创始人和 CTO 问我，你觉得如果今天合了，几时会分？当时的想法是，如果一个业务前端团队发展到 10 人左右，在负责好本身的业务外，能建立且不断升级自己的技术基础设施又具备有自己的文化，是一个分的时机。时至两年后的今日，已经不再是这样的想法，并且新成立的 BU 更愿意把人放到大前端。为何？\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E如果一个大团队，并不能提便利的基础设施，不能创建自由且充满可能的文化，不能持续提升自己并帮助成员提升其自身水平。也就是大家经常谈到的技术追求、归属感、成就感。那么，打散到业务组可能更灵活。所以前端业务团队的分与合归根到底在于 —— 大团队是否创造比小团队更高的价值。\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E大多数人过高估计前端\/后端\u003Cem\u003E\/\u003C\/em\u003E产品坐在一起就能完美解决问题。很多时候，对于程序员来说更少的打扰，更多的思考（比如坐内部电梯去找某个人太慢了，就会开始思考是不是有必要去找某个人）过后的沟通，是更高效的沟通。\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E划分框架、机动与业务团队，一方面基础设施共享（框架\/工具）有更多重用，人员调度可以省不少资源（小团队需求少的团队可以合并支持）且又有专注于业务的团队，似乎是最前非常不错的划分方式，而在 10 个人的团队中是很难做到的。\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003E由此，我们可以看出，一方面是业务影响，另一方面也依赖团队本身产生的价值，今天我们要分还是合，利弊计算出现在决定做出之后，带领团队的人能否利用「合」的优势去产生出更大的价值。这个问题的答案就是利与弊的答案。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E5、据您了解，业界大前端团队的现状如何？饿了么有没有其他的大前端团队进行交流？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E没有具体统计过这个问题，但从我这边交流过的团队来说，现在很多团队都是大前端方向，或向这个方向发展的比较多。有少部分像携程、腾讯这种体量本身就很大职能划分也比较明确的公司，做的事可能是「大前端」但分开仍是比较偏向于 JS \/ HTML \/ CSS 这样的纯前端模式。\u003C\/p\u003E\u003Cp\u003E至于具体的交流，团队每年都会以个人或者团队名义邀请多位前端业界大牛来内部交流，也会组织内、外部交流会，这通常是几个电话和微信就搞定的事，总体交流还是比较多的。即使没有专门的会议，也会偶尔相互通通气。这里也期望读者所在的团队，如有新的实践和想法我们可以偶尔探讨。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E6、如果说一个企业的前端和移动开发团队要重组成大前端团队，您认为需要注意哪些点？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E前面第 4 点也说了，一方面是业务是否需求，另一方面是看合能否比分开带来更大的价值。通常来说，除非人极少，通常来说业务大多数情况都会随公司的发展变得越分越开，而价值则主要是关于人和文化。目标不是为了合而合，或者追随业界模式，而应该着眼于是否优化了公司的人才架构从而优化业务。\u003C\/p\u003E\u003Cp\u003E如果一定要从具体实施点上来说，这里说两点。\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E框架团队和业务团队应该同时设立，并且框架与业务不能相互脱离，具体可以参考饿了么大前端的模式 —— 相互渗透。\u003C\/li\u003E\u003Cli\u003E在大职能团队下，尽可能以业务划分团队，不要以职能划分团队；反之亦然。\u003Cbr\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E7、您是如何看待新技术的？关于 Vue.js、WEEX、PWA 等较新的技术上都有一些又快又好的实践，那么能否举例说明，这些新技术究竟是如何落地的？例如，能否以 Vue.js 为例，分享一下技术选型和具体落地的过程？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E在面试前端 Leader 候选人的时候，我通常会问一个问题：你如何看待技术债，有没有办法可以避免？几乎任何程序员都讨厌还技术债，所以才会有那句「挖坑一时爽，填坑火葬场」。因为痛苦才会非常值得我们去思考和解决。技术债从某种程序上代表着过时的技术，而新技术也将在未来某个时刻变成新的「技术债」。饿了么大前端是如何回答这个问题的？就是我们对新技术的看法。\u003C\/p\u003E\u003Cp\u003E我 2014 年加入饿了么，那会 PC  和 Mobile 都还是后端渲染的模式，使用 Bootstrap 和 jQuery。我进去的第一件事是用 Angular.js 重写移动网站，并且前\/后端分离，提倡后端即服务。在高速发展期利用移动网站支撑了当时 10 倍增长的业务；第二件事是重构 PC 站，把 web2 升级到 web3（Code Name），同样是前后端分离，到 14 年底 15 年初，基本实现完全分离。重构一方面是提高前端协作的效率，一方面是提升两部各自的掌握力 —— 只要 API 约定一致，内部封装可以自己随时变更（提升）。在此之后，我们的方向一直是比较激进的技术模式 —— 新业务可以用任何框架，大家自由选择；旧业务只要负责团队（人）有能力升级，那就鼓励用最新的。由于后端已经完全分离出去，所以从掌握力大大提升，加上这种受鼓励的激进技术模式，Angular.js 1.x 这种当年的新技术在日渐变成技术债的今天，也已经几乎全被重写成 Vue.js 和 React.js。\u003C\/p\u003E\u003Cp\u003E当然，也像今天大家能看到的，当大家都还在转发关于 PWA 文章的时候，我们已经和 Google 合作并把 PWA 上线；开源的项目大多是内部成熟应用的项目，而开源的产品亦让我们成为 Vue.js World Ranking 最高的团队；WEEX 方面是除阿里内部团队外最早上线的大型用户。这些看起来快速和无止追求新技术的背后，其实并没有大家想的那么了不起，仅仅是因为团队文化本身就鼓励利用新技术解决问题。\u003C\/p\u003E\u003Cp\u003E如果一定要拿 Vue.js 来举例，可能和你想象不一样的是，不用「落地」，仅仅是因为有人说了一句「WOW，Vue.js 写起来好简洁啊，大家要不要一起来试试？」。然后，一个团队，两个团队... 几乎所有团队都开始应用，几乎所有新项目都在用。一位某跨国大厂的朋友告诉我，他申请在项目试用  Vue.js，上级说在半年后试用，结果半年后又被推翻了。所以你看，在合适的文化土壤里新事物就是一种常态，如果做一个项目用什么技术还要上级主管确定「能不能做」，那本身就不是一件简单的事。\u003C\/p\u003E\u003Cp\u003E我们对于技术选型通常来说要求是 —— 是否提升饿了么运行的效率或者团队开发的效率？是否能 hold 住？有没有人负责到底？符合这样的条件，就会被推动。当大家都在说 https 是好东西的时候，我们已经推动全网上线，诸如此类 —— Webp、Https、Vue.js \/ React.js \/ Angular.js、WEEX、PWA 都是如此。比如大家可能去年就关注到我们在上线 HTTP\/2，而今天饿了么大前端内部已经做过 HTTP\/2 Server Push 的实验，可以想象在不久的将来，线上应用将会大面应用。这就是我们的选型和落地模式。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E8、在团队的管理方面，饿了么大前端团队有哪些特色？如何使得团队成员做到有思考地追求新技术，而不是盲目追赶？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E特色？如果只用两个字来回答就是 —— 散养。但仅仅这样描述大家会一脸问号。外部对我们的评价是：「新技术跟进好快」「怎么又又又出去玩了」「下班很早」「好多大牛」「开源的东西获得好多星星」，诸如此类，但这不是我们要特地我呈现的，只是一种表像，或者说是一种副产品。\u003C\/p\u003E\u003Cp\u003E一个团队的风格与创始人有很大的关系，比如喜欢愉懒的我会更多考虑自动化；又如有洁癖所以会有代码规划和 Code Review；还有大家看到的爱玩，所以会经常有团建、下午茶这样的文化；但另一方面，我并不想让团队仅仅是和我一样有大家喜欢的，同时充满缺点，而希望是不断尝试的，兼容并包的，让每个人的闪光点都成为集体中有特色标志的。所以我有自己的一套，就是前端所说的「散养」式管理，说起来可能会很大，重点说几点：\u003C\/p\u003E\u003Cbr\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E招聘最好的人。最好的人不是业界里的所有明星，更重要的是能从某方面给带队带来提升的人。这些人通常自驱能力强，只要有一个方向就能推动事件的发生和发展。加入的人会被要求不要以学习姿态加入这个团队，而是以加入会让这个团队会让其变得更好为姿态，成长就会成为副产品。\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E鼓励创造结果而不是追求上班时间。如果我们的目标是页面加载时间不要超过 800ms，那么目标就是 800ms 而不是上 12 个小时的班。\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E营造环境。我们有最好的人，我们追求结果而不是追求上班时间，我们鼓励主动和主人公意识，我们创新以打破规则 ，我们声明所有人为自己而生为用户工作而非老板，我们会包个酒包或找个海岛玩到天亮。有很多东西是要刻意去营造的，创新土壤，主动的意识，热爱生活的文化，鼓励什么就会聚集\/培养一群什么样的人。\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003E因为这样的管理方式，通常大部分事情都会被内部很好地解决，而我也得到更多的时间去思考如何做和决定做什么；团队也因为成员不断成长闪耀不同的光芒而变得更好。如果以官话来说，就是我们要发现一种「可持续发展」的模式。这种模式目前运行的不错，无论是业务上的，还是团队文化本身，抑或是加入成员的成长，都是让人高兴的。但，更好的方式仍在探索，如果说只分享一个点的话，那就是千万别用「管」的方式，而是「理」顺，就会顺理成章。\u003C\/p\u003E\u003Cp\u003E至于是不是盲目追求新技术。上面我们已经谈过技术选型的要求，最最重要的也是最最根本的问题「是否进升饿了么运行的效率或者团队开发的效率？」，我相信如果大家能回答好这个问题，就解决了「盲目」追求的问题。\u003C\/p\u003E\u003Cp\u003E最后说一句，无论是管理上、技术上、生活上，预留一定的空间和自由度，一定会带来惊喜。具体就不解释了，大家自行理解，或许某天我们遇到可以用这个话题开场，就开聊起来了。\u003C\/p\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/sofish?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003Esofish\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E"},"author":"sofish","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1489630199000","timestampUsec":"1489630199000000","id":"tag:google.com,2005:reader\/item\/000000029ebf823d","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"如何把小户型阳台布置出有情调又不贵？","published":1489628700,"updated":1489655549,"starred":1489630199,"canonical":[{"href":"http:\/\/www.zhihu.com\/question\/30011350\/answer\/151497178?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/www.zhihu.com\/question\/30011350\/answer\/151497178?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cp\u003E单纯地建议题主在阳台上种花种草、喝茶聊天、晾晒衣服都不太合适，还得要从自己家的条件出发，要不光刷美图并没有解决任何实际问题。至于想要一劳永逸地解决晒衣服的问题，买个烘干机吧，几千块钱能帮你省下好几个平米。\u003C\/p\u003E\u003Cbr\u003E\u003Ch2\u003E\u003Cb\u003E区别阳台的用途\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E可别拿到房子马上开始幻想，自己要美美地坐在阳台上喝茶晒太阳。我们布置自己的家时，必须得有一个整体的意识：家里需要什么样的功能，这个功能需要怎么实现。 \n举个例子：有的户型有两个阳台，那么休闲和家务就能完全地分开，再也不用坐在大裤衩下谈笑风生了。有的户型虽然有阳台，可是按照开发商的设计，这个阳台存在的全部意义就是为了偷面积，不把这个阳台封起来，卧室里只能放一张床。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-1b5860cb45117606accd366827783103_b.jpg?rss\u0022 alt=\u0022v2-1b5860cb45117606accd366827783103_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 书房小得没法用，只能封阳台，图源：\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/house.qq.com\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Ehouse.qq.com\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E试试先撇开阳台，自己想象一下，哪个地方要做什么，哪个地方摆什么家具。 \n写一个列表，列10个自己最想要在家里实现的功能，比如吃饭的餐桌、收纳的柜子、洗晒衣服的区域。把全家都大概布置完之后，看看还有什么被漏在了外面，那说明这个家实在摆不下了，只能交给阳台了。要是不算上阳台，这些需求都得到了满足，那就太棒啦！你可以有一个想干什么都可以的阳台了。\u003C\/p\u003E\u003Cbr\u003E\u003Ch2\u003E\u003Cb\u003E不同的阳台，用着可不一样\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E书本上会告诉大家，阳台分什么外挑式、凹式，还得看投影面积。不用那么复杂，我们就是看这个阳台连接着哪个房间。大部分的国内户型，无非就是阳台在客厅、卧室或厨房，少部分的会在卫生间、餐厅、书房上。这些阳台位置不一样，用途也不一样。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E连接着厨房和卫生间的阳台，当仁不让地是作为家务区最好的选择。靠近用水区域，晾晒也不有碍观瞻，使用起来很方便。但要是厨房和卫生间面积小得不够用，也可以考虑把阳台合并到屋子里使用。 \n建议这部分的阳台和厨卫一样做好防水，铺贴瓷砖或防水乳胶漆，便于清洁。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-43d323992698e1c13b0cf75dddecd052_b.jpg?rss\u0022 alt=\u0022v2-43d323992698e1c13b0cf75dddecd052_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 图源：beaufloors.com.au\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E连接着客厅、餐厅的阳台，作为晾晒区也不合适，不但难看还影响采光，晾衣服得穿过整个厅，但要能有遮挡视线的设计，也可以作为晾晒的妥协之处。理想而言，更建议作为客厅和餐厅的延伸，当作生活休闲区域。餐厅上的阳台大可以做一个户外用餐区，一张小桌子两把椅子就好。\u003C\/p\u003E\u003Cp\u003E客厅阳台做用餐区就不太适宜，因为从厨房走过去有些远，倒是可以布置上躺椅和植物角、甚至是一块让宝宝随意玩耍的地毯，充分享受全屋最棒的采光。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-0bce6a8997a4afc513b762e9c7193723_b.jpg?rss\u0022 alt=\u0022v2-0bce6a8997a4afc513b762e9c7193723_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 图源：Impressive Interior Design\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E连接着书房的阳台，做晾晒区不是那么好，因为需要穿过屋子才能去到阳台上。要书房是家庭成员共享的，那也可以作为书房的延伸，比如设置更多的收纳区域、当做景观阳台，或者放一台跑步机。如果书房只属于一个人，那就更可以由着自己的性子随意布置了。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-b6fc6c13e7eadc9c980f650b4accb00c_b.jpg?rss\u0022 alt=\u0022v2-b6fc6c13e7eadc9c980f650b4accb00c_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 图源：\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/tumblr.com\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Etumblr.com\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E连接着卧室的阳台，理应是家里最私密的角落，由这个卧室的主人独占。若是一家人需要经常穿过卧室去阳台，行走不便，更会打破卧室本身应有的隐私。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-85663f9a1d1a1e2f2073a36f8a16f63d_b.jpg?rss\u0022 alt=\u0022v2-85663f9a1d1a1e2f2073a36f8a16f63d_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 图源：\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/ganodermacoffee.com\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Eganodermacoffee.com\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E也就是说，阳台怎么布置完全根据自己的需求决定，你家缺什么功能，阳台就能扛起什么功能。只是不同阳台之间有一些先天限制需要注意，否则可能使用起来并不是那么舒适。小阳台功能单一，大阳台则可以同时承担几种功能，比如又能晾衣服又能种花，两者并不冲突。可以看看这篇文章，把巧妙利用空间的叠加大法也运用在阳台上。\u003Ca href=\u0022\/\/link.zhihu.com\/?target=https%3A\/\/mp.weixin.qq.com\/s%3F__biz%3DMzA4MTQ2NDg1NQ%3D%3D%26mid%3D2652454686%26idx%3D1%26sn%3D618cb73842721f8475a92395cb5fa65c%26scene%3D21%23wechat_redirect\u0022\u003E如何让小户型变大再变大？这是一定要知道的叠加大法，轻松变大30㎡不是梦\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-27661afbd55c1a661c741d232754f158_b.jpg?rss\u0022 alt=\u0022v2-27661afbd55c1a661c741d232754f158_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 图源：IKEA USA \n\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E封不封阳台，这是个问题\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E封阳台简直是一个亘古不变的难题：不封好浪费，封了也好可惜。我们特别反对地域一刀切——北京春天阳光和空气好得不得了，而广东这两天则是遭受着湿漉漉的回南天，狠狠地给“北方空气差、南方气候好”的说法打了一巴掌。封不封阳台，还是得看自己。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E▏\u003Cb\u003E封窗不封门\u003C\/b\u003E▕\u003C\/p\u003E\u003Cp\u003E只封上阳台的窗户，相当于把阳台划入了室内，只是可能会有阳台垛子和梁会表现出空间的划分。这种方法，\u003Cb\u003E适用于室内面积不太足够的家庭，或者觉得这个阳台并没有什么太大的用途\u003C\/b\u003E。封起来之后，还是能够保证景观，但免去了日晒雨淋、清洁打扫的烦恼，而且不用贴瓷砖、不用刷防水，装修方式和室内一样，（也许）还能省了一笔钱。 \n\u003Cb\u003E条件允许时\u003C\/b\u003E，可以在封阳台时采用外开窗，这样把窗户全部打开时，通风效果和没封阳台时一样好。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-fe1a6f2c9b5901980d3022902e727c68_b.jpg?rss\u0022 alt=\u0022v2-fe1a6f2c9b5901980d3022902e727c68_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 图源：.\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/searchome.net\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Esearchome.net\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E▏\u003Cb\u003E封窗又封门\u003C\/b\u003E▕\u003C\/p\u003E\u003Cp\u003E封上了阳台的窗户，但阳台和室内之间也隔着一道门。这样的封阳台方式，在八十年代前的老房子里见得多，但也有它的好处。最大的好处是，\u003Cb\u003E经过了两道隔断，隔音和保温效果都大大得到了提升\u003C\/b\u003E。既减少了敞开阳台的麻烦，又能够保证阳台的独立性，但这样的话，屋子里的通风会受到一定的影响。现在大多这样隔的都是直接用玻璃门了，不影响采光，不必像老房子那样阳台和卧室之间还隔着一堵墙，墙上开个窗户。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-89e6b1005d610b2f02f3f6da53b6915c_b.jpg?rss\u0022 alt=\u0022v2-89e6b1005d610b2f02f3f6da53b6915c_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 图源：\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/houzz.com\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Ehouzz.com\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E \n\u003C\/p\u003E\u003Cp\u003E▏\u003Cb\u003E不封阳台\u003C\/b\u003E▕\u003C\/p\u003E\u003Cp\u003E恶劣天气下完全无法使用，不但要做好防水，还得把阳台和室内接触的部分做好密封，防止雨水倒灌。放置在阳台上的物品有了限制，尤其是沿海遭遇摧枯拉朽的台风天，一盆花放在阳台上都会心惊胆颤。 \n但它唯一的好处却又让无法拒绝：一个最大程度接近自然的角落，让久居城市的你我感受一丝丝拥有自己庭院的快乐。 \n说白了就两个字：浪漫。你愿不愿意为浪漫买单？\u003C\/p\u003E\u003Cp\u003E等等，有一种甚嚣尘上的论调必须要反驳：不封阳台灰大。其实封不封阳台就是取决于把不把阳台这几平米划入室内，不封阳台的话\u003Cb\u003E阳台本身\u003C\/b\u003E确实容易脏，但是和室内环境没有半毛钱关系，别说的家里根本没安窗户一样。再说，封了阳台天天开着窗户，那和没封也没任何区别。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-fc37c66ee413d554a92741bb0fb9d27a_b.jpg?rss\u0022 alt=\u0022v2-fc37c66ee413d554a92741bb0fb9d27a_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E▲ 亲测黑白棋盘地砖用在阳台上容易脏，非常容易脏，图源：\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/pinterest.com\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Epinterest.com\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Ch2\u003E\u003Cb\u003E这些客观原因限制了你对阳台的想象\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E虽然有很多阳台改卧室、阳台改工作区、阳台改厨房的例子，我们也说过阳台改家务区、阳台改浴室的可能，但是总有这么一些现实你得考虑考虑。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E▏\u003Cb\u003E地漏或下水管\u003C\/b\u003E▕\u003C\/p\u003E\u003Cp\u003E没有排水系统的内阳台，没办法放置洗衣机和拖把池。\u003C\/p\u003E\u003Cp\u003E▏\u003Cb\u003E保温\u003C\/b\u003E▕\u003C\/p\u003E\u003Cp\u003E老房子阳台使用的混凝土栏杆，需要封闭好之后，再另加内保温层，这样才能够封起来当作房间的一部分，要不冬季非常冷。新住宅的玻璃栏杆就更别提了，如果想要改成主要生活区甚至改卧室，也许得自己额外砌一层半墙保证隐私和保温。\u003C\/p\u003E\u003Cp\u003E▏\u003Cb\u003E承重\u003C\/b\u003E▕\u003C\/p\u003E\u003Cp\u003E从建筑外面看，要是阳台是单独凸出来的，就叫“外挑式”阳台，这种阳台全靠下面的梁和楼板挑起来，是没有柱子支撑的，承重能力比家里其它地方差。慎重放大花盆、大鱼缸。\u003C\/p\u003E\u003Cp\u003E▏\u003Cb\u003E排烟\u003C\/b\u003E▕\u003C\/p\u003E\u003Cp\u003E阳台改厨房，最重要的就是燃气和油烟。燃气可以用电磁炉替代，但油烟很多家庭会选择直接在阳台上打个洞排放。这么做其实很不负责，既污染了大楼外立面，又会影响楼上楼下的邻居。但抽油烟机的烟管牵得太长，会影响排烟效果。 \n\u003C\/p\u003E\u003Cp\u003E更多的原创家装内容欢迎关注我们的公众号：住范儿（ID：zhu-faner）查看。 \n需要改造翻新你的家吗？点击\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/wechat.zhufaner.com\/mobile\/index%3Ffrom%3Dzhihu\u0022\u003E这里\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E了解详情 \u003C\/p\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/30011350\/answer\/151497178?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E知乎用户（登录查看详情）\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n此问题还有 \u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/30011350\/answer\/151497178?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E222 个回答，查看全部。\u003C\/a\u003E\u003Cbr\u003E \n                延伸阅读：\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/29063831?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E怎样装修得有质感？\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/20317867?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E关于房间的整理与收纳，有什么好的建议？\u003C\/a\u003E\u003Cbr\u003E"},"author":"知乎用户（登录查看详情）","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1489370361000","timestampUsec":"1489370361000000","id":"tag:google.com,2005:reader\/item\/000000029cbb8bee","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"国内哪些地方最适合一到两周的徒步旅行？","published":1489357800,"updated":1489545733,"starred":1489370361,"canonical":[{"href":"http:\/\/www.zhihu.com\/question\/19712162\/answer\/149525480?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/www.zhihu.com\/question\/19712162\/answer\/149525480?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cp\u003E\u003Cb\u003E如果不经常去走走，很难想像我国山川湖海的资源有多丰富。\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E其中线路资源丰富的省市以四川、新疆、西藏、云南为多。\u003C\/p\u003E\u003Cp\u003E除了极少数路线外，1-2周去山野徒步，这个时间长度国内“天高任鸟飞”，想去哪就去哪！\u003C\/p\u003E\u003Cp\u003E以下16条较为经典的徒步线路分享给大家。\u003C\/p\u003E\u003Cp\u003E如果觉得好，请多赞。小编将补足更多经典线路给大家。\u003C\/p\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E新疆六大经典徒步路线\u003C\/b\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E穿越天山之路大体可分为天山古驿道和牧道，至今还保持着原生态的古道主要有夏特古道、包扎墩乌孙古道、车师古道。徒步者经常涉足的牧道主要有穿越博格达峰山区的牧道、狼塔之路和琼台兰牧道。 \u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E1.夏特古道穿越  冷酷中那一抹最炫的华丽\u003C\/p\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cp\u003E位于天山汗腾格里峰脚下的夏特古道，北起天山以北昭苏县的夏特牧场，南至天山以南温宿县的破城子，她贯穿天山南北，全长120公里，是丝绸之路上最为险峻的一条古隘道。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-e5ee6d86e263b063c692b7a1c5997ca3_b.png?rss\u0022 alt=\u0022v2-e5ee6d86e263b063c692b7a1c5997ca3_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E▲\u003C\/b\u003E壮观的木扎尔特冰川\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E夏特古道美丽而冷酷，鲜花盛开的夏特河谷，绿草如茵的牧场，历经沧桑的哈达木孜达坂，险恶漫长的木扎尔特冰川，汹涌残暴的木扎尔特河，绘制出一副大自然的冷艳画卷，是探险者的向往之地、追梦人的天堂。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-3ec0e5eea60221d5480427dced20e29b_b.png?rss\u0022 alt=\u0022v2-3ec0e5eea60221d5480427dced20e29b_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E路线攻略：\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E从乌鲁木齐市碾子沟汽车站乘夜班车前往昭苏县。班车下午发车，次日早晨到达昭苏县城，票价200元。乘班车到达夏特乡，票价15元。然后购买80元的景区套票，乘区间车沿夏特河谷行驶28公里抵达夏特温泉。徒步的起点是夏特温泉，终点是南木扎尔特河谷的玉石矿或采石场，徒步距离近一百公里。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-a43f89007c2bc486b63dc457220c2400_b.png?rss\u0022 alt=\u0022v2-a43f89007c2bc486b63dc457220c2400_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003ED1. 乌鲁木齐—昭苏县—夏特温泉\u003C\/p\u003E\u003Cp\u003ED2. 夏特温泉—哈达木孜达坂脚下\u003C\/p\u003E\u003Cp\u003ED3. 登上哈达木孜达坂\u003C\/p\u003E\u003Cp\u003ED4. 跨越木扎尔特冰川\u003C\/p\u003E\u003Cp\u003ED5～D6. 下木扎尔特冰川—进入南木扎尔特河谷\u003C\/p\u003E\u003Cp\u003E离开了古堡，下冰川后就进入了南木扎尔特河谷，很快就会踏上河东岸的古道，沿古道一路下行，两天时间行进约50公里抵达玉石矿或采石场，与接应的车会合。（要抵达玉石矿需渡过南木扎尔特河，6月中旬至9月初河水暴涨，难以渡河，夏特古道也无法穿越）\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E2.湛蓝幽静的天堂湖 —包扎墩乌孙古道\u003C\/p\u003E\u003Cp\u003E包扎墩乌孙古道穿越难度和夏特古道相当，但距离要长于夏特古道，需要徒步要6天，穿越线路崎岖险恶，不但要翻越3660米的包扎墩达坂和海拔3900米的阿克布拉克达坂，还要有极大的勇气借助溜索渡过汹涌的科克苏河。 \u003C\/p\u003E\u003Cp\u003E包扎墩乌孙古道沿途河谷纵深，激流汹涌，湛蓝幽静的天堂湖像一颗璀璨的明珠成为古道的一道风景线，你穿行在古道之中，在挑战自我的同时还能尽情地欣赏西天山奇特的自然风光。 \n\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-42d91032b8e09beef6714d039b7457d5_b.png?rss\u0022 alt=\u0022v2-42d91032b8e09beef6714d039b7457d5_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E路线攻略：\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E从乌鲁木齐乘长途车到特克斯县用时16小时。在特克斯县到穹库什台牧业村96公里，租车三小时可到达。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-bb47b564b85e25610f24b3d742f5b412_b.png?rss\u0022 alt=\u0022v2-bb47b564b85e25610f24b3d742f5b412_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003ED1～D2. 乌鲁木齐—特克斯县—穹库什台牧业村\u003C\/p\u003E\u003Cp\u003ED3. 穹库什台牧业村—海拔2850米小木屋,徒步距离15公里\u003C\/p\u003E\u003Cp\u003ED4. 海拔2850米小木屋—包扎墩达坂—科克苏河边小木屋，徒步距离20公里\u003C\/p\u003E\u003Cp\u003ED5. 溜索过河—阿克布拉克林管站，徒步25公里\u003C\/p\u003E\u003Cp\u003ED6. 阿克布拉克林管站—天堂湖，徒步25公里\u003C\/p\u003E\u003Cp\u003ED7.天堂湖—阿克布拉克达坂—博奥孜克里克河谷，徒步30公里\u003C\/p\u003E\u003Cp\u003ED8. 博奥孜克里克河谷—黑英山山口徒步25公里\u003C\/p\u003E\u003Cp\u003ED9. 返回乌鲁木齐\u003C\/p\u003E\u003Cp\u003E3.穿越密林险峡 —车师古道\u003C\/p\u003E\u003Cp\u003E早在西汉时期,西域的车师国分为前、后两部，前部位于博格达以南，其都城驻吐鲁番的交河故城；后部位于博格达以北，王庭在今吉木萨尔县城北的北庭古城。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-45c6772caae1529eb4150afdcb17c231_b.png?rss\u0022 alt=\u0022v2-45c6772caae1529eb4150afdcb17c231_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E当年车师、后国的商贸交易、信息传递、消夏越冬，通常是由吐鲁番越过天山石窑子达坂（琼达坂）到吉木萨尔。这是一条跨越天山的南北古道，后人称之为车师古道。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E古道分南北两段，由于气候的原因，自然景观相差迥异，泉子街一带属天山北坡，水草丰盛，当你进入羊圈沟，蜿蜓的山间小道沿着黛色山体傍河延展，有的路段在崖岩中盘旋，直插云端，有的路段铺设在五彩缤纷的花草坡上，也有的路段跨急流，穿密林，过险峡，狭隘处不足两米。\u003C\/p\u003E\u003Cp\u003E每到盛夏沟谷中河水湍急，古道在河谷两旁绕行，在通往琼达坂的途中要过六道木桥。 \n\u003C\/p\u003E\u003Cp\u003E路线攻略：\u003C\/p\u003E\u003Cp\u003ED1. 从乌鲁木齐乘班车到达160公里外的吉木萨尔县，租车行驶30公里抵达泉子街羊圈沟口。当天行进10公里，到达四道桥。\u003C\/p\u003E\u003Cp\u003ED2. 沿着山谷逆流而上，徒步15公里通过六道桥，在琼达坂下的高山草甸下扎营。\u003C\/p\u003E\u003Cp\u003ED3. 翻越琼达坂进入天山以南，沿干枯的山谷下行25公里抵达谷口，见到一条较大的河流，当天在河畔露营。琼达板海拔3400米，是古道的最高点，也是南北天山的分水岭。达坂上可见不知何时建造的神秘古堡，在达坂最高处有用石头垒起的石塔。即使在盛夏，达坂上也常是风雪交加。沿河下行五公里抵达五星牧场接待站，乘预定的车经达坂城返回乌鲁木齐。也可以租当地牧民的车，到达五星牧场，再乘班车到达吐鲁番后换乘班车返回乌鲁木齐。还可以到大河沿转乘火车返回乌鲁木齐。\u003C\/p\u003E\u003Cp\u003E4.高峡平湖寒光四射 —穿越博格达\u003C\/p\u003E\u003Cp\u003E不论你站在新疆首府乌鲁木齐的哪个角落向东眺望，都可见一座冰峰拔地而起，像一把利剑直插云天。这就是天山东段著名高峰——博格达峰。 \n\u003C\/p\u003E\u003Cp\u003E海拔5445米的主峰东西侧分别排列着七座5000米以上的高峰。博格达脚下是著名的风景游览胜地——天池，湖水清澈，绿如碧玉，倒映着参天云杉和银色雪峰。 \n\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-f2566e427602472727b10e0cdaaf26d4_b.png?rss\u0022 alt=\u0022v2-f2566e427602472727b10e0cdaaf26d4_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E翻越天山触摸博格达峰徒步探险线路是一条经典的徒步线路。徒步者从天山南坡的名镇—达板城进山，翻越博格达三个岔达坂，抵达天山北坡的天池风景区。 \n\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-f27c042033211e132c589fcc8085a6b5_b.png?rss\u0022 alt=\u0022v2-f27c042033211e132c589fcc8085a6b5_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E南北跨越使徒步者不但领略了南北天山截然不同的地貌植被，还能置身于冰峰雪岭之中目睹高耸入云的博格达雪山和山下风光秀丽的高山湖泊—天池。 \n\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E路线攻略：\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003ED1、乌鲁木齐－达坂城—三个岔沟口—二号羊圈\u003C\/p\u003E\u003Cp\u003ED2、二号羊圈—四号羊圈—登山大本营\u003C\/p\u003E\u003Cp\u003ED3、登山大本营—三个岔达坂（或以肯起达坂）—大冬沟（或将军沟）—天池\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E5.触摸天山之巅—穿越托木尔峰\u003C\/p\u003E\u003Cp\u003E托木尔峰周围有6000米以上的高峰15座，6800米以上的高峰5座，是天山山脉的高峰密集区，也是我国最大的冰川作用中心，有冰川约509条，冰川面积占天山山脉冰川总面积的四分之一，孕育了塔里木河的最大支流阿克苏河，更是阿克苏绿洲的生命之源。 \n\u003C\/p\u003E\u003Cp\u003E同时也是西伯利亚与帕米尔、昆仑山之间物种交换桥梁的重要组成部分。托木尔峰附近2376平方公里是国家级综合性保护区自然保护区。保护对象主要有森林，高山药用植物，冰川，众多的野生动物如雪豹、马、雪鸡等。这里是旅游、登山、科学考察的胜地。 \n\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-596e5f9e052cf5949bbcfe04eb561557_b.png?rss\u0022 alt=\u0022v2-596e5f9e052cf5949bbcfe04eb561557_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E路线攻略：\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E从乌鲁木齐乘车行驶1000公里抵达阿克苏市，在经温宿北上，行驶70公里抵达塔克拉克牧场。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003ED1. 乘车从乌鲁木齐出发，当天抵达阿克苏市。\u003C\/p\u003E\u003Cp\u003ED2. 乘车行驶三小时经台兰电站，塔克拉克牧场和保护区管理站进入托木尔峰自然保护区的平台子旅游区。\u003C\/p\u003E\u003Cp\u003ED3. 租用马匹驮运物资，沿着台兰河谷徒步15公里到达苏布塔什。\u003C\/p\u003E\u003Cp\u003ED4. 继续沿着台兰河谷向北行进13公里抵达海拔3200米的琼台兰冰川末端。\u003C\/p\u003E\u003Cp\u003ED5. 沿西琼台兰冰川行进六公里抵达海拔3600米的中间营地。\u003C\/p\u003E\u003Cp\u003ED6. 跨越琼台兰冰川抵达海拔3900米的登山大本营。\u003C\/p\u003E\u003Cp\u003ED7. 以大本营为基地，考察琼台兰冰川、托木尔峰以及科其咯尔峰。\u003C\/p\u003E\u003Cp\u003ED8～D9. 返回平台子旅游区，乘车返回阿克苏市。\u003C\/p\u003E\u003Cp\u003ED10. 乘车返回乌鲁木齐市。\u003C\/p\u003E\u003Cp\u003E6.荒野英雄—狼塔之路\u003C\/p\u003E\u003Cp\u003E狼塔之路是穿越北天山较为漫长和艰辛的徒步线路。它起始于呼图壁河谷，翻越五个近4000米的达坂，行程140多公里抵达巴伦台。 \n\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-f7a0eeb8cc8b1821564e199bd8430d8d_b.png?rss\u0022 alt=\u0022v2-f7a0eeb8cc8b1821564e199bd8430d8d_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E由于进山线路极其艰险漫长，当地牧民也很少接近。在后山纵深130公里的无人区里，冰山隘口令人生畏，那里是野生动物的乐园，也是冒险家向往之地。\u003C\/p\u003E\u003Cp\u003E狼塔之路正是穿越这一地区抵达南疆巴伦台的一条漫长和艰险的徒步线路。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-8a1566d804ce0d269429b36ea22af4cb_b.png?rss\u0022 alt=\u0022v2-8a1566d804ce0d269429b36ea22af4cb_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E路线攻略：\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E从乌鲁木齐乘班车行驶70公里抵达呼图壁县，再转乘班车行驶60公里抵达106团煤矿。\u003C\/p\u003E\u003Cp\u003ED1. 呼图壁雀尔沟106团煤矿—呼图壁林场\u003C\/p\u003E\u003Cp\u003ED2. 希勒木呼—喀拉莫依纳克高山牧场\u003C\/p\u003E\u003Cp\u003ED3. 翻越白扬沟冰达坂\u003C\/p\u003E\u003Cp\u003ED4. 沿发源于河源峰的台普希克马河而上\u003C\/p\u003E\u003Cp\u003ED5. 翻过库拉阿特腾阿苏达坂进入狼塔的高山牧场\u003C\/p\u003E\u003Cp\u003ED6. 穿越狼塔高山牧场\u003C\/p\u003E\u003Cp\u003ED7. 翻越兰特开曾达坂抵达哈拉哈特\u003C\/p\u003E\u003Cp\u003ED8. 翻越哈拉哈特达坂抵达乌鲁木齐牧场\u003C\/p\u003E\u003Cp\u003ED9. 徒步20公里抵达终点古仁格勒村\u003C\/p\u003E\u003Cp\u003E很难用一个词、一句话甚至一篇文章来概括天山，却很容易找出一条、十条甚至一百条迷恋的理由。面对个性彰显、风貌独具的地方，你到底要什么？这6条天山路线，值得一探。 \n\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E四川六大经典徒步路线\u003C\/b\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E热爱山峰和徒步的小伙伴，都绕不开四川这个户外大本营。从入门级的雪山攀登四姑娘大峰、二峰、都日峰、半脊峰，到阿式攀登难度极高的幺妹峰，大岩壁攀登的代表布达拉峰……四川拥有可以与阿尔卑斯地区媲美的大量山峰资源，丰富优质的攀冰攀岩线路，以及难以数尽的优质徒步线路，四川可以说是最具有潜力的世界级户外天堂。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E1.贡嘎穿越\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-38c97b813cc09ac2fd392bb97329d387_b.png?rss\u0022 alt=\u0022v2-38c97b813cc09ac2fd392bb97329d387_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E线路简介：中国十大徒步经典路线之一\u003C\/p\u003E\u003Cp\u003E贡嘎穿越现在相信不用多作介绍，大家都非常的清楚。而目前贡嘎线的路线也比较多，简单来讲有以下三种：\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E贡嘎全线穿越（又称南北大穿越，老榆林电站-格西草原-日乌且沟-日乌且垭口-莫溪沟-贡嘎寺-子梅垭口-子梅村-巴望海-草科乡，正反穿均可） \n\u003C\/li\u003E\u003C\/ul\u003E\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003E反穿行程安排： \n\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EDay1：成都-雅安-石棉-草科乡-烂碉房-巴望海（露营）\u003C\/p\u003E\u003Cp\u003EDay2：巴望海-子梅村-子梅垭口-下子梅村（住宿）\u003C\/p\u003E\u003Cp\u003EDay3：下子梅村-三岔口-贡嘎寺-三岔口-莫溪沟沟尾（露营）\u003C\/p\u003E\u003Cp\u003EDay4：莫溪沟沟尾-冬季牧场-莫溪沟小海子-勒多曼因登山大本营（露营）\u003C\/p\u003E\u003Cp\u003EDay5：勒多曼因登山大本营-日乌且垭口-上日乌切-下日乌切-两河口（露营）\u003C\/p\u003E\u003Cp\u003EDay6：两河口-格西草原-老榆林电站-成都\u003C\/p\u003E\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003E正穿行程安排： \n\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EDay1：成都-雅安-石棉-磨西古镇-雅家梗-老榆林电站-格西草原营地（露营）\u003C\/p\u003E\u003Cp\u003EDay2：格西草原-两河口-下日乌切-上日乌切（露营）\u003C\/p\u003E\u003Cp\u003EDay3：上日乌切-日乌且垭口-勒多曼因登山大本营-莫溪沟头营地（露营）\u003C\/p\u003E\u003Cp\u003EDay4：莫溪沟头营地-莫溪沟小海子-冬季牧场-贡嘎寺（露营或住宿）\u003C\/p\u003E\u003Cp\u003EDay5：贡嘎寺-子梅垭口-子梅村-巴望海营地（露营）\u003C\/p\u003E\u003Cp\u003EDay6：巴望海-烂碉房-草科乡-成都\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-0f44c5e93298dc18e33556f2245922d3_b.png?rss\u0022 alt=\u0022v2-0f44c5e93298dc18e33556f2245922d3_b.pn\u0022\u003E\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E环线穿越（一般作为第1种的备用路线，日乌且垭口有时积雪太深，就从盘山垭口穿越，老榆林电站-格西草原-两河口-盘盘山垭口-玉龙西村-玉龙西垭口-贡嘎寺-子梅垭口-子梅村-巴望海） \n\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EDay1：成都-雅安-石棉-磨西古镇-雅家梗-老榆林电站-格西草原营地（露营）\u003C\/p\u003E\u003Cp\u003EDay2：格西草原-两河口-盘盘山哑口下营地（露营）\u003C\/p\u003E\u003Cp\u003EDay3：盘盘山垭口下营地-盘盘山垭口-过哑口后山下营地（露营）\u003C\/p\u003E\u003Cp\u003EDay4：垭口下营地-玉龙西村\u003C\/p\u003E\u003Cp\u003EDay5：玉龙西村-玉龙西垭口-贡嘎寺-子梅村\u003C\/p\u003E\u003Cp\u003E备注：在玉龙西村可以选择坐车直接到子梅垭口露营或者再到子梅村，也可以选择徒步走玉龙西垭口下到三岔路口途经贡嘎寺再到子梅村\u003C\/p\u003E\u003Cp\u003EDay6：子梅村-子梅垭口-巴望海-成都\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-5cad48e4aa3b928e1a98375bd1fc2665_b.png?rss\u0022 alt=\u0022v2-5cad48e4aa3b928e1a98375bd1fc2665_b.pn\u0022\u003E\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E贡嘎西南坡穿越（草科乡-巴望海-子梅村-子梅垭口-上木居） \n\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E备注：贡嘎线全线可选则的营地较多，根据自身时间和体力可以合理自由安排，以上线路均为本人亲自多次带队，总结的个人意见，仅供参考。\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E2.洛克穿越\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-2401a5af19d9866f6eb08dae42bfb1ff_b.png?rss\u0022 alt=\u0022v2-2401a5af19d9866f6eb08dae42bfb1ff_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E线路简介：中国十大徒步经典路线之一\u003C\/p\u003E\u003Cp\u003E“我情愿死在这美丽的大山里也不要在医院冰冷的床上。”这是美国探险家“洛克”徒步考察后与其朋友的信件中说过的话。从木里徒步到稻城的这条线后来以洛克穿越为之命名。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-68bcdc4ec06d64e304cbe5778b42476f_b.png?rss\u0022 alt=\u0022v2-68bcdc4ec06d64e304cbe5778b42476f_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003EDAY1：成都——西昌（交通工具：火车）\u003C\/p\u003E\u003Cp\u003EDAY2：西昌——木里（交通工具：大巴车，晚上住宿木里县城）\u003C\/p\u003E\u003Cp\u003EDAY3：木里(2700M)—— （包车10小時）—— 嘟嚕村（2400M）宿：水洛嘟噜村（藏族民居）\u003C\/p\u003E\u003Cp\u003EDAY4：嘟嚕村（2400M）——（7小時） ——牛顿营地（3600M）（露营）\u003C\/p\u003E\u003Cp\u003EDAY5：牛顿营地（3600M） ——（1小時）——满措牛场（3750M）—— （3小時）——藏别牛场（4050M）——（2小時）——万花池牛场（4150M）\u003C\/p\u003E\u003Cp\u003EDAY6：万花池牛场（4150M）——杂巴拉哑口（4700M）——新果牛場 （4250M）（露营）\u003C\/p\u003E\u003Cp\u003EDAY7：新果牛場（4250M）——（4小時）——黑湖哑口（4600M）——勒西措湖边营地（也叫蛇湖营地）（4520M）（露营）\u003C\/p\u003E\u003Cp\u003EDAY8：蛇湖营地（4520M）——（1小時）——松多哑口（4700M）——洛絨牛場（4100M）——冲古寺（4000M）——亚丁村（3980M）——香格里拉乡。\u003C\/p\u003E\u003Cp\u003EDAY9：稻城（3700M）——理塘（4014M）——新都桥(3300M)——成都\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E3、泸沽湖稻城亚丁穿越\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-c21b3312af4c179e3e060643358d0c2a_b.png?rss\u0022 alt=\u0022v2-c21b3312af4c179e3e060643358d0c2a_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E线路简介：\u003C\/p\u003E\u003Cp\u003E从云南泸沽湖徒步穿越到四川稻城亚丁这条线路，为古代茶马古道一部分，是古时茶马互市的重要驿道。2003年出版的《中国徒步穿越》将这条线列为中国徒步穿越的经典线路，其吸引力指数不断攀升，即便再异常艰辛的旅程也未能阻挡徒步者前行的步伐。简单的来说洛克线就是此线的浓缩之精华，如果时间充裕，建议行走此线，横跨云南四川两省，将风光一网打尽。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-ba10f057e2dd15d0ca2bb1bcf32fb4b6_b.png?rss\u0022 alt=\u0022v2-ba10f057e2dd15d0ca2bb1bcf32fb4b6_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003ED1：成都-西昌-泸沽湖（住宿）；\u003C\/p\u003E\u003Cp\u003ED2：泸沽湖——温泉乡(2500)——岔路马道上山——利加嘴村(2600，露营)；\u003C\/p\u003E\u003Cp\u003ED3：利加嘴村——屋脚村——屋脚乡——葛嘎折——爬菩萨山——羊棚(3500，露营)；\u003C\/p\u003E\u003Cp\u003ED4：羊棚——牛棚—800米的达克谷多垭口——(山腰上绕过卡尔牧场)——(缓坡登山)——雀儿山山坳(4200，露营)\u003C\/p\u003E\u003Cp\u003ED5：雀儿山山坳——(缓坡上山)——塔斯沟垭口(3900)——塔斯沟——4000米山腰——邛引村(3000，露营)；\u003C\/p\u003E\u003Cp\u003ED6：邛引村——邛引山垭口——卢杜村——通天河边——水洛桥——通天河边露营地(2000，露营)；\u003C\/p\u003E\u003Cp\u003ED7:通天河边营地——东拉村———杜鲁村——四家村——金矿（露营）；\u003C\/p\u003E\u003Cp\u003ED8：金矿——嘎洛村——嘎洛牧场——嘎洛垭口——嘎洛牧场；\u003C\/p\u003E\u003Cp\u003ED9：嘎洛牧场——嘎洛垭口——4800米的夏洛多吉垭口——冲古寺；\u003C\/p\u003E\u003Cp\u003ED10:冲古寺——洛绒牛场——五色海——牛奶海——央迈勇雪山垭口——结珠海————亚丁\u003C\/p\u003E\u003Cp\u003ED11：卡斯地狱谷口——穿卡斯地狱谷——卡斯村；\u003C\/p\u003E\u003Cp\u003ED12：卡斯村——俄初村——日瓦乡——稻城(3700)；\u003C\/p\u003E\u003Cp\u003ED13：稻城-新都桥-康定-成都\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E4、格聂大转山穿越\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-678daf91d9416f4a22fed944efe90d02_b.png?rss\u0022 alt=\u0022v2-678daf91d9416f4a22fed944efe90d02_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E1877年，William Gill第一次看到了格聂峰，他在日记中写道：“没有任何词语可以形容这座高大的山峰，在这里旅行者可以体会到藏族人民的心情，不由自主地称之为圣山……”主峰海拔6204米，位于四川理塘县西南部，是藏传佛教24神山中的第13女神，历史上众多高僧的苦修之地，也是南康巴地区藏传佛教的发祥地。格聂徒步转山现在有两条路线供参考，一条简易路线，一条大环线。\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E大环线 \n\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E知道格聂已有几年，曾看到一篇名为“因为你，我在这里——格聂大转记”深深的吸引着我，一次又一次的翻看这篇游记，其路线风景着实震撼人心，有生之年，势必将要亲身感受。200公里徒步里程，连续翻越5个5000+的垭口，雪山、森林、深谷、广褒的草原，神山，牧人，湛蓝的天空！\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-ae193f5efdd4c7cf903fea3fabf3002d_b.png?rss\u0022 alt=\u0022v2-ae193f5efdd4c7cf903fea3fabf3002d_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003ED1、成都——康定——理塘\u003C\/p\u003E\u003Cp\u003ED2、理塘——喇嘛垭乡——乃干多\u003C\/p\u003E\u003Cp\u003ED3、乃干多——冷谷寺——虎皮坝\u003C\/p\u003E\u003Cp\u003ED4、虎皮坝——岛岛\u003C\/p\u003E\u003Cp\u003ED5、岛岛——耶勒  \u003C\/p\u003E\u003Cp\u003ED6、耶勒——谷口 \u003C\/p\u003E\u003Cp\u003ED7、谷口——达休阔\u003C\/p\u003E\u003Cp\u003ED8、达休阔——哈嘎拉措\u003C\/p\u003E\u003Cp\u003ED9、哈嘎拉措——哈日翁青措\u003C\/p\u003E\u003Cp\u003ED10、哈日翁青措——若根措\u003C\/p\u003E\u003Cp\u003ED11、若根措——阿沙沟\u003C\/p\u003E\u003Cp\u003ED12、阿沙沟——阿沙沟底 \u003C\/p\u003E\u003Cp\u003ED13、阿沙沟底——强隆隆巴\u003C\/p\u003E\u003Cp\u003ED14、强隆隆巴——库日岗棍巴 \u003C\/p\u003E\u003Cp\u003ED15、库日岗棍巴——喇嘛垭——理塘\u003C\/p\u003E\u003Cp\u003ED16、理塘——康定——成都\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-da7fae321570c40140875f0342e6e0e5_b.png?rss\u0022 alt=\u0022v2-da7fae321570c40140875f0342e6e0e5_b.pn\u0022\u003E\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E简易路线 \n\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003ED1：成都-137km-雅安-110km-二郎山-28km-泸定-49km-康定-76km-新都桥\u003C\/p\u003E\u003Cp\u003ED2：新都桥-69km-雅江-149km-理塘\u003C\/p\u003E\u003Cp\u003ED3：理塘-2km-长青春科尔寺-1km-****台-52km-毛垭大草原\u003C\/p\u003E\u003Cp\u003ED4：毛垭大海子-52km-理塘-20km-铁匠山垭口-61km-章纳乡\u003C\/p\u003E\u003Cp\u003ED5：章纳乡-6km-乃干多村-7km-虎皮坝（徒步）\u003C\/p\u003E\u003Cp\u003ED6：虎皮坝-3km-冷古寺-10km-乃干多村（徒步）\u003C\/p\u003E\u003Cp\u003ED7：乃干多村-6km-则通村-4km-拉在垭口-4km-喇嘛垭-71km-理塘（徒步）\u003C\/p\u003E\u003Cp\u003ED8：理塘-294km-康定-390km-成都\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E5.七藏沟穿九寨沟\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-f681f808992e3bb5134341eb8dde5d25_b.png?rss\u0022 alt=\u0022v2-f681f808992e3bb5134341eb8dde5d25_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E线路简介：\u003C\/p\u003E\u003Cp\u003E“七藏沟”对于目前稍微资深一点驴友来说，已变得不再陌生，伴随着牛背山的开发，接下来最有可能步其后路。一个原始静谧，一个以天堂之美闻名于世。“身体下地狱，眼睛上天堂”这就是七藏沟穿越九寨沟一线。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-aba97bb4cdd7af6e137511bd2246a316_b.png?rss\u0022 alt=\u0022v2-aba97bb4cdd7af6e137511bd2246a316_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003ED1，成都茶店子（集合地）出发，晚上住宿松潘县古城。\u003C\/p\u003E\u003Cp\u003ED2，成都-川主寺——卡卡沟——长海子营地\u003C\/p\u003E\u003Cp\u003ED3，长海子营地——鱼海子营地\u003C\/p\u003E\u003Cp\u003ED4，鱼海子营地-——红星海子（4200垭口）——鱼海子营地（往返16km宿营）\u003C\/p\u003E\u003Cp\u003ED5，鱼海子营地——三道坪营地（3900）（19km左右翻4200垭口）\u003C\/p\u003E\u003Cp\u003ED6，三道坪营地（3900）——则藏海（4300）——源海（15km左右翻4300垭口）\u003C\/p\u003E\u003Cp\u003ED7，源海——长海——九寨沟（8km，露营景区）\u003C\/p\u003E\u003Cp\u003ED8，九寨沟景区——成都 \u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E6、长平沟穿毕棚沟\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-7e9a0242792ce5dbc926d352a0ab2341_b.png?rss\u0022 alt=\u0022v2-7e9a0242792ce5dbc926d352a0ab2341_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E线路简介：中国十大徒步经典穿越线路之一\u003C\/p\u003E\u003Cp\u003E长坪沟穿毕棚沟简称“长穿毕”，被世人评为中国最著名的户外穿越线路之一，这条穿越线路将四姑娘山、米亚罗这两大风光绝美的景区完美地串接起来。\u003C\/p\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003ED1：成都——都江堰——映秀——卧龙日隆\u003C\/p\u003E\u003Cp\u003ED2：日隆——喇嘛寺——枯树滩——木骡子\u003C\/p\u003E\u003Cp\u003ED3：木骡子——3km——打水坝——叉子沟\u003C\/p\u003E\u003Cp\u003ED4：叉子沟尾——垭口——三颗树——上海子接待站——成都\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E7.龙眼穿越\u003C\/b\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E线路简介：\u003C\/p\u003E\u003Cp\u003E同样位于四姑娘山深处的一条穿越线，在四川，这是一条成为强驴挑战的穿越线路，当地向导都不愿意带路。龙眼，位于四川省四姑娘山深处。当地类似一个盆地，四周都是4、5千米海拔的雪山环绕，山顶终年积雪，山腰处数十条瀑布飞流而下，小的几十米高、大的上百米，其中一处自山腰一洞中喷射而下，落入下面石台分成几股，再下，再分，颇为壮观，其壮如龙吐水，故名“龙眼”。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-f7dc30ba3718d72847fffbe3b0ce0e1a_b.png?rss\u0022 alt=\u0022v2-f7dc30ba3718d72847fffbe3b0ce0e1a_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003ED1：成都——日隆镇（3950米）\u003C\/p\u003E\u003Cp\u003ED2：日隆镇（3100米）——大黄棚子（3950米）\u003C\/p\u003E\u003Cp\u003ED3：大黄棚子（3950米）——犀牛海垭口（4600米）——热水垭口（4680米）——热水沟营地（3470米）\u003C\/p\u003E\u003Cp\u003ED4：热水沟营地（3470米）——耙子桥垭口（4700米）——耙子桥沟尾营地（4460米）\u003C\/p\u003E\u003Cp\u003ED5：耙子桥沟尾营地（4460米）——耙子桥牛棚（3350米）\u003C\/p\u003E\u003Cp\u003ED6：耙子桥牛棚（3350米）——石遭垭口（3900米）——卧龙（2050米）——成都\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E8.雅拉穿越\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003E线路简介：雅拉雪山，藏语全称为“夏学雅拉嘎波”（意为东方白牦牛山），系我国藏区四大神山之一。该山地跨道孚、康定、丹巴三县，其西北面与塔公草原相连，形成雪山与草原交相辉映的壮美景观。雅拉雪山主峰海拔5820米，为四川大雪山山脉的第二高峰，终年积雪覆盖，盛夏时日，在如花似锦的塔公草原上观瞻雅拉雪峰，有如临仙界之感。藏传古籍《神山志易入解脱之道》中对该山的记载，称其为“第二香巴拉”。 \n\u003C\/p\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003ED1、成都-康定-中谷村\u003C\/p\u003E\u003Cp\u003ED2、中谷村（海拔3002米）－烂泥滩-新店子（海拔3600米，露营）。\u003C\/p\u003E\u003Cp\u003ED3、新店子牧场（海拔3600米）－雅拉垭口（海拔4216米）-姐妹海子（海拔4200米）－雅拉友措（海拔3980米，露营）。\u003C\/p\u003E\u003Cp\u003ED4、雅拉友措（海拔3980米）-台站沟矿场（海拔3570米）-台站沟口（海拔3400米）-八丹公路（到丹巴58公里）-丹巴——成都\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E9.挖黑罗豁穿越\u003C\/b\u003E \u003C\/p\u003E\u003Cp\u003E线路简介：\u003C\/p\u003E\u003Cp\u003E挖黑罗豁：来自彝语，大意是“最高的地方”：海拔4000余米，位于四川省乐山市峨边彝族自治县勒乌乡与万坪乡的交界处。距离成都约300公里。山顶是壮观的万亩草坪，周围林海苍茫。云海非常漂亮，天气晴好时可以远眺贡嘎雪山。穿越线路从哈曲乡徒步开始，横跨挖黑罗豁主峰，从柑子口村出来，目前这条路线鲜为人知。备注：目前去该地徒步的大都为柑子口村上往返路线。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-89ad7c6bfa32d64ae05ddbb1ab0b6b48_b.png?rss\u0022 alt=\u0022v2-89ad7c6bfa32d64ae05ddbb1ab0b6b48_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003ED1：成都——峨眉——峨边——哈曲乡（出行方式：中巴车依维柯，约5个小时车程。晚上11点00抵达，住宿哈曲乡旺江客栈）\u003C\/p\u003E\u003Cp\u003ED2：哈曲乡（中巴车送往）——巴溪村（徒步起点，海拔1400M）——大小杜娟池（一号营地，海拔2600M，全程约10公里，约5-7个小时，路缓好走）；\u003C\/p\u003E\u003Cp\u003ED3：大小杜娟池营地（2600M)——挖黑罗豁主峰（4000M）——挖黑罗豁营地（海拔3300M）；\u003C\/p\u003E\u003Cp\u003ED4：挖黑罗豁营地（3300M)——柑子口村（海波1800M）\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E10.峨眉后山穿越\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-5420105d3a8d9ca354a18c47f2b7516a_b.png?rss\u0022 alt=\u0022v2-5420105d3a8d9ca354a18c47f2b7516a_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E线路简介：\u003C\/p\u003E\u003Cp\u003E峨眉后山穿越前山的路线比较多，这些路线据当地讲，是以前山下的人为山上的寺庙运输粮食素菜行走出来的道路，根据自身的体力选择不同难度的路线挑战。总的来说有以下四条穿越路线，其中第一条走的人较多，舍身崖路线非常的虐。\u003C\/p\u003E\u003Cp\u003E1、峨嵋--龙池--黑桃坝--万佛顶--金顶（峨嵋后山经典穿越线路）\u003C\/p\u003E\u003Cp\u003E2、峨嵋--大沟--丫头崖--鸡公闸--老板厂--摸耳崖--万佛顶--金顶（穿越线路）\u003C\/p\u003E\u003Cp\u003E3、峨嵋--张沟--伽担湾--晒狮崖--河边崖（三宵洞）--雷洞坪--金顶（穿越线路）\u003C\/p\u003E\u003Cp\u003E4、峨眉--万年寺--麻子坝--弓背山--洗象池--雷洞坪--金顶（穿越线路）\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-2098243f988b349abd18f058508dd519_b.png?rss\u0022 alt=\u0022v2-2098243f988b349abd18f058508dd519_b.pn\u0022\u003E\u003C\/p\u003E\u003Cp\u003E行程安排：\u003C\/p\u003E\u003Cp\u003E具体就不详细划分，基本上第一天成都出发到达徒步起点目的地，第二天一天时间上山到，第三天选择前山坐车从报国寺出。\u003C\/p\u003E\u003Cp\u003E以上新疆路线来自于户外探险杂志\u003C\/p\u003E\u003Cp\u003E四川来自于户外探险特约作者贰哥\u003C\/p\u003E\u003Cp\u003E——end——\u003C\/p\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/hu-wai-tan-xian-za-zhi?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003E户外探险杂志\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n此问题还有 \u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/19712162\/answer\/149525480?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E20 个回答，查看全部。\u003C\/a\u003E\u003Cbr\u003E \n                延伸阅读：\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/19975024?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E你骑行过哪些地方？经历是怎样的？\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/28071260?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E徒步美国 Pacific Crest Trail (PCT) 是怎样一种体验？\u003C\/a\u003E\u003Cbr\u003E"},"author":"户外探险杂志","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1489151358000","timestampUsec":"1489151358000000","id":"tag:google.com,2005:reader\/item\/000000029b77c86a","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"Excuse me？这个前端面试在搞事！","published":1489149000,"updated":0,"starred":1489151358,"canonical":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25407758?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25407758?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-2341c755152ca9e78446fcfcb8945b6a_b.png\u0022 width=\u00221860\u0022 alt=\u0022v2-2341c755152ca9e78446fcfcb8945b6a_b.pn\u0022\u003E\u003Cp\u003E金三银四搞事季，前端这个近年的热门领域，搞事气氛特别强烈，我朋友小伟最近就在疯狂面试，遇到了许多有趣的面试官，有趣的面试题，我来帮这个搞事 boy 转述一下。\u003C\/p\u003E\u003Cblockquote\u003E以下是我一个朋友的故事，真的不是我。\u003C\/blockquote\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003Efor\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E0\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E\u0026lt;\u003C\/span\u003E \u003Cspan\u003E5\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E++\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E“小伟，你说说这几行代码会输出什么？”\u003C\/p\u003E\u003Cp\u003E当面试官在 Sublime 打出这几行代码时，我竟有点蒙蔽。蛤？这不是最简单的一个循环吗？是不是有陷阱啊，我思索一下，这好像和我看的那个闭包的题很像啊，这面试官是不是没写完啊？有毒啊。\u003C\/p\u003E\u003Cp\u003E“应该是直接输出 0 到 4 吧...”，我弱弱的说到。\u003C\/p\u003E\u003Cp\u003E“是啊，别紧张，这题没啥陷阱，我就是随便写一下。”\u003C\/p\u003E\u003Cp\u003E（Excuse me？面试官你是来搞笑的吗，吓死老子了！）\u003C\/p\u003E\u003Cp\u003E“那你在看看这几行代码会输出什么？”\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003Efor\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E0\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E\u0026lt;\u003C\/span\u003E \u003Cspan\u003E5\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E++\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003EsetTimeout\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E()\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n    \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n  \u003Cspan\u003E},\u003C\/span\u003E \u003Cspan\u003E1000\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E额，什么鬼，怎么还不是我背了那么多遍的那道闭包题，让我想想。 setTimeout 会延迟执行，那么执行到 console.log 的时候，其实 i 已经变成 5 了，对，就是这样，这么简单怎么可能难到老子。\u003C\/p\u003E\u003Cp\u003E“应该是开始输出一个 5，然后每隔一秒再输出一个 5，一共 5 个 5。”\u003C\/p\u003E\u003Cp\u003E“对，那应该怎么改才能输出 0 到 4 呢？”\u003C\/p\u003E\u003Cp\u003E终于到我熟悉的了，加个闭包就解决了，稳！\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003Efor\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E0\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E\u0026lt;\u003C\/span\u003E \u003Cspan\u003E5\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E++\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n    \u003Cspan\u003EsetTimeout\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E()\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n      \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n    \u003Cspan\u003E},\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003E1000\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n  \u003Cspan\u003E})(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E“很好，那你能说一下，我删掉这个 i 会发生什么吗？”\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003Efor\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E0\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E\u0026lt;\u003C\/span\u003E \u003Cspan\u003E5\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E++\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E()\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n    \u003Cspan\u003EsetTimeout\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E()\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n      \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n    \u003Cspan\u003E},\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003E1000\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n  \u003Cspan\u003E})(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E“这样子的话，内部其实没有对 i 保持引用，其实会变成输出 5。”\u003C\/p\u003E\u003Cp\u003E“很好，那我给你改一下，你看看会输出什么？”\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003Efor\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E0\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E\u0026lt;\u003C\/span\u003E \u003Cspan\u003E5\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E++\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003EsetTimeout\u003C\/span\u003E\u003Cspan\u003E((\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n    \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n  \u003Cspan\u003E})(\u003C\/span\u003E\u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E),\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003E1000\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E蛤？什么鬼，这是什么情况，让我想想。这里给 setTimeout 传递了一个立即执行函数。额，setTimeout 可以接受函数或者字符串作为参数，那么这里立即执行函数是个啥呢，应该是个 undefined ，也就是说等价于：\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003EsetTimeout(undefined, ...); \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E而立即执行函数会立即执行，那么应该是立马输出的。\u003C\/p\u003E\u003Cp\u003E“应该是立马输出 0 到 4 吧。”\u003C\/p\u003E\u003Cp\u003E“哎哟，不错哦，最后一题，你对 Promise 了解吧？”\u003C\/p\u003E\u003Cp\u003E“还可以吧...”\u003C\/p\u003E\u003Cp\u003E“OK，那你试试这道题。”\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003EsetTimeout\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E()\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E1\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \n\u003Cspan\u003E},\u003C\/span\u003E \u003Cspan\u003E0\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003Enew\u003C\/span\u003E \u003Cspan\u003EPromise\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E \u003Cspan\u003Eexecutor\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Eresolve\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E2\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n  \u003Cspan\u003Efor\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E \u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E0\u003C\/span\u003E \u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003E10000\u003C\/span\u003E \u003Cspan\u003E;\u003C\/span\u003E \u003Cspan\u003Ei\u003C\/span\u003E\u003Cspan\u003E++\u003C\/span\u003E \u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n    \u003Cspan\u003Ei\u003C\/span\u003E \u003Cspan\u003E==\u003C\/span\u003E \u003Cspan\u003E9999\u003C\/span\u003E \u003Cspan\u003E\u0026amp;\u0026amp;\u003C\/span\u003E \u003Cspan\u003Eresolve\u003C\/span\u003E\u003Cspan\u003E();\u003C\/span\u003E \n  \u003Cspan\u003E}\u003C\/span\u003E \n  \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E3\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E}).\u003C\/span\u003E\u003Cspan\u003Ethen\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Efunction\u003C\/span\u003E\u003Cspan\u003E()\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E4\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E});\u003C\/span\u003E \n\u003Cspan\u003Econsole\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Elog\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E5\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003EWTF！！！！我想静静！\u003C\/p\u003E\u003Cp\u003E这道题应该考察我 JavaScript 的运行机制的，让我理一下思路。\u003C\/p\u003E\u003Cp\u003E首先先碰到一个 setTimeout，于是会先设置一个定时，在定时结束后将传递这个函数放到任务队列里面，因此开始肯定不会输出 1 。\u003C\/p\u003E\u003Cp\u003E然后是一个 Promise，里面的函数是直接执行的，因此应该直接输出 2 3 。\u003C\/p\u003E\u003Cp\u003E然后，Promise 的 then 应当会放到当前 tick 的最后，但是还是在当前 tick 中。\u003C\/p\u003E\u003Cp\u003E因此，应当先输出 5，然后再输出 4 。\u003C\/p\u003E\u003Cp\u003E最后在到下一个 tick，就是 1 。\u003C\/p\u003E\u003Cp\u003E“2 3 5 4 1”\u003C\/p\u003E\u003Cp\u003E“好滴，等待下一轮面试吧。”\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003ESo easy！妈妈再也不用担心我的面试了。\u003C\/p\u003E\u003Cbr\u003E\u003Cblockquote\u003E以上文章，未经考证，如有雷同，纯属抄我！\u003C\/blockquote\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/zhuanlan.zhihu.com\/p\/25407758?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E知乎用户（登录查看详情）\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E"},"author":"知乎用户（登录查看详情）","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1489021865000","timestampUsec":"1489021865000000","id":"tag:google.com,2005:reader\/item\/000000029a81a4db","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"那些拖延帮我的忙","published":1489017448,"updated":0,"starred":1489021865,"canonical":[{"href":"http:\/\/songshuhui.net\/archives\/96895"}],"alternate":[{"href":"http:\/\/songshuhui.net\/archives\/96895","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cp\u003E本文作者：游识猷\u003C\/p\u003E \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/ww1.sinaimg.cn\/crop.0.0.1732.973.600\/6a4dabedjw1f7pp6r203pj21c40w34qp.jpg\u0022 alt=\u0022\u0022 width=\u0022600\u0022 height=\u0022337\u0022\u003E\u003C\/p\u003E \n\u003Cp\u003E债务不会忘记你，不管多久远。当我发现邮箱里躺着出版社编辑的信时，就像被好容易超度掉的厉鬼再度缠上一样。总之，编辑问，我翻译的那本科普书进度怎样了。\u003C\/p\u003E \n\u003Cp\u003E进度怎样？我压根不记得这回事！但gmail的搜索功能够好，我不得不直面自己两年前答应在八个月内翻译好那本书……然后我做了当下最符合直觉的反应：一个字也没回，直接关掉邮箱，转去做其他工作。但我的心底有个电子音每隔五分钟报时一次——“翻译书”，它说，“编辑，出版社，两年，邮件……”我停下工作，转在网上溜达，看到令人义愤填膺的新闻，就把它批驳一番。批无可批时，我关掉浏览器，开始玩windows自带的蜘蛛纸牌游戏——天知道我上次玩是什么时候，两年前？该死，怎么又想起两年啦。\u003C\/p\u003E \n\u003Cp\u003E当然我不是瞬间燃起了对蜘蛛纸牌的真爱，这只是一个逃避现实的“安全屋”。任外面电闪雷鸣，这里安安静静，只要将同花色的牌按大小摞到一起，噩运暂停，风雨不进，通关时甚至还有虚拟烟花绽放……\u003C\/p\u003E \n\u003Cp\u003E这就是拖延带给我的好处——内在的安全和平静，哪怕只是暂时的假象。\u003C\/p\u003E \n\u003Cp\u003E与拖延相处多年，我已经意识到拖延并不是我的敌人……不，与此相反，拖延是我招来的友军，是我在绝望中找到的出路。拖延主要带来两大类好处：\u003C\/p\u003E \n\u003Cp\u003E\u003Cstrong\u003E一，拖延让别人更爱你。\u003C\/strong\u003E\u003C\/p\u003E \n\u003Cp\u003E通过拖延，你在自己的成功路上设置障碍，最终你成功地和朋友家人抱团取暖，没有高升，就没有伤害。你不会因迅速升迁而远离老朋友。你也不需要搬到大城市或者飞来飞去，让依赖你的家人孤单伤感。\u003C\/p\u003E \n\u003Cp\u003E通过搁置自己的任务，去帮助他人，你收获了“人情”和感恩。你会觉得自己是个有牺牲精神的高尚之人，而且，你是无偿援助，你根本不可能做错——帮一分就该收获一分感谢，就算帮了倒忙，至少你是好意。\u003C\/p\u003E \n\u003Cp\u003E通过拖延你不情愿的请求，你可以避免跟别人正面冲突。当别人要你做一件你不想做的事情时，你可以假意答应，然后不断拖延——谁能怪你呢？你只是太忙了。同时，当你不得不伤害别人——比如告诉编辑“那本书我还没翻译完呢”这种悲惨时，难道不是多拖一秒都更好吗？\u003Cbr\u003E\u003Cstrong\u003E\u003Cbr\u003E \n二，拖延让你更爱自己。\u003C\/strong\u003E\u003C\/p\u003E \n\u003Cp\u003E拖延让你不必面对“我是不是能力不足”这个千古难题。有时你在最后阶段内做到了本来需要花更长时间的事——这正说明你能力高强。有时你成功拖到了时间根本不够用的时刻，于是失败是且只是拖延的锅……还有时，通过发展多种才艺，你成功地证明了自己文成武就能刺绣能打球，在重点事务上进展缓慢，只是因为兴趣广泛不够专注，绝不是因为能力不足……\u003C\/p\u003E \n\u003Cp\u003E拖延满足了你的完美主义。别人在进步，但那只是因为你看不上那些路。你不想用“此刻的状态”去抓“当下的机会”。你要等到“完全准备好时”再去抓“最适合自己的机会”——这样，你就不会在未来为了此刻的将就而懊恼。\u003C\/p\u003E \n\u003Cp\u003E拖延让你减少对自己的攻击。通过全神贯注地看你不想看的书，玩你不想玩的游戏，刷你不想刷的网，你忘却了对当下的自己的不满。\u003C\/p\u003E \n\u003Cp\u003E拖延让你找回控制感。当有人吩咐你做事时，你虽然不敢说“不”，但你可以不断拖延，“没人能命令我做我不想做的事”，你心满意足，自言自语……\u003C\/p\u003E \n\u003Cp\u003E说到底，\u003Cstrong\u003E拖延不是“问题本身”，它是“解决方案”\u003C\/strong\u003E。很多时候，要不是拖延，我们就要直面各种不被爱的痛苦与不受控的恐惧。但拖延也有高昂代价——内在焦灼绝望，外在停滞不前。\u003C\/p\u003E \n\u003Cp\u003E我问A，“我两年前答应翻译的书拖到现在了，怎么办？”A说，“两年？大概编辑也忘了吧？没事，你不会因为这个就被编辑掐死的。”我问B，“我两年前答应翻译的书拖到现在了，怎么办？” B说，“合同规定要赔多少钱？没事，咱们一起凑钱赔……” 对话完毕，我鼓起勇气老实回信。你猜怎样，编辑回信说，可以再宽限几个月——棒极了，现在我可以开始新一轮与拖延的斗争啦。\u003C\/p\u003E"},"author":"游识猷","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/songshuhui.net\/feed","title":"科学松鼠会","htmlUrl":"http:\/\/songshuhui.net\/"}},{"crawlTimeMsec":"1488520910000","timestampUsec":"1488520910000000","id":"tag:google.com,2005:reader\/item\/0000000296bc2ac8","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"春天到了，这是一份靠谱的国内追花指南，从三月看到七月","published":1488394800,"updated":0,"starred":1488520910,"canonical":[{"href":"http:\/\/daily.zhihu.com\/story\/9258411"}],"alternate":[{"href":"http:\/\/daily.zhihu.com\/story\/9258411","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cdiv\u003E \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E\u003C\/div\u003E \n \n \n \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n \n \n \n\u003Cdiv\u003E \n\u003Ch2\u003E\u003C\/h2\u003E \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E \n\u003Cimg src=\u0022http:\/\/pic1.zhimg.com\/59c75cc7df75f4c20aca5f2c2aba0dec_is.jpg\u0022 alt=\u002259c75cc7df75f4c20aca5f2c2aba0dec_is.jpg\u0022\u003E\u003Cspan\u003E包子Wien，\u003C\/span\u003E\u003Cspan\u003E新书《为什么要出发，因为远方在那里》｜公众号yansulvxing\u003C\/span\u003E \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n\u003Cp\u003E【本文所有推荐都是我过去三年的亲身经验，并都注明了特别重要的“追到概率”，\u003Cstrong\u003E不谈概率和花期的追花推荐都是耍流氓\u003C\/strong\u003E，因为很多特别惊艳的花海，实际花期极为不稳定。盗图的都喜欢拿图瞎写，极为不负责任。真的想看花海的，请以我这篇推荐为主要参考！记住，越是迷人的景致，实际上看到的可能性越低，但风险越大，就越有可能收获惊喜！】\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E三月\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;云南罗平\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E作为中国油菜花从南到北盛放的第一站，在大部分地区还处于寒风阵阵的暮冬时，罗平的油菜花早在 3 月就大面积盛开。鲜黄一片的油菜花包围着星罗棋布的翠绿峰林，漫山遍野，春意盎然。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-9966b677bbc272aef564b2453940438a_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-2688f7cb90b3ed771e8fceb7c620fa1d_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E春节后罗平的油菜花就争相盛放，花期根据天气不同，可以持续到 3 月下旬或 4 月上旬。\u003Cstrong\u003E一般来说，3 月上旬和中旬是观赏罗平油菜花的最佳时机。\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★★☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★☆☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;金川梨花\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E如果没来金川看过梨花，大概很难理解为什么“\u003Cstrong\u003E千树万树梨花开\u003C\/strong\u003E”形容的是大雪纷飞。站在金川县外那些并不很高的山丘上，俯瞰被无数梨花点缀满的金川河谷，路边、田地、山间缀满轻盈的梨花，整个世界如童话般雪白，晶莹剔透。这片雪域高原规模最大的梨花奇景，无疑是早春 3 月最壮阔和秀美的存在。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-99b4b06178f158b9655f1a162a501305_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-3b20b42776bbd6e1f9af3cb5bb68ce30_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-481175830ce363afcf5a3a5266216269_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E\u003Cstrong\u003E一般 3 月中旬开花，盛放期 7 天左右\u003C\/strong\u003E，梨花特别脆弱，如遇大风天气，可能提前凋零。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★☆☆☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★★☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;江西婺源\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E婺源被称为“\u003Cstrong\u003E中国最美乡村\u003C\/strong\u003E”，尤其是早春时节，金色的油菜花海中点缀着错落有致的徽派建筑，白色和黄色交相辉映，唱响了华夏大地的早春乐章。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-69fa589f23b380034478a7ccf0696a28_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-082f224168786e43a91fc3c9ff8a9f44_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E婺源油菜花的开放时间稳定在\u003Cstrong\u003E3 月中旬\u003C\/strong\u003E，由于江南气候稳定，花期可以延续到 4 月上旬。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★★★\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★★☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E四月\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;南疆杏花\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E塔身库尔干的杏花，让人仿佛置身梦境中的“\u003Cstrong\u003E杏花之村\u003C\/strong\u003E”，头顶是盛开的百年杏树，脚下是零星洒落的花瓣。如果你能克服路途的遥远、克服条件的艰苦，那么阿勒玛勒克的杏花，一定会是你关于春天最难忘的回忆。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-58fc983bdcbf0616744fb6c305d0f104_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-529959e65d3fc87d74ad381d075f37a7_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-4729bda2693f230a2e5901839b1bb104_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E南疆气候相对来说干燥而稳定，阿勒玛勒克的杏花开花时间\u003Cstrong\u003E一般是 3 月底、4 月初，但杏花盛放期只有 5 天\u003C\/strong\u003E。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★☆☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★★☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;伊犁杏花\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E说起中国最梦幻的春天，非伊犁杏花沟莫属\u003C\/strong\u003E。如果你不知道“牧童遥指杏花村”是怎样一番春意盎然，那么伊犁的杏花，一定不会辜负你对于这句诗歌所有的想象。爬上山坡，登上山头，绵延的绿色草原此起彼伏，点缀着房屋、牛羊、马匹。如此这般诗情画意，便是早春的伊犁大地上最令人难忘的朝朝暮暮。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-10f9f7389abf127271f7ef6727d73b6b_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-8a60d6ff6cd168381ff42005935535aa_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E杏花沟虽然美轮美奂，但\u003Cstrong\u003E开花时间极为不稳定\u003C\/strong\u003E，从 3 月中旬到 4 月中旬都有可能，且杏花盛放期只有 5 天。\u003Cstrong\u003E能不能看到最美的杏花沟，主要看运气。\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★☆☆☆☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★☆☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E六月\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;伊犁薰衣草\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E说起伊犁花海，最有名的莫过于薰衣草。6 月，伊犁满是穿着花裙子，想在薰衣草田拍文艺小清新照的妹子们。\u003Cstrong\u003E我个人并不推荐伊犁薰衣草\u003C\/strong\u003E，一方面因为伊犁的薰衣草远不如普罗旺斯那般有层次，一方面因为伊犁有无数更美的风景。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-d052c887c22d73dfa24674c2f9630cae_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E薰衣草开花时间一般在\u003Cstrong\u003E6 月中旬\u003C\/strong\u003E，\u003Cstrong\u003E花期 2 个星期\u003C\/strong\u003E。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★★☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★☆☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;喀拉峻\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E喀拉峻草原被称为“五色花海”，6 月，草原上方的冰雪尚未融化，但茫茫草原早已生机盎然，白色、黄色等各色野花争相齐放，而其中，\u003Cstrong\u003E最梦幻、最独特的当属紫色报春花海\u003C\/strong\u003E。圆形的球状花遍布草原，雪山下的紫色花海，大概是只有喀拉峻才拥有的奇景吧。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-90f404e12c156c6ed31c15c253b12536_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-7530041c6c994c3681b7c654fd4db168_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E从 6 月初到 7 月中旬，各色野花随着时间推移，争相开放在喀拉峻草原，其中，最值得一看的\u003Cstrong\u003E紫色报春花海\u003C\/strong\u003E，\u003Cstrong\u003E开花时间约在 6 月初，花期 7 天左右\u003C\/strong\u003E，而其他时间，这里也可以看到大片的黄色、白色、蓝色花海。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★☆☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★★☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;赛里木湖\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E在伊犁晴天的映衬下，赛里木湖蓝得通透，蓝得仿佛忘却了世间一切伤悲，只剩下令人心旷神怡的广阔和明媚。春末夏初，湖边百花绽放，金莲花、蒲公英、各色野花，一起点缀着这个湛蓝的湖泊。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-4788da25c2ed6a1fc84cf6a596a2c916_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-ecd547a537b6c8fcf169be556675bf81_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E赛里木湖的花季\u003Cstrong\u003E从 6 月中上旬开始，一直持续到 6 月底\u003C\/strong\u003E。金莲花、蒲公英，以及各种黄色、白色、蓝色的野花，在湖边的草原上随处可见。6 月是属于伊犁的季节，不用盘算花期，不用做细致的计划，所到之处，无处不是夺目和绚烂的花海。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★★★\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★★★\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E七月\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;青海湖\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E敦煌、青海湖是夏季的热门旅游路线，看完艺术瑰宝敦煌莫高窟后，驱车南下，翻越祁连山脉，进入青海境内，\u003Cstrong\u003E虽说游人如织，并不清净，但被油菜花海点缀的盛夏青海湖，确实不负众望地吸引着无数游客。\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-b0658e9c8941d479634e61b6040b3124_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-a89713535229f8400b0a9bdad0137ce4_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E青海气候相对稳定，\u003Cstrong\u003E油菜花约在 6 月底盛放，花期长达一个月\u003C\/strong\u003E，即使 8 月初前往，仍能见到零星花海，如果想目睹青海湖最美的时刻，那么\u003Cstrong\u003E7 月无疑是最佳选择，但游客很多\u003C\/strong\u003E。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★★★\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★★☆\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u0026gt;\u0026gt;\u0026gt;伊犁昭苏\u0026lt;\u0026lt;\u0026lt;\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E昭苏是天马故乡，这里保存着大量的伊犁种马，它们高大勇猛，是赛马的绝佳品种。这里有\u003Cstrong\u003E大片油菜花、紫苏花\u003C\/strong\u003E，当车子驶出县城，马上映入眼帘的，就是广阔无尽的花海，爬上那些并不高的山头，\u003Cstrong\u003E广阔的花海绵延到雪山脚下，绵延到天空尽头\u003C\/strong\u003E。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-9e3ce2f5fc90cba60df9b2b891ce56ee_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-e6f016703b03bc722290949729858f64_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E开花时间：\u003C\/strong\u003E昭苏海拔较高，开花时间约在\u003Cstrong\u003E7 月中上旬\u003C\/strong\u003E。油菜花、紫苏花花期较长，可以持续半个月到一个月不等，\u003Cstrong\u003E7 月中旬为出游最佳时间\u003C\/strong\u003E。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E追到概率：★★★★★\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E推荐指数：★★★★★\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Chr\u003E\u003Cp\u003E欢迎关注微信公众号：\u003Cstrong\u003E严肃旅行（yansulvxing）\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E原创文章 \/ 图片，未经授权禁止转载\u003C\/p\u003E \n \n\u003Cdiv\u003E\u003Ca href=\u0022http:\/\/zhuanlan.zhihu.com\/p\/25112944\u0022\u003E查看知乎讨论\u003C\/a\u003E\u003C\/div\u003E \n \n\u003C\/div\u003E \n\u003C\/div\u003E \n\u003C\/div\u003E \n \n \n\u003C\/div\u003E \n\u003C\/div\u003E"},"author":"知乎日报","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/zhihudaily.dev.malash.net\/","title":"知乎日报","htmlUrl":"http:\/\/daily.zhihu.com\/"}},{"crawlTimeMsec":"1488291130000","timestampUsec":"1488291130000000","id":"tag:google.com,2005:reader\/item\/00000002954b9596","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"Android应用瘦身，从18MB到12.5MB","published":1488285000,"updated":1488464850,"starred":1488291130,"canonical":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25465537?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25465537?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-a2fa866631a8e62389fc550612511e07_b.png\u0022 width=\u00221024\u0022 alt=\u0022v2-a2fa866631a8e62389fc550612511e07_b.pn\u0022\u003E\u003Cp\u003EHello，大家好，我是Clock。这是我开通知乎专栏后分享的第一篇技术文章，年前对负责开发的一款直播应用做了安装包瘦身，本文是小小的梳理总结，希望对同行有所帮助。\u003C\/p\u003E\u003Ch2\u003E开篇语\u003C\/h2\u003E\u003Cp\u003E前阵子老大交给了我一个任务，主要是帮我们开发的直播应用做 Android 端的安装包瘦身，花了大概一周的时间把安装包从 18MB 减小到了 12.5MB。原本完全可以优化到 10MB 之下，但由于其他原因的限制，所以目前阶段只到 12.5MB 为止。在此记录一下优化的思路和用到的工具，方便自己以后 Review ，有需要的童鞋也可供参考。\u003C\/p\u003E\u003Ch2\u003E瘦身的目的\u003C\/h2\u003E\u003Cp\u003E从目的导向来看，我们是不会无缘无故去做一件事情的，那我们对应用瘦身的目的是为了什么？答案是：提高下载转化率。什么是下载转化率？举个栗子：你的应用大小是 18MB ，有100个潜在用户想要去下载尝试使用，结果有20个用户嫌弃安装包太大直接扬长而去，有20个用户在等待下载的过程中取消下载，最终只有60个用户真正下载安装，那么应用的下载转化率就是 60\/100 = 60% 。\u003C\/p\u003E\u003Cp\u003E简单的小结便是：安装包越小，用户下载等待的时间越短，对手机存储配置小的设备体验愈佳，应用的下载转化率也就越高。记得以前在腾讯大讲堂听微信大牛说过，微信第一个版本只有差不多 400KB ，瞬间膜拜。\u003C\/p\u003E\u003Ch2\u003E安装包的组成\u003C\/h2\u003E\u003Cp\u003E要对安装包做瘦身，首先需要了解安装包的组成结构，这里简单的梳理了一下组成各个部分及其作用：\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-59f1d211101af1433160ba3e2425d787_b.png\u0022 width=\u00221071\u0022 alt=\u0022v2-59f1d211101af1433160ba3e2425d787_b.pn\u0022\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-39aa3e892618f4b55e3c8b3a4fda50e5_b.png\u0022 width=\u00221280\u0022 alt=\u0022v2-39aa3e892618f4b55e3c8b3a4fda50e5_b.pn\u0022\u003E\u003Cp\u003E其中，在安装包中占比较大的包括：dex文件、res文件夹、assets文件夹、lib文件夹以及resource.arsc文件。所以，接下来的瘦身优化就是让这些文件变小，以此达到瘦身的目的。\u003C\/p\u003E\u003Cp\u003E在 Android Studio 2.2.3 开始，就加入了浏览 APK 结构的功能，我们直接把安装包拖入 IDE ，就可以直接浏览其组成和对应大小，这样能够很方便的对比分析出每一步优化后的结果。\u003C\/p\u003E\u003Ch2\u003E资源瘦身\u003C\/h2\u003E\u003Cp\u003E了解完 APK 的组成，我们可以开始着手优化的工作了，因为资源文件在 APK 中的占比最高，所以优先从资源瘦身开始着手。\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E尽量只保存一份图片资源\u003C\/i\u003E\u003C\/b\u003E\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E开发目录下会有个 drawable 或者 mipmap 目录用于适配不同 dpi 的屏幕，下面是不同命名目录所适配的 dpi 范围\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-2d9d1c1423a08205233a5ed3e7480a70_b.png\u0022 width=\u0022382\u0022 alt=\u0022v2-2d9d1c1423a08205233a5ed3e7480a70_b.pn\u0022\u003E\u003Cp\u003E目前市面上绝大部分机型都处于 xxhdpi 的适配范围，所以可以考虑只保留 xxhdpi 目录下一份图片资源，具体保留哪个目录下的资源和保留几份资源还得依照应用自身的实际机型分布决定。\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E使用 Drawable XML、Color、.9 PNG 代替 PNG\u003C\/i\u003E\u003C\/b\u003E\u003Cbr\u003E\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E一些情况下，我们可以考虑使用 Drawable XML 来代替 PNG，如：渐变的背景图，用几行 XML 就可以描绘出来，何必使用几十到上百K的 PNG 文件；\u003C\/li\u003E\u003Cli\u003E用 Color 代替 PNG，如：纯色的背景；\u003C\/li\u003E\u003Cli\u003E从性能上看，比起使用图片资源需要先将其生成 Bitmap 再传到底层交由 GPU 渲染，用 Drawable XML 和 Color 则更加高效，它是直接将 Shape 信息传到底层由 GPU 进行渲染，CPU 和 内存的占用会更少；\u003C\/li\u003E\u003Cli\u003E用 .9 PNG 代替 PNG，场景很多，不举例了；\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E\u003Cb\u003E\u003Ci\u003E使用 JPG 代替 PNG\u003C\/i\u003E\u003C\/b\u003E\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E用 JPG 代替 PNG，由于 JPG 没有 Alpha 通道，所以文件更小，适用于不需要透明度的图片可以考虑。\u003C\/p\u003E\u003Cp\u003E\u003Ci\u003E\u003Cb\u003E谨慎使用 WebP 代替 PNG\u003C\/b\u003E\u003C\/i\u003E\u003C\/p\u003E\u003Cp\u003E由于 WebP 效果好，且相同效果下， WebP 文件比 PNG 文件要小得多 ，所以，网上很多人说使用 WebP 代替 PNG，对此，我保持异议。理由如下：\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003EWebP 在 Android 端，最低只支持 4.0 ，要兼容 4.0 以下的环境需要额外引入兼容库，反而增大安装包体积；\u003Cbr\u003E\u003C\/li\u003E\u003Cli\u003EAndroid Studio 不支持预览 WebP 图片，引用 WebP 的布局文件也无法预览显示；\u003Cbr\u003E\u003C\/li\u003E\u003Cli\u003E解压了 BAT 们的应用，以及同类竞品，基本没有发现在资源文件中用 WebP 的；\u003Cbr\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cbr\u003E\u003Cp\u003E\u003Ci\u003E\u003Cb\u003E有损编码格式的音频文件代替无损格式的音频文件\u003C\/b\u003E\u003C\/i\u003E\u003C\/p\u003E\u003Cp\u003E从下面这篇官方文档\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developer.android.com\/guide\/topics\/media\/media-formats.html\u0022\u003E\u003Cspan\u003Ehttps:\/\/\u003C\/span\u003E\u003Cspan\u003Edeveloper.android.com\/g\u003C\/span\u003E\u003Cspan\u003Euide\/topics\/media\/media-formats.html\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E可以看到 Android 平台支持的音视频格式，下面列出有损和无损常用的格式（不要认为有损编码就是音质很差）：\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E无损格式：WAV，PCM，ALS，ALAC，TAK，FLAC，APE，WavPack(WV)\u003Cbr\u003E\u003C\/li\u003E\u003Cli\u003E有损格式：MP3，AAC，WMA，Ogg Vorbis\u003Cbr\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cbr\u003E\u003Cp\u003E实际开发中需要使用音频文件尽量采用 MP3、Ogg 这种有损格式，尽量不要用 WAV、PCM 这种无损音频。\u003C\/p\u003E\u003Cp\u003E\u003Ci\u003E\u003Cb\u003E移除无用的资源\u003C\/b\u003E\u003C\/i\u003E\u003C\/p\u003E\u003Cp\u003E这里的移除无用资源文件主要分为两个部分：\u003Cb\u003E不打包没有使用的资源和删除没有使用的资源\u003C\/b\u003E。\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E不打包没有使用的资源，在项目的 build.gradle 中配置 shrinkResources true 即可。\u003C\/li\u003E\u003C\/ul\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-c6ff26eac2ae682577fcb1250fcf0c3b_b.png\u0022 width=\u0022796\u0022 alt=\u0022v2-c6ff26eac2ae682577fcb1250fcf0c3b_b.pn\u0022\u003E\u003Cul\u003E\u003Cli\u003E删除没有使用的资源，通过 Android Studio 选中项目右键 =\u0026gt; Analyze =\u0026gt; Run Inspection by Name =\u0026gt; 输入 Unused Resuroces\u003C\/li\u003E\u003C\/ul\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-6e8ca6468fea78757b964d0aa8b4b0a6_b.png\u0022 width=\u0022982\u0022 alt=\u0022v2-6e8ca6468fea78757b964d0aa8b4b0a6_b.pn\u0022\u003E\u003Cp\u003E即可看到所有未使用的资源文件，建议定期清理掉这些没用的文件，一方面可以减小工程的大小，另一方面太多的资源文件会导致打包后 resources.arsc 文件变得越来越大，公司有一项目 resources.arsc 文件已经达到 2-3 MB 的程度，有点惊人。\u003C\/p\u003E\u003Cp\u003E综合以上几点，就可以有效的精简我们安装包中的\u003Cb\u003Eres文件夹、assets文件夹、resource.arsc文件\u003C\/b\u003E大小，从而达到瘦身目的。\u003C\/p\u003E\u003Ch2\u003E工具\u003C\/h2\u003E\u003Cp\u003E上一章节提到的是优化的思路，本章节整理在优化过程中使用到的工具。\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003ETinyPNG：\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/tinypng.com\/\u0022\u003ETinyPNG – Compress PNG images while preserving transparency\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E ，支持对 PNG\/JPEG 文件做压缩处理，效果不错。\u003C\/li\u003E\u003Cli\u003Epngquant：\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/pngquant.org\/\u0022\u003Epngquant - lossy PNG compressor\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E ， 支持 PNG 压缩，有时候 TinyPNG 处理过的图片噪点会稍多，可以考虑用 pngquant 来处理。\u003C\/li\u003E\u003Cli\u003EImageOptim：\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/imageoptim.com\/mac\u0022\u003Ebetter Save for Web\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E ，支持压缩 PNG\/JPEG\/GIF ，而且效果显著，可以看看这里 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/www.diycode.cc\/topics\/496\u0022\u003E分享一个非常好用的免费 Mac 图片无损压缩工具 ImageOptim\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E ，遗憾的是它只支持 Mac ，Windows 党很难过。\u003C\/li\u003E\u003Cli\u003Emozjpeg：\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/imageoptim.com\/mozjpeg\u0022\u003EImageOptim online\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E ， 用于 PNG 转 JPEG、JPEG 压缩，效果很好。\u003C\/li\u003E\u003Cli\u003EAdobe Audition CC：\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.adobe.com\/cn\/products\/audition.html\u0022\u003EAdobe Audition CC\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E ，Adobe 出品，支持对音频的采样率，分辨率和声道数目做更改，以此达到裁剪音频的目的（采样率，分辨率和声道数目是音频文件格式的关键参数，决定着音频文件的大小）。\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E以上是我优化过程中用到的觉得不错的工具，有更好的推荐，欢迎补充。\u003C\/p\u003E\u003Cp\u003E另外，在对图片做压缩的时候，不要贪图方便直接将整个资源目录下的图片一次性压缩一趟。很多时候，前面做这个项目的人可能已经对一些资源文件做过压缩处理，很容易导致二次压缩而引起一些图片失真。这里我建议是，去到应用的资源目录下将资源文件从大到小排序，定一个标准，如超过 20KB 的图片要做压缩处理，则将这些符合条件的图片 Copy 一份出来做压缩处理，处理后确保没出现失真的情况下再替换对应优化前的图片资源。 音频文件的处理，同理。\u003C\/p\u003E\u003Ch2\u003ENative库瘦身\u003C\/h2\u003E\u003Cp\u003ENative 库瘦身主要是减小对 CPU 架构的支持，配置起来很简单，在 build.gradle 使用 abiFilters 配置需要用到的 CPU 架构，并将不需要兼容的 so 文件从项目中移除即可。\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-7588c382452084dbf6ce5e8f372806a6_b.png\u0022 width=\u0022578\u0022 alt=\u0022v2-7588c382452084dbf6ce5e8f372806a6_b.pn\u0022\u003E\u003Cp\u003E根据我们用户的机型分布，最终只保留了对 armeabi-v7a 支持。注意，这里需要根据自家产品的实际情况来决定。由于之前对 CPU 的架构分布不是很熟悉，感谢微信的张绍文、沪江的徐宜生以及虎牙的郑晓滨几位老司机给我科普了一发。\u003C\/p\u003E\u003Cp\u003E综上所述，就可以有效的精简我们安装包中的 lib 文件夹大小，从而达到瘦身目的。也有一种做法是通过在 build.gradle 配置 include 来针对每个 CPU 架构生成单独的安装包，虽然看起来很不错，但是很多国内应用市场上架的时候并不支持这种每个 CPU 配置一个包的做法，所以此做法较为鸡肋，不太建议去做，如果应用只上 Google Play ，那确实要比配置 abiFilters 好得多。\u003C\/p\u003E\u003Ch2\u003E代码瘦身\u003C\/h2\u003E\u003Cp\u003E这里可以做的事情也是很多，主要如下：\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E移除废弃功能的代码，反正有 VCS ，删了代码随时可以找回；\u003C\/li\u003E\u003Cli\u003E移除重复的代码，如：已经有了的功能代码，团队成员不知道自己又写了一套，只能靠代码 Review 解决了；\u003C\/li\u003E\u003Cli\u003E移除功能重叠的框架，如：项目中有几套网络访问框架 Volley、AsyncHttpClient、Retrofit 等，同样只能靠代码 Review 解决；\u003C\/li\u003E\u003Cli\u003E移除无用的 dependencies 或者 jar 包；\u003C\/li\u003E\u003Cli\u003E减小对 Support 兼容包的依赖，Support-V4 包非常大，项目引入无疑会增大 dex 文件的大小，Google 已经意识到这个问题，所以 Support-V7 一开始就做了拆分，并且开始对 Support-V4 做拆分，虽然目前成果还不明显，不过还是蛮值得期待的，特别是发现你少了 Support-V4 包后，可能就从2个 dex 变成1个 dex 了呢；\u003C\/li\u003E\u003Cli\u003E插件化，一种懒加载思想的体现，先让用户能够安装宿主包，对于一些功能模块做插件化，在特定的时机再下载安装；\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E综上所述，就可以有效的精简我们安装包中的 dex 文件大小，从而达到瘦身目的。\u003C\/p\u003E\u003Ch2\u003E结束语\u003C\/h2\u003E\u003Cp\u003E整个优化过程我把项目从 18 MB 优化到了 12.5 MB，以上有些优化点受其他一些原因的影响，只能暂时作罢，可以考虑纳入下一次的优化排期。套路大概就是这么些，实践的时候请根据自身项目定夺，并优先优化性价比较高的部分（性价比=可优大小\/所需时间）。\u003C\/p\u003E\u003Cp\u003E大致就是这么多了，如果你对我的文章感兴趣，可以关注我的知乎专栏，除此之外，还可以关注我的\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E个人博客：\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/blog.coderclock.com\/\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Eblog.coderclock.com\/\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/li\u003E\u003Cli\u003E新浪微博： \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/weibo.com\/2480694892\u0022\u003ED_clock爱吃葱花\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/d_clock?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003ED-clock爱吃葱花\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E"},"author":"D-clock爱吃葱花","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1488243133000","timestampUsec":"1488243133000000","id":"tag:google.com,2005:reader\/item\/0000000294f35ea6","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"去年的新年愿望，实现了吗？","published":1488237657,"updated":0,"starred":1488243133,"canonical":[{"href":"http:\/\/songshuhui.net\/archives\/96883"}],"alternate":[{"href":"http:\/\/songshuhui.net\/archives\/96883","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cp\u003E本文作者：游识猷\u003C\/p\u003E \n\u003Cp\u003E本文首发在果壳网（\u003Ca href=\u0022http:\/\/www.guokr.com\/article\/441938\/\u0022\u003E原文链接\u003C\/a\u003E）\u003C\/p\u003E \n\u003Cp\u003E地球再度绕着太阳运行到了一个固定位置。为了让这一刻具备仪式感，人类名之为“新年”，定了些固定的庆祝仪式，吃饺子喝酒，放烟火办晚会，在微信上互发复制来的祝语和表情，以及，自欺欺人地立志实现几个新年愿望。\u003C\/p\u003E \n\u003Cp\u003E我握拳，下定决心，前年许下而去年没做的愿望，绝不能拖到明年，今年一定要实现。\u003C\/p\u003E \n\u003Cp\u003E最简单有时又最奢侈的愿望，是保持呼吸，不要断气。除此外，最常见的愿望有四——减肥、戒烟、还清债务，和亲友共度更多时间。\u003C\/p\u003E \n\u003Cp\u003E然而，大概只有十分之一的人能达成愿望。英国赫福郡大学的心理学者理查德·魏斯曼（Richard Wiseman）研究3000人后发现，88%的决心最终失败。决心湮没在时光里，就像石子沉没在长河中，激起的涟漪只是一瞬，此后河水汤汤，依然如故。\u003C\/p\u003E \n\u003Cp\u003E这次必须不一样！我决心打破“无志之人常立志”的怪圈，成为“有志之人立长志”。不过首先，我要搞清楚，为什么我去年的新年志向没有实现？\u003C\/p\u003E \n\u003Ch1\u003E失败原因一：许下的愿，不是真正志向\u003C\/h1\u003E \n\u003Cp\u003E你以为你想要的就是你所需要的吗？\u003C\/p\u003E \n\u003Cp\u003E很多时候，你并不知道什么能让自己幸福。\u003C\/p\u003E \n\u003Cp\u003E中大奖等于变幸福？菲利普·布里克曼（Philip Brickman）的研究显示，彩票大奖得主的幸福程度很快就归于平常。好天气能让人心情舒畅？丹尼尔·卡尼曼（Daniel Kahneman）发现，阳光明媚的加州人，和天气一般的美国中西部人，其生活满意度大抵相当。买下这样商品就能让我更快乐？结果商品在墙角积灰，而瘪瘪的钱包令人郁郁不乐。\u003C\/p\u003E \n\u003Cp\u003E“不快乐往往不是缘于我们没能得到想要的，而是缘于我们不想要我们真正喜欢的。”哈佛心理学家丹尼尔·吉尔伯特（Daniel Gilbert）如是说。他和心理学家蒂莫西·威尔逊（Tim Wilson）曾找来一群美国助理教授（assistant professor），问他们一个简单的问题，“你认为，拿到终身教职对你的幸福有多大影响”？\u003C\/p\u003E \n\u003Cp\u003E所有助理教授都认为，会影响深远。他们遥想未来，若能拿到铁饭碗，自己肯定日日笑口常开，走路带风。若拿不到，自己必然天天愁眉不展，惨淡度日。\u003C\/p\u003E \n\u003Cp\u003E后续追踪发现，教授们错了。在未来几年里拿到终身教职的，和未拿到终身教职的，主观幸福程度相差无几——即使智力出类拔萃，也不太擅长预测“什么能让自己更幸福”。吉尔伯特和威尔逊为此造了个新词——“错误渴求（miswanting）”，专指“错误预测了自己的需求，错误地估计了自己要得到什么才会快乐，因而做出了差劲的决策。”\u003C\/p\u003E \n\u003Cp\u003E当你不太费力就能实现愿望时，问题一般不大，无非是“得到了却发现不过如此 ”。但当你许下的愿望需要付出很多才能实现时，你就会在付代价时踟蹰犹豫，不断拖延，或者干脆只是将这个愿望挂在嘴上，一点不开展积极行动。\u003C\/p\u003E \n\u003Ch1\u003E解决方案一：连问自己五次，“为什么我想要”\u003C\/h1\u003E \n\u003Cp\u003E有个简单办法，能帮你找出潜藏在心中的真正愿望。\u003C\/p\u003E \n\u003Cp\u003E先写出自己心目中的愿望，接着自问“为什么我想要这个？” 得到答案后，继续追问“为什么这么想？” 如此连续发问，一般5次内即可发现你真正的渴望。\u003C\/p\u003E \n\u003Cp\u003E也许你第一个自然浮出的愿望是“戒烟”，但不要止步于此，要继续追问下去——为什么想戒烟？因为希望更健康。为什么希望更健康？因为健康可以活得长久。为什么想要活久一点？因为想多照顾家人一段时光。为什么想多照顾家人？因为我想成为负责的人……\u003C\/p\u003E \n\u003Cp\u003E很多戒烟的人之所以失败，是因为他们错误地估计了自己的愿望——或许你不想戒烟，你真正想要的，是成为家人的可靠支撑。在“吸烟”和“不吸”之间，你会选择能带来快感的吸烟。然而，当你将“烟”视为自己照顾家人的阻碍时，你会选择“照顾家人”。村上春树一度日抽60支烟，后来戒烟，不是因为他厌倦了烟草，是因为他发觉写小说需要体能，于是决心锻炼，于是开始跑步，于是渴望跑得更多——而烟草，作为跑步的阻碍，就被自然而然地放弃了。\u003C\/p\u003E \n\u003Ch1\u003E失败原因二：四类愿望，注定无法实现\u003C\/h1\u003E \n\u003Cp\u003E一个典型的的新年愿望是这样的——\u003C\/p\u003E \n\u003Cp\u003E“我希望新年里，事业上个新台阶，财富多个数量级，全家和睦亲密，故旧健康平安，多联系老友，多认识新友，行万里路，读万卷书，看尽佳片，吃遍美食，到了年末还要瘦上二十斤！ ”\u003C\/p\u003E \n\u003Cp\u003E四个字总结——这不科学。问题在哪 ?\u003C\/p\u003E \n\u003Cp\u003E一，愿望不要太多。多到记都记不住，时间不够分配，谈何实现？\u003C\/p\u003E \n\u003Cp\u003E二，愿望不要自相矛盾。有的职业，注定无法天天和家人相处。要甩肉，就得泪别诸多美食。想健康，就得关掉电视放下书，甩开膀子迈开腿。\u003C\/p\u003E \n\u003Cp\u003E三，愿望不要太难。从难度来说，愿望应该尽量设成“有难度，但努力后很可能达成 ”。 最难实现的目标是什么？Daniel Kahneman认为，是“在演员之路上大获成功”。不过，假如这恰是你的心之所向，祝你新年好运。\u003C\/p\u003E \n\u003Cp\u003E四，愿望不要太大。大到任何一项拿出来，都必须投入大量时间精力。\u003C\/p\u003E \n\u003Cp\u003E作家Nigel Marsh说，“平衡工作和家庭很简单，只要我不工作就得了。”他辞职，赋闲一年，专职陪妻子和四个儿子。“当然了，”他补充说，“在缺钱的时候，这招不怎么好用。”\u003C\/p\u003E \n\u003Cp\u003E大部分人没有余闲去享受这种奢侈。也就是说，我们未来一年里的将近三成时间已经卖给了买家——不信就把工作合同拿出来多看几遍。\u003C\/p\u003E \n\u003Cp\u003E还有四成时间也有了去处，吃喝拉撒睡。人要正常运作，就得满足基本需求。\u003C\/p\u003E \n\u003Cp\u003E然后，我要在剩下的三成时间里，用我软弱的意志力，驱动我迟缓的身体，完成彩衣娱亲呼朋引伴环球旅行看书看电影山珍海味锻炼减肥……请容我再说一遍——这不科学。\u003C\/p\u003E \n\u003Cp\u003E那么，如果我们只许一个新年愿望。有没有“最好的新年愿望 ”呢？\u003C\/p\u003E \n\u003Ch1\u003E解决方案二：愿望一个足矣，养成“楔石习惯”\u003C\/h1\u003E \n\u003Cp\u003E楔石，是拱桥顶部的一块石头，这块石头是整个架构保持稳定的关键所在。当查尔斯·杜希格（Charles Duhigg）创造出“楔石习惯（keystone habits）” 这个词时，他指的是一种关键习惯，它能改变大脑的神经模式，能促成其他好习惯蓬勃生长，能引发链式反应，令你的生活发生巨变。\u003C\/p\u003E \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/1.im.guokr.com\/dWlcl6q0ZpLSJa8hGLxEtXAEaihit9_l5k9GXsMqrzOAAgAAbAEAAFBO.png\u0022 alt=\u0022\u0022 width=\u0022640\u0022 height=\u0022364\u0022\u003E\u003C\/p\u003E \n\u003Cp\u003E习惯很重要。改变习惯，就能改变行动。改变行动，就能改变最终的结果。一次行动看似微不足道，但你若能从天天下午自动吃蛋糕，变成天天下午自动去慢跑，一年内体型就会出现巨大区别。\u003C\/p\u003E \n\u003Cp\u003E每天大概45%的行动不是出自“决定” ，而是出自 “习惯” 。决定出自前额叶皮质（prefrontal cortex），懂理性，能自省。习惯出自基底核（Basal Ganglia），被线索触发，受欲望支配。明明想去别处，却惯性地走了每天上班的路，这就是习惯给你导的航。习惯帮我们不假思索地料理诸多日常琐事。没有习惯，大脑很快会不堪重负。然而，将重责大任托付给习惯也有坏处 ——有时我们的理性下了决心，而习惯往往拒绝配合。\u003C\/p\u003E \n\u003Cp\u003E习惯是顽固的，但同时，习惯也是可以被改动、消灭、创造的——你必须对这点抱有信心，事实上，你必须对这点抱有近乎盲目的信仰。这是改变的关键之一。\u003C\/p\u003E \n\u003Cp\u003E什么是典型的楔石习惯？\u003C\/p\u003E \n\u003Cp\u003E一是锻炼。\u003C\/p\u003E \n\u003Cp\u003E锻炼能改变你的体型，改变你的大脑 ——包括供血、神经递质和营养因子，另外，锻炼还能改变你的自我认知。你将把自己视为一个有自制力的人——毕竟，你都能定期运动了！一旦人们开始锻炼，他们不但身材变好了，分心减少了，而且拖延症往往得到大幅改善——连每天洗碗的时间都提前了23分钟。\u003C\/p\u003E \n\u003Cp\u003E二是记录。\u003C\/p\u003E \n\u003Cp\u003E记录是一种提醒，提醒你注意到 “我正在做什么”。记录可以用于回顾，反省“我都做了些什么 ”。另外，一旦养成记录的习惯，在行动开始就有一种清晰的自我意识，因此后续的行为和决策也会受到影响。\u003C\/p\u003E \n\u003Cp\u003E2009年，美国国立卫生研究院（NIH）找来1600名肥胖者，要求他们试着记录自己吃下的每样东西——哪怕一周只记一天也成。六个月后，那些养成了记录习惯的人，减去的重量是未记录者的两倍。原因很简单，记录这个动作，能帮助发现自己的习惯，再也不会 “不知不觉地吃下大量食物 ”。通过天天记录，有些人发现自己会在上午10点吃上一块小甜饼，在睡前一小时吃掉一袋薯片。现在，他们决定事先做好准备。此后，在同样的时刻，他们习惯性地伸手——拿到并吃掉的是一个苹果。\u003C\/p\u003E \n\u003Cp\u003E如果你渴望减重，就记录你吃的每一样东西。如果你总是入不敷出，就记录你的每一项花费。如果你总不知道“时间都到哪去了”，就记录自己每时每刻的行为（ Rescuetime、atimelogger、爱今天）。如果你想修正自己的一个不良习惯，就记录你每次“犯老毛病”时的时间、地点、自己情绪、周围有什么别人、之前自己刚刚做了什么。这五样记录能帮助发现，是什么线索触发了你“走老路”的习惯。\u003C\/p\u003E \n\u003Cp\u003E最后还有一点很重要，不论你选择养成什么楔石习惯，都记得给你的新好习惯设计一个仪式化的结尾——我们需要仪式。仪式提供一种即时的回馈，让你感到所做的一切收到了回报。这个仪式可以是一个动作，一块糖果，甚至只是在行事历上的一个五角星标记——只要简单易行、能令你感到愉悦就行。别小看这点奖赏，它将决定你能否养成习惯。而一旦养成楔石习惯，你就能说服自己，我可以改变，我可以有更大的改变。\u003C\/p\u003E \n\u003Ch1\u003E失败原因三：障碍出现，未曾备好对策\u003C\/h1\u003E \n\u003Cp\u003E你必须意识到一点，在养成习惯的过程中，你一定会失败的——不止一次。\u003C\/p\u003E \n\u003Cp\u003E当你在新年假期里压力全无地计划着 “来年我要这么这么做”时，你已经忘了，一旦假期结束，你立刻会进入与此刻完全不同的状态——现实是什么？现实是体力有限。精力有限。脑力有限。斯坦福的神经经济学教授巴巴·希夫（ Baba Shiv）证明，如你需要费心记住一个 7位数字，你在挑选食物时就更容易选择巧克力蛋糕，而非水果沙拉——就好像我们一天能干的 “好事” 有个上限。一旦到了这个限度，你就只想抽根烟来杯酒吞下一桶炸鸡腿，然后摊在床上刷手机刷到睡着。\u003C\/p\u003E \n\u003Cp\u003E现实是，改变很难。养成好习惯很难。做正确的事很难。传说养成一个习惯需要21天——错，许多人需要的时间远不止此。2009年，英国伦敦大学学院的一项研究发现，养成一个习惯最短需要18天，最长则花了差不多8个半月。\u003C\/p\u003E \n\u003Cp\u003E现实是，我们不喜欢改变，事实上，我们抵触改变，哪怕我们明知这改变对我们有益。我们还是会故态复萌，一次，一次，又一次。80%的戒烟者在成功戒烟前，会复吸8到10次。\u003C\/p\u003E \n\u003Cp\u003E我们失败。这很正常。致命的是我们对于失败的反应——我们选择自毁，因为我们被失败压垮，我们相信自己无法改变，只能顺从本能的渴望。我们习惯偷懒，习惯放弃，习惯对自己失望，习惯了设定目标又从不达到，最后索性习惯了没有目标。我们告诉自己，人生就是这么丧，我就是这么烂，放弃吧，我将躺在泥潭中，边下沉，边宣布星空只是幻象。\u003C\/p\u003E \n\u003Cp\u003E怎么办？首先，你得接受“倒退”是进步的一部分。你得相信，一次失败不代表你达不到你的目标。如果我在成功之前需要失败100次，那么现在，就只剩下99次。\u003C\/p\u003E \n\u003Cp\u003E此外，你还需要一个预先定好的 “失败应对方案”。\u003C\/p\u003E \n\u003Ch1\u003E解决方案三： WOOP，假如遇到障碍A，我就执行计划B\u003C\/h1\u003E \n\u003Cp\u003E比方说，你的愿望是 “我要每天早上晨跑一小时 ”。\u003C\/p\u003E \n\u003Cp\u003E你闭目想象，闹钟一响，自己掀被而起，套进跑鞋，冲出家门，沐浴在金色阳光中，呼吸着清冷透亮的空气，你像羚羊在非洲草原上奔跑，啊，奔跑。\u003C\/p\u003E \n\u003Cp\u003E想象结束，你感觉棒极了。\u003C\/p\u003E \n\u003Cp\u003E事实上，这样的“成功幻想”一次就能降低血压5毫米汞柱，简直堪称无毒无害无副作用的舒缓放松良方。\u003C\/p\u003E \n\u003Cp\u003E一切都好，除了一点——这种幻想对你实现愿望只有阻碍，毫无帮助。\u003C\/p\u003E \n\u003Cp\u003E当你在想象中已经体验过了成功的甘美，何必还在现实中为之辛苦拼搏呢？纽约大学的心理学家加布里埃尔·奥丁根（Gabriele Oettingen）发现，学生在对学业进行乐观幻想后，在未来一周内反而会减少投入学业；那些对自己的自制力最有信心的减重女士，偏偏是一年后减重最少的人。\u003C\/p\u003E \n\u003Cp\u003E别做梦了，醒醒吧。对比一下美好理想和现实中的重重阻碍，通过这种对比，找出克服障碍、接近理想的道路。这种方法，叫“WOOP”。\u003C\/p\u003E \n\u003Cp\u003EWOOP分四步。\u003C\/p\u003E \n\u003Cp\u003E一、愿望（Wish），别等了，现在就抓张白纸，写下一个对你深具意义、具体可执行的愿望——譬如说，每天早晨晨跑一小时。\u003C\/p\u003E \n\u003Cp\u003E第二步，想象成果（Outcome），想象达到目标后你将如何从中获益——譬如说，好看，不抑郁，治疗拖延症。在未来的懈怠时刻，你就可以翻出这三条，提醒自己当初许愿的初心。\u003C\/p\u003E \n\u003Cp\u003E第三步是真正难点——寻找障碍（Obstacle）。你可能前一晚睡不着觉，第二天起不了床。可能你明明打算跑步，起床后却不知不觉刷了一小时手机。可能窗外北风呼啸，而你发现自己瞬间皈依了回笼教。没准你跑了两天就感冒，再跑一周已濒危。或许你挣扎半响垂死病中惊坐起，却发现窗外白茫茫一片雾霾已爆表……\u003C\/p\u003E \n\u003Cp\u003E第四步，计划（Plan）。计划必须是如下形式 ——“假如处在X状况下，我就采取Y行动”。假如我睡不着，我就闭眼平躺练习冥想。假如我起不了床，我就告诉自己，我可以做到。假如空气糟到不适合跑步，我就在室内进行力量训练。假如我觉得不想跑步，我对自己说， “这是我发自内心的愿望”…… 诸如此类。\u003C\/p\u003E \n\u003Cp\u003E针对不同的障碍，你可以做出一张张WOOP小卡片，存在电脑里，写在本子中，最重要的，是牢记在心底。在一些困难的抉择时刻，在一些不确定的时刻，我们会忘记自己的理想和初衷，你需要一次次地自动提醒自己，我的心愿是什么，我想去到的地方在哪里，这一年，我一定能养成我的楔石习惯，而更大的改变也将近在咫尺，不再遥不可及。\u003C\/p\u003E \n\u003Ch1\u003E参考资料\u003C\/h1\u003E \n\u003Col\u003E\u003Cli\u003EDuhigg, Charles. The power of habit: Why we do what we do in life and business. Vol. 34. No. 10. Random House, 2012.\u003Cbr\u003E \nKahneman, Daniel. Thinking, fast and slow. Macmillan, 2011.\u003C\/li\u003E \n\u003Cli\u003ELehrer, Jonah. How we decide. Houghton Mifflin Harcourt, 2010.\u003C\/li\u003E \n\u003Cli\u003EOettingen, Gabriele. Rethinking positive thinking: Inside the new science of motivation. Penguin, 2014.\u003C\/li\u003E \n\u003Cli\u003EO\u0027Connor, Richard. Rewire: Change Your Brain to Break Bad Habits, Overcome Addictions, Conquer Self-destructive Behavior. Penguin, 2014.\u003C\/li\u003E \n\u003Cli\u003EEvans, Olga, and Andrew Steptoe. \u0022Social support at work, heart rate, and cortisol: a self-monitoring study.\u0022 Journal of occupational health psychology 6.4 (2001): 361.\u003C\/li\u003E \n\u003Cli\u003ELally, Phillippa, et al. \u0022How are habits formed: Modelling habit formation in the real world.\u0022 European Journal of Social Psychology 40.6 (2010): 998-1009.\u003C\/li\u003E \n\u003Cli\u003EShilts, Mical Kay, Marcel Horowitz, and Marilyn S. Townsend. \u0022Goal setting as a strategy for dietary and physical activity behavior change: a review of the literature.\u0022 American Journal of Health Promotion 19.2 (2004): 81-93.\u003C\/li\u003E \n\u003C\/ol\u003E\u003Cp\u003E作者：游识猷\u003Cbr\u003E \n链接：http:\/\/www.guokr.com\/article\/441938\/\u003Cbr\u003E \n来源：果壳\u003Cbr\u003E \n本文版权属于果壳网（guokr.com），禁止转载。如有需要，请联系sns@guokr.com\u003C\/p\u003E"},"author":"游识猷","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/songshuhui.net\/feed","title":"科学松鼠会","htmlUrl":"http:\/\/songshuhui.net\/"}},{"crawlTimeMsec":"1488170447000","timestampUsec":"1488170447000000","id":"tag:google.com,2005:reader\/item\/000000029458e7ed","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"CPU 和 GPU 的区别是什么？","published":1488160800,"updated":1488169766,"starred":1488170447,"canonical":[{"href":"http:\/\/www.zhihu.com\/question\/19903344\/answer\/96081382?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/www.zhihu.com\/question\/19903344\/answer\/96081382?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"看了好多，觉得下面这个介绍才是我想要的以及能看明白的，转载自：\u003Cbr\u003E\u003Ca href=\u0022\/\/link.zhihu.com\/?target=http%3A\/\/www.cnblogs.com\/biglucky\/p\/4223565.html\u0022\u003E1.2CPU和GPU的设计区别\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cp\u003ECPU和GPU之所以大不相同，是由于其设计目标的不同，它们分别针对了两种不同的应用场景。CPU需要很强的通用性来处理各种不同的数据类型，同时又要逻辑判断又会引入大量的分支跳转和中断的处理。这些都使得CPU的内部结构异常复杂。而GPU面对的则是类型高度统一的、相互无依赖的大规模数据和不需要被打断的纯净的计算环境。\u003C\/p\u003E\u003Cp\u003E　　于是CPU和GPU就呈现出非常不同的架构（示意图）：\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/918367f36e34c18dc1f92bd16760dae1_b.jpg?rss\u0022 alt=\u0022918367f36e34c18dc1f92bd16760dae1_b.jpg?r\u0022\u003E\u003C\/p\u003E\u003Cp\u003E　　图片来自nVidia CUDA文档。其中绿色的是计算单元，橙红色的是存储单元，橙黄色的是控制单元。\u003C\/p\u003E\u003Cp\u003EGPU采用了数量众多的计算单元和超长的流水线，但只有非常简单的控制逻辑并省去了Cache。而CPU不仅被Cache占据了大量空间，而且还有有复杂的控制逻辑和诸多优化电路，相比之下计算能力只是CPU很小的一部分\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/894e6d2f20921e7c8be985bbb0dac5d5_b.png?rss\u0022 alt=\u0022894e6d2f20921e7c8be985bbb0dac5d5_b.png?r\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E　　从上图可以看出：\u003C\/p\u003E\u003Cp\u003ECache, local memory： CPU \u0026gt; GPU \u003C\/p\u003E\u003Cp\u003EThreads(线程数): GPU \u0026gt; CPU\u003C\/p\u003E\u003Cp\u003ERegisters: GPU \u0026gt; CPU  多寄存器可以支持非常多的Thread,thread需要用到register,thread数目大，register也必须得跟着很大才行。\u003C\/p\u003E\u003Cp\u003ESIMD Unit(单指令多数据流,以同步方式，在同一时间内执行同一条指令): GPU \u0026gt; CPU。 \u003C\/p\u003E\u003Cp\u003ECPU 基于低延时的设计：\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/7e4a25ee38ec4e194d3424edb000d526_b.png?rss\u0022 alt=\u00227e4a25ee38ec4e194d3424edb000d526_b.png?r\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003ECPU有强大的ALU（算术运算单元）,它可以在很少的时钟周期内完成算术计算。\u003C\/p\u003E\u003Cp\u003E当今的CPU可以达到64bit 双精度。执行双精度浮点源算的加法和乘法只需要1～3个时钟周期。\u003C\/p\u003E\u003Cp\u003ECPU的时钟周期的频率是非常高的，达到1.532～3gigahertz(千兆HZ, 10的9次方).\u003C\/p\u003E\u003Cp\u003E大的缓存也可以降低延时。保存很多的数据放在缓存里面，当需要访问的这些数据，只要在之前访问过的，如今直接在缓存里面取即可。\u003C\/p\u003E\u003Cp\u003E复杂的逻辑控制单元。当程序含有多个分支的时候，它通过提供分支预测的能力来降低延时。\u003C\/p\u003E\u003Cp\u003E数据转发。 当一些指令依赖前面的指令结果时，数据转发的逻辑控制单元决定这些指令在pipeline中的位置并且尽可能快的转发一个指令的结果给后续的指令。这些动作需要很多的对比电路单元和转发电路单元。 \u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/654c7ff0a711e8e0740e33a9b0c17bb2_b.png?rss\u0022 alt=\u0022654c7ff0a711e8e0740e33a9b0c17bb2_b.png?r\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003EGPU是基于大的吞吐量设计。\u003C\/p\u003E\u003Cp\u003EGPU的特点是有很多的ALU和很少的cache. 缓存的目的不是保存后面需要访问的数据的，这点和CPU不同，而是为thread提高服务的。如果有很多线程需要访问同一个相同的数据，缓存会合并这些访问，然后再去访问dram（因为需要访问的数据保存在dram中而不是cache里面），获取数据后cache会转发这个数据给对应的线程，这个时候是数据转发的角色。但是由于需要访问dram，自然会带来延时的问题。\u003C\/p\u003E\u003Cp\u003EGPU的控制单元（左边黄色区域块）可以把多个的访问合并成少的访问。\u003C\/p\u003E\u003Cp\u003EGPU的虽然有dram延时，却有非常多的ALU和非常多的thread. 为啦平衡内存延时的问题，我们可以中充分利用多的ALU的特性达到一个非常大的吞吐量的效果。尽可能多的分配多的Threads.通常来看GPU ALU会有非常重的pipeline就是因为这样。\u003C\/p\u003E\u003Cp\u003E所以与CPU擅长逻辑控制，串行的运算。和通用类型数据运算不同，GPU擅长的是大规模并发计算，这也正是密码破解等所需要的。所以GPU除了图像处理，也越来越多的参与到计算当中来。\u003C\/p\u003E\u003Cp\u003EGPU的工作大部分就是这样，计算量大，但没什么技术含量，而且要重复很多很多次。就像你有个工作需要算几亿次一百以内加减乘除一样，最好的办法就是雇上几十个小学生一起算，一人算一部分，反正这些计算也没什么技术含量，纯粹体力活而已。而CPU就像老教授，积分微分都会算，就是工资高，一个老教授资顶二十个小学生，你要是富士康你雇哪个？GPU就是这样，用很多简单的计算单元去完成大量的计算任务，纯粹的人海战术。这种策略基于一个前提，就是小学生A和小学生B的工作没有什么依赖性，是互相独立的。很多涉及到大量计算的问题基本都有这种特性，比如你说的破解密码，挖矿和很多图形学的计算。这些计算可以分解为多个相同的简单小任务，每个任务就可以分给一个小学生去做。但还有一些任务涉及到“流”的问题。比如你去相亲，双方看着顺眼才能继续发展。总不能你这边还没见面呢，那边找人把证都给领了。这种比较复杂的问题都是CPU来做的。\u003C\/p\u003E\u003Cp\u003E　　总而言之，CPU和GPU因为最初用来处理的任务就不同，所以设计上有不小的区别。而某些任务和GPU最初用来解决的问题比较相似，所以用GPU来算了。GPU的运算速度取决于雇了多少小学生，CPU的运算速度取决于请了多么厉害的教授。教授处理复杂任务的能力是碾压小学生的，但是对于没那么复杂的任务，还是顶不住人多。当然现在的GPU也能做一些稍微复杂的工作了，相当于升级成初中生高中生的水平。但还需要CPU来把数据喂到嘴边才能开始干活，究竟还是靠CPU来管的。\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E什么类型的程序适合在GPU上运行？\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E　　（1）计算密集型的程序。所谓计算密集型(Compute-intensive)的程序，就是其大部分运行时间花在了寄存器运算上，寄存器的速度和处理器的速度相当，从寄存器读写数据几乎没有延时。可以做一下对比，读内存的延迟大概是几百个时钟周期；读硬盘的速度就不说了，即便是SSD, 也实在是太慢了。\u003C\/p\u003E\u003Cp\u003E　　（2）易于并行的程序。GPU其实是一种SIMD(Single Instruction Multiple Data)架构， 他有成百上千个核，每一个核在同一时间最好能做同样的事情。\u003C\/p\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/19903344\/answer\/96081382?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E知乎用户（登录查看详情）\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n此问题还有 \u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/19903344\/answer\/96081382?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E29 个回答，查看全部。\u003C\/a\u003E\u003Cbr\u003E \n                延伸阅读：\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/26998618?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E芯片里面有几千万的晶体管是怎么实现的？\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/28935966?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E为什么 CPU 只用硅做，而不用能耗更低的锗做？\u003C\/a\u003E\u003Cbr\u003E"},"author":"知乎用户（登录查看详情）","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1487988524000","timestampUsec":"1487988524000000","id":"tag:google.com,2005:reader\/item\/00000002934cf8bd","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"境外自驾必备 | 法国终于能自驾了！那其他国家呢？","published":1487982600,"updated":0,"starred":1487988524,"canonical":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25375878?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25375878?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\n                \u003Ccenter\u003E\n                    \u003Cdiv style=\u0022text-align:center;color:#424242;font-size:0.8em;margin-bottom:30px;\u0022\u003E\n                        \u003Cdiv\u003E\n                            Ads from Inoreader \u0026bull; \u003Ca target=\u0022_blank\u0022 style=\u0022text-decoration:underline;color:#424242;\u0022 href=\u0022https:\/\/www.inoreader.com\/about_ads\u0022\u003ERemove\u003C\/a\u003E\n                        \u003C\/div\u003E\n                        \u003Cdiv style=\u0022margin-top:10px;\u0022\u003E\n                            \u003Ca href=\u0022http:\/\/www.inoreader.com\/adv\/www\/delivery\/ck.php?n=a49f975d\u0026cb=58df610809235\u0022 target=\u0022_blank\u0022\u003E\u003Cimg src=\u0022http:\/\/www.inoreader.com\/adv\/www\/delivery\/avw.php?zoneid=23\u0026from_api=1\u0026cb=58df610809235\u0026n=a49f975d\u0026sens=0\u0026pd=2\u0022 style=\u0022border:0;width:320px;height:50px;margin:0; auto 0 auto !important;float:none !important;\u0022\u003E\u003C\/a\u003E\n                        \u003C\/div\u003E\n                    \u003C\/div\u003E\n                    \u003Cdiv style=\u0022clear:both;\u0022\u003E\n                    \u003C\/div\u003E\n                \u003C\/center\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-673454f01699d0ec9046e1f82e43ab39_b.jpg\u0022 width=\u00221622\u0022 alt=\u0022v2-673454f01699d0ec9046e1f82e43ab39_b.jp\u0022\u003E盼望着，盼望着，法国自驾“解开封印”的消息终于来了。从昨天晚上开始，我们就被一则“中法两国达成《中法驾照互认协议》”的信息刷了屏。\u003Cbr\u003E\u003Cp\u003E小伙伴都在欢呼雀跃：终于可以在卢瓦尔河谷的宁静乡间、南法的蔚蓝海岸线驾车驰骋了！\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-7633cedc5b146a6d72a80c0fe1ee8755_b.png\u0022 width=\u00221970\u0022 alt=\u0022v2-7633cedc5b146a6d72a80c0fe1ee8755_b.pn\u0022\u003E\u003Cp\u003E消息虽然有点长，但对于普通的旅行者来说，这个规定只有一句话：凭\u003Cstrong\u003E中国驾驶证和翻译件\u003C\/strong\u003E就可以直接驾车。而且，互认的驾驶证准驾车型也相当的丰富，连中型客车和摩托车都包含在内呢~\u003C\/p\u003E\u003Cp\u003E但是！对于某些跑过来问我们“翻译件可不可以自己翻？”的小盆友，我只能大吼一声 “停下你那只准备开始翻译的手！ 🙂” \u003C\/p\u003E\u003Cp\u003E虽然公告里并没有规定翻译件的具体要求，但是保险起见，我们强烈建议大家使用官方承认的公证处出具的翻译件。毕竟，目前我们只能确定这些翻译件是具备法律效力的（如果以后有了详细规定，我们会再更新哒）。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E有些盆友问到说租车公司提供的翻译件是否可以使用，我们在这里提醒大家，这些翻译件都是仅供租车时使用的，并不具备法律效力。在这种情况下，一旦发生警察路检、旅行者违反交通规则或者发生交通意外等情况，如果不能出示法律规定的证件，将会被视作无证驾驶，并面临罚款甚至是拘留。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E而且，我们还要好（tao）心（yan）地提醒大家，在大家都期待着马上就可以在法国开车了的时候，有没有看到这句话呢~？\u003Cbr\u003E\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-377145b6949c16a7f6ef65301b56df63_b.jpg\u0022 width=\u00221278\u0022 alt=\u0022v2-377145b6949c16a7f6ef65301b56df63_b.jp\u0022\u003E\u003Cp\u003E在「90日后生效」前面，还有「完成国内法律确认手续」几个字！所以具体什么时候我们才可以真正合法地在法国自驾……不好意思，现在还不得而知 ┑(￣Д ￣)┍\u003C\/p\u003E\u003Cp\u003E美美的法国自驾小梦想，还是先稍稍放一放吧。\u003Cbr\u003E\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-183142da546cb30c2978f26200d47f7b_b.jpg\u0022 width=\u00222000\u0022 alt=\u0022v2-183142da546cb30c2978f26200d47f7b_b.jp\u0022\u003E\u003Cp\u003E这几年随着海外自驾的热度逐渐上升，不少拥有神级车技的旅行者都迅速晋级成为“海外自驾狂人”。但是，面对海外自驾，也有很多问题，比如除了法国这样的专门与我们签订了互认换领协议的国家之外，还有什么国家能自驾？自驾的话都要出示什么证件？\u003Cbr\u003E\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E国际驾照\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E说起境外自驾，就不得不提国际驾照（International Driving Permit）。其实通常所说的“国际驾照”实际上是《国际道路交通公约》所有缔约国之间相互承认的、各国对本国驾照进行转换翻译的文件。持有符合此类要求的文件，可以在承认国际驾照的国家驾驶相对应的车辆种类。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E但！是！我们需要提醒大家，中国并没有加入这个公约，因此中国国内没有任何机构可以颁发有效的文件，而中国驾照也不可在境外自驾时直接使用。如果大家在网络上有人声称可以帮助中国驾照持有人办理“国际驾照”，一定要多加提防。\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E境外自驾必备文件\u003C\/b\u003E\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E一般而言，中国旅行者如果想在海外某个国家自驾，可能会碰到以下几种情况：\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E1)\t这个国家不允许国外旅行者自驾；\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E2)\t这个国家允许旅行者自驾，但只认可“本国护照+国际驾照”的组合；\u003C\/p\u003E\u003Cp\u003E3)\t这个国家允许旅行者自驾，且支持「中国大陆护照+公证翻译件\/公证件\/翻译件」的组合。\u003C\/p\u003E\u003Cp\u003E其中，驾照翻译件指的是对中国大陆驾照内容进行指定语言的翻译，并打印出来的纸质文件，各国对于进行翻译的结构都有不同的规定。而驾照公证件必须由公证处签发的，中国旅行者必须带着驾照原件和复印件、身份证原件和复印件、户口本原件和复印件前往所在城市公证处办理。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E因此，旅行者在出发前一定要搞清楚目的地国家是否接受中国护照，并且根据目的地国家要求提前做好公证或者翻译（或者两者都需要）。在自驾的途中，也必须随身携带护照、驾照、公证件和翻译件，否则很容易被认为违反法律规定，并被处以罚金，有时候甚至会留下黑记录，影响下次入境。\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-3167f8cb3673dcd36c162cebee5ba95d_b.jpg\u0022 width=\u00224200\u0022 alt=\u0022v2-3167f8cb3673dcd36c162cebee5ba95d_b.jp\u0022\u003E\u003Ch2\u003E\u003Cb\u003E热门国家自驾要求\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E在中国旅行者中间，目前比较热门的目的地包括美国、澳大利亚、新西兰、德国、加拿大、日本、英国等。我们就在这里介绍一下上面各国对于外国人自驾的相关规定。\u003Cbr\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cb\u003E美国\u003C\/b\u003E\u003Cbr\u003E\u003Cp\u003E由于美国各个州可以自行制定相关法律，因此，每个州对于自驾的规定也不尽相同。比如新泽西州只承认国际驾照；但是西部国家公园比较多的内华达州、加州等，都允许中国旅行者使用含有英文的中国驾照进行租车以及自驾，并且要求以上证件必须在旅途中随身携带。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E需要注意的是，虽然美国大部分州都可以使用中国驾照，但各个州对于中国驾照的有效期有不同的规定，因此锦囊君建议各位出发前确认行程范围，多浏览其他旅行者的经验，并且了解行程所涉及的州份接不接受中国驾照并且对中国驾照有效期是否有要求。\u003C\/p\u003E\u003Cbr\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-6808a3d6bd98dd3dd3557218558ba367_b.jpg\u0022 width=\u00221024\u0022 alt=\u0022v2-6808a3d6bd98dd3dd3557218558ba367_b.jp\u0022\u003E\u003Cbr\u003E\u003Cb\u003E德国\u003C\/b\u003E\u003Cbr\u003E\u003Cp\u003E按照德国法律的规定，以及德国领事馆的解释，在德国境内合法使用中国驾照的前提是：通过\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.justiz-dolmetscher.de\/\u0022\u003EGerichtliche Dolmetscher\/innen und Übersetzer\/innen suchen\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E找到一位经德国法院指定的宣誓翻译（目前有一位居住在中国国内），取得联系后，获得他翻译的驾驶证译文；或者将驾驶证送往公证处，进行德语翻译并公证，然后再将公证书送往外办或直接送往领事馆进行领事认证。这样获得的译文或公证书请和驾驶证一起，在德国自驾时全程携带。翻译或公证的有效期为6个月，从入境德国的日期算起。\u003C\/p\u003E\u003Cbr\u003E\u003Cb\u003E日本\u003C\/b\u003E\u003Cbr\u003E\u003Cp\u003E目前日本只承认国际驾照以及中国台湾地区的驾照，除非持有居留签证，否则不能考取日本驾照，也就是说，持有旅游签证的中国旅行者不能在日本国内自驾。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cb\u003E新西兰\u003C\/b\u003E\u003Cbr\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E在新西兰，中国旅行者可凭有效的中国驾照（驾照原件及有效英文译本）或者国际驾\u003C\/p\u003E\u003Cp\u003E照许可合法开车，有效期最长12个月。可提供有效英文译本的机构有：新西兰交通局认可的翻译服务机构、高级外交机构(如领事馆或大使馆)以及授予海外证件的当局(国际驾驶执照可被视为翻译件)、中国公证处等。不论使用以上哪种翻译件，在前往新西兰自驾的时候，都需携带驾照原件和翻译件。凭中国驾照及有效译本在新西兰驾驶的有效期最长为12个月。\u003C\/p\u003E\u003Cbr\u003E\u003Cb\u003E澳大利亚\u003C\/b\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-47150fc7afbb4a1f4e71bb2d46d54d2e_b.jpg\u0022 width=\u00222816\u0022 alt=\u0022v2-47150fc7afbb4a1f4e71bb2d46d54d2e_b.jp\u0022\u003E\u003Cp\u003E在澳大利亚（除北领地外），中国旅行者自驾时只需随身携带好有效的中国驾照、公证翻译件以及护照即可。但是要注意，旅行者所驾驶的车辆类型必须和中国驾照上列出的相对应。凭中国驾照及公证翻译件在澳大利亚驾驶的有效期最长为3个月。\u003C\/p\u003E\u003Cbr\u003E\u003Cb\u003E法国\u003C\/b\u003E\u003Cbr\u003E\u003Cp\u003E法国法律规定持有国际驾照或欧盟国家驾照能在法国自驾。但是法国交通部没有排除中国驾照的合法性。据穷游er们反映，在法国短期居留（如旅行）的旅行者可以自驾，但是驾照必须有效，且经公证处翻译为法文并公证。在法国旅行时需要随身携带驾照以及公证翻译件，驾驶的有效期最长为12个月。但是在这种情况下，如果出现交通事故等情况，并且是旅行者的责任时，旅行者容易被当地警察刁难，而且在保险理赔上极有可能吃亏。\u003C\/p\u003E\u003Cbr\u003E\u003Cb\u003E加拿大\u003C\/b\u003E\u003Cbr\u003E\u003Cp\u003E加拿大各个省关于外国游客自驾的规定各不相同，原则上中国旅行者可凭有效的中国驾照开车，但是基本上都需要事先对中国驾照进行翻译，而不同的省份对于是否要公证则说法不一，锦囊君建议大家还是办理一份公证比较妥当。旅行时记得随身携带护照、驾照原件以及翻译件和公证件。 \u003C\/p\u003E\u003Cbr\u003E\u003Cblockquote\u003E虽然在实际的租车过程中，各个租车公司在办理手续时未必会要求中国旅行者出示相应的公证书或者翻译件，也不会对于旅行者的证件进行合法性和真实性的检查，有时候甚至不按目的地国家的规定直接将车租给旅行者，但是这并不代表旅行者在这个国家驾驶就是合法的。一旦发生警察路检、旅行者违反交通规则或者发生交通意外等情况，如果旅行者不能出示法律规定的证件，将会被视作无证驾驶，并面临罚款甚至是拘留。所以大家出发前一定要做好准备，避免不必要的麻烦哦！\u003Cbr\u003E\u003C\/blockquote\u003E\u003Cp\u003E到了一个国家如何才能合法地开车，我们介绍的差不多了。至于究竟要怎么开，哪条线路最好玩，开车都能看到些什么，\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/guide.qyer.com\/app\/download\/%3Fcampaign%3Dapp_guide%26category%3Dzhihu_25375878\u0022\u003E“穷游锦囊”App\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 里的几本自驾锦囊都做了详细的推荐，欢迎有空的时候去看看哦。\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-eb9e3e9bc14ff0b3eba6e215c0e36f6a_b.jpg\u0022 width=\u0022670\u0022 alt=\u0022v2-eb9e3e9bc14ff0b3eba6e215c0e36f6a_b.jp\u0022\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-67683da38a6d205594fa389e2720f49d_b.jpg\u0022 width=\u0022670\u0022 alt=\u0022v2-67683da38a6d205594fa389e2720f49d_b.jp\u0022\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-fd1a87ee75526d3390067e25a686e803_b.jpg\u0022 width=\u0022670\u0022 alt=\u0022v2-fd1a87ee75526d3390067e25a686e803_b.jp\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/qiong-you-jin-nang?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003E穷游锦囊\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E"},"author":"穷游锦囊","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1487870046000","timestampUsec":"1487870046000000","id":"tag:google.com,2005:reader\/item\/000000029269bcf1","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"奥斯卡 · 摄影师和工程师看到的《降临》好不一样啊","published":1487844000,"updated":1487948463,"starred":1487870046,"canonical":[{"href":"http:\/\/daily.zhihu.com\/story\/9247023"}],"alternate":[{"href":"http:\/\/daily.zhihu.com\/story\/9247023","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cdiv\u003E \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E\u003C\/div\u003E \n \n \n \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n \n \n \n \n\u003Cdiv\u003E \n\u003Ch2\u003E\u003C\/h2\u003E \n \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E \n\u003Cp\u003E「奥斯卡」小专题会和大家一起鉴赏今年奥斯卡的热门影片，欢迎参与讨论~\u003C\/p\u003E\n \n\u003Cp\u003E《降临》获第 89 届奥斯卡提名的奖项有：\u003C\/p\u003E\n \n\u003Cul\u003E\u003Cli\u003E最佳影片\u003C\/li\u003E\n \n\u003Cli\u003E最佳导演\u003C\/li\u003E\n \n\u003Cli\u003E最佳改编剧本\u003C\/li\u003E\n \n\u003Cli\u003E最佳音效剪辑\u003C\/li\u003E\n \n\u003Cli\u003E最佳混音\u003C\/li\u003E\n \n\u003Cli\u003E最佳美术设计\u003C\/li\u003E\n \n\u003Cli\u003E最佳摄影\u003C\/li\u003E\n \n\u003Cli\u003E最佳剪辑\u003C\/li\u003E\n \n\u003C\/ul\u003E\u003C\/div\u003E \n\u003C\/div\u003E \n \n \n\u003C\/div\u003E \n \n \n \n \n \n\u003Cdiv\u003E \n\u003Ch2\u003E\u003C\/h2\u003E \n \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E \n\u003Cimg src=\u0022http:\/\/pic3.zhimg.com\/v2-8c295d22abda48da9efe7b1dc8dd8ae6_is.jpg\u0022 alt=\u0022v2-8c295d22abda48da9efe7b1dc8dd8ae6_is.j\u0022\u003E\u003Cspan\u003E寻找风景的人，\u003C\/span\u003E\u003Cspan\u003E寻找风景的人\u003C\/span\u003E \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n\u003Cp\u003E我没有看过原著，借助于网络上不少高人的介绍，我算是了解了原著小说，很多人都把电影和小说进行了非常细致的比较，说实在话，到底看了小说，还是没有看过小说，哪一种观众更加幸福呢？我不敢说，对于我来说，《降临》的魅力就在于，在走近黑暗的银幕前，我完全不知道我将要面对什么，其感受类似于路易斯第一次坐着升降车进入黑色的外星人飞船一样，充满着好奇和神秘。那些读过小说的观众，可能更加如同获得预知未来之后的路易斯，已经知道结局，唯一的诱惑（似乎没有更好的词汇）就是看看那注定要来的结局是如何呈现在我的面前的。\u003C\/p\u003E\n \n\u003Cp\u003E如果时间是非线性的，因果并不一定是对应的关系，我就不妨先谈谈我走出电影院之后的感受。电影院观众一共五个人，全部是我认识的朋友，这得以让我可以安静地欣赏这部电影。走出影院，我的一个感受就是：哦，目前我所掌握的一切关于电影拍摄的知识，技能，看法和观念，无论如何都看起来如此的浅薄。对，就是浅薄这个词汇。 对于电影的形式，对于生活的看法，对于技术手段的运用，至少在我个人所能够达到的层面来说，同《降临》相比，如同一个正在叶片上吸食露水的甲虫，突然看到了叶子上空飞过的航空器。我目前正在拍摄的电影，怎么看起来，想起来，或许事实也确实如此（心里非常明白），如此地落后和做作呢？\u003C\/p\u003E\n \n\u003Cp\u003E似乎我过去的电影拍摄，总是要抡圆了胳膊去做一件事情，为一个画面和场景，拼命地去附加各种不太有真正价值的东西，使得它们看起来不至于那么“难看”，或者像一个什么大家熟悉的东西，对，就如同把一块无味的面包上面敷上一层老干妈，去让它好吃，有味道，而忽略了，无味的面包，细细品尝，有可能却味道无穷。经常，我对于正在拍摄的内容和形式，场景等等，总是充满着不自信，所以需要做很多去弥补和遮丑。其中的感受，真实难以尽言。\u003C\/p\u003E\n \n\u003Cp\u003E诸如《降临》这样的电影，我首先看到的是一种我们电影很少出现的状态：松弛和自信。\u003C\/p\u003E\n \n\u003Cp\u003E影片一开始关于路易斯生活场景的接受，影调非常真实，甚至可以说是一种自然主义。摄影师并没有去修饰什么，大多数场景，甚至包括“贝壳”之内的，依然是以真实光效为主。作为一个摄影师，我可以找出一万个理由，把里面的场景拍摄地更加具有戏剧张力，光效更加“绝妙”，但是他们没有这么做。从我的观点来看，这实际上就是一种自信。他们相信他们所要表达的内容和信息，并且对它充满了智慧，真实是悲悯。这就是差距，一种看不见的，巨大的，不可超越的沟壑，横贯在我的电影和他们电影之间的东西。\u003C\/p\u003E\n \n\u003Cp\u003E影片外星人降临的外景，是电影中我特写喜欢的部分，它总是阴沉沉的，天空布满“质感十足”的阴云，男女主角，特别是 Amy 自然的肌肤，出于阴郁的空气当中。有的时候，天际之间的阳光投射过来，淡淡地印在脸庞之上。很多人说丹尼斯选用了一种艺术电影风格的影调来拍摄这样的科幻大片（似乎目前是一种潮流）。我部分同意这样一种看法。但是所谓的艺术电影的风格并不准确。可能，导演和摄影师他们希望电影给人们一种淡雅，真实，甚至是哀婉的调子。尤其是给路易斯和 Ian 的爱情，蒙上一种悲悯的格调。于是他们如此做了。我可以这样做吗？如果，我能有这样的机会来拍摄这样电影？答案，我不知道，可能制片人和导演希望“大片需要有大片的样子”，不同意这样的处理，也可能我自己没有自信，用如此“简易”的手段处理如此复杂和微妙的情感，总之，最后很有可能走向过去的老路：手段，手段……\u003C\/p\u003E\n \n\u003Cp\u003E忍不住要说一下女演员 Amy Adams ，她的电影我看了不少，过去并没有太多的关注，但是《降临》彻底改变了我的看法，觉得在银幕上她太美了，那种勇敢，敏感，善良的气质真实地打动了我。不少“碎片”镜头，摄影师用超大光孔，极其浅的精深，非常完美地表现了她丰富的脸庞和表情。然而这都不是全部，主要是这个演员的气质，这是没有办法复制和学习的。包括雷纳，过去我不大喜欢他，老觉得他破坏了《伯恩的身份》系列的完整性，但是在这部电影中，他却表现的不错。可能，这种感觉还是来源于 Amy 的表演。她眼中的未来的丈夫，尽管有悲剧性的收场，但是在那个时刻，黄昏，男人像女人表达爱意的时刻，雷纳依然是一种美好。 一个人的完美，会导致身边人的完美，这是我过去观影经验中没有的。\u003C\/p\u003E\n \n\u003Cp\u003E电影，特别是落到了像阿伦洛夫斯基，丹尼斯维兰纽夫，克里斯托弗等人的手中的电影，必然产生一种新的动向，或者称为“暗物质”，它悄悄地生长，盘绕到电影过去价值，观念和手段的树干之上，最后导致了旧电影的死亡，新电影的诞生。无论是意念，影调，人物的设定等等，完全的革新，充满着最深邃的智慧，毫无疑问，这可能是未来电影最迷人的地方。我辈，无缘与之相交了，真实遗憾！\u003C\/p\u003E \n\u003C\/div\u003E \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E \n\u003Cimg src=\u0022http:\/\/pic3.zhimg.com\/0db1bed5bf68b3e612a6224a45cb9786_is.jpg\u0022 alt=\u00220db1bed5bf68b3e612a6224a45cb9786_is.jpg\u0022\u003E\u003Cspan\u003EYY硕，\u003C\/span\u003E\u003Cspan\u003E机器人工程师\u003C\/span\u003E \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n\u003Cp\u003EArrival 去年在美国上映之后，美国也有一番大讨论。其中最吸引人的当然是电影里的科学元素是如何设计的。电影的 writer\/producer Eric Heisserer 发了一系列的 tweet 来解释这部电影中文字的设计和分析：\u003Ca href=\u0022http:\/\/link.zhihu.com\/?target=https%3A\/\/twitter.com\/HIGHzurrer\/status\/798212183607812096\u0022\u003Ehttps:\/\/twitter.com\/HIGHzurrer\/status\/798212183607812096\u003C\/a\u003E\u003C\/p\u003E\n \n\u003Cp\u003E设计师 Patrice Vermette 带领团队设计了一百个形态各异的环形文字，文字的模块都是有定义的。后来著名的 Stephen Wolfram（科学计算语言 Mathematica 的发明人，如果你不知道 Mathematica 是什么，可以在 \u003Ca href=\u0022https:\/\/www.zhihu.com\/question\/27834147\u0022\u003EMathematica 到底有多厉害？\u003C\/a\u003E这个问题里感受感受）和他的儿子参与了电影的制作过程，Stephen Wolfram 为电影贡献了很多科学的元素，而他的儿子 Christopher 写了代码帮助电影里科学家团队进行语言的分析。\u003C\/p\u003E\n \n\u003Cp\u003EStephen Wolfram 在这篇 blog 里详细记录了自己参与电影的过程：\u003Ca href=\u0022http:\/\/link.zhihu.com\/?target=http%3A\/\/blog.stephenwolfram.com\/2016\/11\/quick-how-might-the-alien-spacecraft-work\/\u0022\u003EQuick, How Might the Alien Spacecraft Work?\u003C\/a\u003E\u003C\/p\u003E\n \n\u003Cp\u003E举个例子，直接上影片里一个镜头的呈现代码：\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/pic2.zhimg.com\/70\/v2-d32df591bfc2ab760770e248d5874ee1_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E（来自 Stephen Wolfram 的 blog）\u003C\/p\u003E\n \n\u003Cp\u003E另一个例子，我们可以在电影的截图里明白地看到，分析代码用的就是 Mathematica 的 notebook：\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/pic3.zhimg.com\/70\/v2-85865e446ad558cacbe759daf05a1676_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E另外，Stephen Wolfram 还贡献了一白板的对于电影中飞船“贝壳”飞行原理的解释（其实是装逼的）：\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/pic4.zhimg.com\/70\/v2-8092368059ffa1ec2c9c284c75bf6733_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E他的解释有一部分出现在了电影里\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/pic1.zhimg.com\/70\/v2-36579ebcb1b07961b2bb1db57add9724_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E按照 Stephen Wolfram 的说法，他的 whiteboard 上假设了贝壳可以高速旋转发出引力波，并且有特定的频谱，让飞船在时空中能够像游泳一样前进。他抛出了大量爱因斯坦的广义相对论的公式，直接把原先剧组在黑板上写的“高中物理”提升了好几个数量级……然而有没有道理，还是要坐等物理系大神来打脸。\u003C\/p\u003E\n \n\u003Cp\u003EStephen Wolfram 的另一部分工作是，解释时空的概念，并给出一种 visualize 时空的方式：\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/pic3.zhimg.com\/70\/v2-4fbf28cf532c014699a26d117d1f2d1a_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E在电影的最后，Ian 发现了外星人想传达的信息是一坨光点，那些光点的形态和上图中这个时空的结构非常相似。我猜测光点的艺术效果就是按照 Stephen Wolfram 给出的这个图案来设计的。\u003C\/p\u003E\n \n\u003Cp\u003E随着电影技术的发展，科学家在科幻电影制作过程中的参与度也越来越高。Stephen Wolfram 在他的博客里总结道，几十年前，人工智能的先驱 Marvin Minsky 就指导过著名科幻电影《2001 太空漫游》， 古生物学家 Jack Horner 为《侏罗纪公园》提供完善的古生物学理论；最近，又有物理学家 Kip Thorne 为《星际穿越》设计黑洞的样式和剧情；数学家 Manjul Bhargava 为《知无涯者》（The Man Who Knew Infinity）提供详细的数学公式的指导……这些科学家都是在电影后期制作的时候才加入的，而 Stephen Wolfram 则更进一步，在电影刚开始拍摄的时候就参与了科学内容的指导。在我看来， 电影《降临》最大的意义是告诉我们：技术的发展给科学家们可视化数据的能力带来了提升，这种可视化数据的能力在弥补科幻电影和现实科学的鸿沟，同时也能深化公众对于科学的理解。\u003C\/p\u003E\n \n\u003Cp\u003E作为一个科幻电影，《降临》中的科学家并没有使用多么超现实的科学技术，爱因斯坦的引力波理论，Wolfram 的 Mathematica，都是已经存在的理论和技术。破译外星人语言依靠的语言学理论，也是发展了很多年的科学理论。影片利用人类已有的科学知识和技术工具，用近乎正常科学实验的方式展示了与外星人建立信息沟通渠道的过程，再加上 Stephen Wolfram 严格提供的科学知识，真实性极强。如果地球上真的出现外星人的话，\u003Cstrong\u003E电影中的情节就是我们进行第三类接触的正确操作流程\u003C\/strong\u003E，我们也确实应该那样写出一黑板公式和分析的程序。\u003C\/p\u003E\n \n\u003Cp\u003E两个星期前我在极客公园的演讲上（\u003Ca href=\u0022http:\/\/link.zhihu.com\/?target=http%3A\/\/www.geekpark.net\/topics\/217694\u0022\u003E技术实力背后，大疆如何打造自己的「工程师文化」？\u003C\/a\u003E）讲到：\u003C\/p\u003E\n \n\u003Cblockquote\u003E在很多好莱坞的电影里，一般来说电影都会用科技和机器人的元素去吸引人们的眼球，而且一般好莱坞的电影里，主角会有那么一两个人是科学家。而且这些科学家会用自己的科技知识和工程知识发现电影中关键的线索，去推动整个故事情节的发展。\u003C\/blockquote\u003E\n \n\u003Cp\u003E每次看到《降临》这样的电影的时候，我其实都在想这个问题。所以看到美国的同行们越来越多地参与科幻电影的制作，真心嫉妒啊。\u003C\/p\u003E\n \n\u003Cp\u003E当然，我也在演讲里也提到：\u003C\/p\u003E\n \n\u003Cblockquote\u003E反观我们中国的影视作品就没有这样的一些故事，是因为我们国家缺少机器人工程师和厉害的机器人吗？我们觉得并不是这样。所以为了贯彻这样的想法，也在社会上更加好的推广工程师文化，RoboMasters 邀请一个日本知名的动画团队，制作了一个动漫，这个动漫讲述了一群中国的大学生在参加 RoboMasters 这个比赛的过程中，了解自己、学会与他人沟通的故事。\u003C\/blockquote\u003E\n \n\u003Cp\u003E在读 Stephen Wolfram 的文章的时候，我也想到 RoboMasters 团队现在正在做的这项工作：支持动画团队制作机器人主题的动画片。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022http:\/\/pic3.zhimg.com\/70\/v2-71f4639fd679888c187f77517a54c742_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E当然，动画和电影比起来还是小打小闹了很多。不过就像大疆曾经追赶并打败国外同行的很多事情一样，在通过影视作品宣传科技文化和工程师文化上面，我们也在努力追赶。在制作这部动画片的过程中，我们的工程师也提供了大量的理论知识、机械设计图、技术点以及实际的代码和可视化图形，让观众在看动画片的时候，也能够体会到机器人竞技中的机械之美。\u003C\/p\u003E\n \n\u003Cp\u003E所以作为一个工程师团队，《降临》对我们也是一种激励呢！\u003C\/p\u003E \n\u003C\/div\u003E \n\u003C\/div\u003E \n \n \n\u003Cdiv\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/49684038\u0022\u003E查看知乎讨论\u003Cspan\u003E\u003C\/span\u003E\u003C\/a\u003E\u003C\/div\u003E \n \n\u003C\/div\u003E \n \n \n \n \n \n\u003Cdiv\u003E \n\u003Ch2\u003E\u003C\/h2\u003E \n \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E \n\u003Cp\u003E更多讨论，查看知乎圆桌 · \u003Ca href=\u0022https:\/\/www.zhihu.com\/roundtable\/oscar2017\u0022\u003E2017 奥斯卡巡礼\u003C\/a\u003E\u003C\/p\u003E \n\u003C\/div\u003E \n\u003C\/div\u003E \n \n \n\u003C\/div\u003E \n \n \n\u003C\/div\u003E \n\u003C\/div\u003E"},"author":"知乎日报","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/zhihudaily.dev.malash.net\/","title":"知乎日报","htmlUrl":"http:\/\/daily.zhihu.com\/"}},{"crawlTimeMsec":"1487725594000","timestampUsec":"1487725594000000","id":"tag:google.com,2005:reader\/item\/00000002910fd598","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"社交网络都在做个性化推荐，这是我在 Facebook 的经验","published":1487649600,"updated":1487776743,"starred":1487725594,"canonical":[{"href":"http:\/\/daily.zhihu.com\/story\/9241391"}],"alternate":[{"href":"http:\/\/daily.zhihu.com\/story\/9241391","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cdiv\u003E \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E\u003C\/div\u003E \n \n \n \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n \n \n \n \n\u003Cdiv\u003E \n\u003Ch2\u003E个性化推荐网站怎么评价推荐质量的优劣？\u003C\/h2\u003E \n \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E \n\u003Cimg src=\u0022http:\/\/pic2.zhimg.com\/b7f05fc850fb5abb07f64c278e9772ad_is.jpg\u0022 alt=\u0022b7f05fc850fb5abb07f64c278e9772ad_is.jpg\u0022\u003E\u003Cspan\u003E宋一松，\u003C\/span\u003E\u003Cspan\u003EFacebook+Uber前员工，硅谷混子\u003C\/span\u003E \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n\u003Cp\u003E在 Facebook 工作时负责新鲜事(Newsfeed)的个性化推荐与排序，我可以说说 Facebook 是怎么衡量自己推荐和排序的质量的。\u003C\/p\u003E\n \n\u003Cp\u003E在具体执行层面，主要有三个方式，分别是从\u003Cstrong\u003E机器学习模型\u003C\/strong\u003E，\u003Cstrong\u003E产品数据\u003C\/strong\u003E，和\u003Cstrong\u003E用户调查\u003C\/strong\u003E上来考核推荐引擎的效果。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E1. 机器学习模型\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E推荐引擎的一大核心就是机器学习（不过现在都说人工智能了，但本质上还是 supervised learning）。如果是想考察机器学习模型的质量，学术上早就有一套成熟的实践方法。无论是模型的选择（比如从 decision tree 替换成 neural network），还是迭代改进（比如模型训练时多用一倍的数据），都可以使用基于 supervised learning 的衡量办法。最常见的就是 AUC。\u003C\/p\u003E\n \n\u003Cp\u003E另一方面，对于某一类特定问题也有更细致的指标。比如说，可以通过模型特征的重要性(feature importance)知道新加的特征是不是有用。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E2. 产品数据\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E再牛逼的机器学习模型都要经历产品数据的实际检验。这方面大家就都比较熟悉了，KPI 嘛。不过在 Facebook 特别是 Newsfeed 这种牵一发动全身的地方，我们会追踪\u003Cstrong\u003E一系列数据来描述产品，\u003C\/strong\u003E而不是依赖某一个单一标准。这些数据包括但不限于：\u003C\/p\u003E\n \n\u003Cul\u003E\u003Cli\u003E日 \/ 月活跃用户（DAU，MAU）\u003C\/li\u003E\n \n\u003Cli\u003E用户互动 （点赞，评论，转发等）\u003C\/li\u003E\n \n\u003Cli\u003E用户发帖量\u003C\/li\u003E\n \n\u003Cli\u003E用户停留时间和消耗的内容量\u003C\/li\u003E\n \n\u003Cli\u003E收入\u003C\/li\u003E\n \n\u003Cli\u003E用户互动率（比如看过的内容中点赞 \/ 评论 \/ 长阅读 \/ 收藏的比例）\u003C\/li\u003E\n \n\u003Cli\u003E用户举报和屏蔽的数量\u003C\/li\u003E\n \n\u003C\/ul\u003E\u003Cp\u003E而且，在日常的快速迭代和 A\/B 测试中，只有这些笼统的数据是不够的，我们还需要些更细致的数据来真正理解我们的一些改动。比如说：\u003C\/p\u003E\n \n\u003Cul\u003E\u003Cli\u003E内容类型的分布是怎么变动的：用户原创和转发的比重分布，网页链接和图片视频的比重分布，长视频和短视频的比重分布等等\u003C\/li\u003E\n \n\u003Cli\u003E对公众帐号是怎么影响的：什么样的公众号会受益于这次改动\u003C\/li\u003E\n \n\u003Cli\u003E哪些第三方巨头受到了影响，影响是否合理：比如我最早在 FB 实习时候的项目是整顿 SPAM 帐号，那个改动重创了 Zynga（因为 Zynga 严重依赖用户骚扰他的好友来吸量），但大家觉得挺合理的，让公关去沟通了下就发布了。\u003C\/li\u003E\n \n\u003C\/ul\u003E\u003Cp\u003E另外，为了防止短暂的眼球效应，对每一个重要的产品决策，\u003Cstrong\u003E我们都会维护一个长期的 backtest\u003C\/strong\u003E，用来评估这个决策的长久影响。比如说：\u003C\/p\u003E\n \n\u003Cul\u003E\u003Cli\u003E对于在 feed 里面放广告这个决定，我们会选择一小部分用户，对他们长期不显示广告，然后将他们的用户活跃度同正常能看到广告的用户做对比，来衡量广告的长期影响。\u003C\/li\u003E\n \n\u003Cli\u003E类似的，对于 Newsfeed 是否排序，我们也有一个 holdout group，他们的 feed 是完全按时间排的。\u003C\/li\u003E\n \n\u003C\/ul\u003E\u003Cp\u003E这样，对每一个可能会有争议的决策，但未来的每个时间点，我们都能清楚的知道，我们是面临着怎样的取舍。有了这层保障，在决策的当下，我们也就敢于冒险些，走得更快些。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E3. 用户调查\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E大多数产品数据有其局限性，因为他们是\u003Cstrong\u003E显性而被动\u003C\/strong\u003E的。比如说，你给用户推送了一个博眼球的低俗内容，用户在当下可能是会去点开看的，所以数据上是好的。但用户可能心里对这个内容的评价是低的，连带着对作为内容平台的产品也会看轻，长此以往对产品的伤害是巨大的。\u003C\/p\u003E\n \n\u003Cp\u003EKPI 无法完全描述产品质量，在硅谷互联网圈是有共识的，但如何解决，每个公司答案都不同。Twitter 系的 CEO 们，无论是 Jack Dorsey 还是 Evan Williams，都倾向于轻视 KPI 而依赖自己主观想法来决策。Google 和 Facebook，则采取了另一条路，\u003Cstrong\u003E他们决定把用户评价纳入到 KPI 中\u003C\/strong\u003E。\u003C\/p\u003E\n \n\u003Cp\u003EGoogle 在这方面的工作开始得比较早，因此公开的资料也比较多。概括地说，他们雇佣大量的普通人，以用户的角度来对 Google 搜索排序的质量和广告推荐的质量做主观打分。当打分的量大到一定程度，这些数据就足以成为一个稳定有效的，且可持续追踪并改进的 KPI 了。Facebook 虽然产品领域有所不同，但在个性化推荐上也采取了类似的方法。\u003C\/p\u003E\n \n\u003Cp\u003E回答的最后，还是想重申两个方法论：\u003C\/p\u003E\n \n\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003E永远不能依靠单一一个 KPI 来评价产品上的工作。\u003C\/strong\u003E任何 KPI，任何产品，都不能。\u003C\/li\u003E\n \n\u003Cli\u003E在明确 KPI 局限性的前提下，\u003Cstrong\u003E数字可以终结大多数无意义的扯皮\u003C\/strong\u003E，无论是技术上的，还是政治上的。\u003C\/li\u003E\n \n\u003C\/ul\u003E\u003C\/div\u003E \n\u003C\/div\u003E \n \n \n\u003Cdiv\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/26990692\u0022\u003E查看知乎讨论\u003Cspan\u003E\u003C\/span\u003E\u003C\/a\u003E\u003C\/div\u003E \n \n\u003C\/div\u003E \n \n \n\u003C\/div\u003E \n\u003C\/div\u003E"},"author":"知乎日报","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/zhihudaily.dev.malash.net\/","title":"知乎日报","htmlUrl":"http:\/\/daily.zhihu.com\/"}},{"crawlTimeMsec":"1487220664000","timestampUsec":"1487220664000000","id":"tag:google.com,2005:reader\/item\/000000028dc25ae5","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"男生在护肤时有哪些注意事项和典型误区？","published":1487216700,"updated":1487220029,"starred":1487220664,"canonical":[{"href":"http:\/\/www.zhihu.com\/question\/55029335\/answer\/146384609?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/www.zhihu.com\/question\/55029335\/answer\/146384609?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Ch2\u003E男生们啊……下面都是你们的典型误区：\u003C\/h2\u003E\u003Ch2\u003E\u003Cb\u003E1.清洁\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003Ea.随便洗洗脸就行了\u003C\/p\u003E\u003Cp\u003Eb.用洗面奶使劲搓\u003C\/p\u003E\u003Cp\u003Ec.只用香皂，洗面奶什么鬼？\u003C\/p\u003E\u003Cp\u003Ed.男生不用洗脸！\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E2.保湿\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003Ea.洗完脸拉倒，每天裸脸\u003C\/p\u003E\u003Cp\u003Eb.保湿水保湿乳保湿霜……什么鬼？用一个搞定全脸\u003C\/p\u003E\u003Cp\u003Ec.随便擦点女朋友的保湿品（前提是你有一个女朋友）\u003C\/p\u003E\u003Cp\u003Ed.男生不用保湿！\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E3.防晒\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003Ea.防晒霜随便买个就行\u003C\/p\u003E\u003Cp\u003Eb.防晒霜太油腻每次只用一点点\u003C\/p\u003E\u003Cp\u003Ec.戴帽子防晒足够了啊\u003C\/p\u003E\u003Cp\u003Ed.男生不用防晒！\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-5dac8497091178e8d7292328ad5d44a6_b.jpg?rss\u0022 alt=\u0022v2-5dac8497091178e8d7292328ad5d44a6_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E有多少男生是这么想并且这么做的？\u003C\/p\u003E\u003Cp\u003E（摊手无奈耸肩.jpg）\u003C\/p\u003E\u003Cp\u003E虽然女生不期待你们变成下面这样：\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-ee8fe970e4eb8054c0a0962fcc0a32ae_b.jpg?rss\u0022 alt=\u0022v2-ee8fe970e4eb8054c0a0962fcc0a32ae_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E但是一张干净整洁的面庞，往小了说\u003Cb\u003E能改善个人形象、提高他人对自己的第一印象、面试加分\u003C\/b\u003E，往长远看对\u003Cb\u003E提升自信、提升自我认同\u003C\/b\u003E都有帮助作用，但如果你属于明明可以靠才华，偏不靠颜值的男生，我也送上真诚的祝福……\u003C\/p\u003E\u003Cp\u003E好了，下面细聊。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E男生对护肤最最典型的误区就是，\u003Cb\u003E不护肤。\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E大部分男生不护肤没别的理由，就是一个字，\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E懒。\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E还有一部分觉得往脸上涂东西有点娘炮。\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E或者以为洗洗脸抹点保湿乳就是护肤了。实际上差得有点远。\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E男生和女生的皮肤，在生理结构上没什么太大的不同，区别在于男生的\u003Cb\u003E皮脂腺\u003C\/b\u003E和胡须部位的\u003Cb\u003E毛囊\u003C\/b\u003E会比女生发达。\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E1.清洁\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E女生做的清洁，男生也要做。\u003C\/p\u003E\u003Cp\u003E皮肤由于表面皮脂膜（由皮脂腺分泌出的油脂形成）的存在，pH值呈弱酸性，通常建议使用洗面奶而不是偏碱性的香皂来洗脸。对于男生来说，雄激素会刺激皮脂腺分泌油脂，青春期至青壮年男性皮肤偏油或者鼻周皮肤偏油属于正常现象，但是如果清洁不及时或不到位，皮脂腺分泌的油脂会堵塞毛囊口，形成粉刺，当粉刺合并感染，则形成炎性丘疹或脓疱，就是“痘痘”（痤疮），所以做好清洁，不但是去除皮肤表面污垢的重要步骤，也是预防痤疮的第一步。\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E洗面奶的选择上，如果皮肤偏油且不敏感，可以选择含皂基的洗面奶，如果皮肤不油，属于中性或者干性皮肤，或者皮肤敏感，建议选择氨基酸类洗面奶。\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E洗脸频率建议早晚各一次，洗面奶在手中揉出泡沫后再涂于全脸，轻揉半分钟到一分钟，不要使劲搓，之后清温水把残余的泡沫冲干净，再用毛巾蘸干面部。毛巾一定记得定期清洗。\u003C\/p\u003E\u003Cp\u003E\u003Ci\u003E清水洗不干净吗？\u003C\/i\u003E\u003C\/p\u003E\u003Cp\u003E洗不干净，外界的污垢沾在皮脂膜上，这层亲油的皮脂膜可不是那么容易就能被水洗干净的，也许你会说，我从小到大都这么洗脸，也没见面部皮肤出什么大问题，那可能是因为你的皮肤属于中性皮肤，如果这么多年来，试试半边脸用清水洗半边脸用洗面奶洗，也许皮肤从肤色到质地都能相差不止一个level。\u003C\/p\u003E\u003Cp\u003E\u003Ci\u003E使劲搓搓行吗？\u003C\/i\u003E\u003C\/p\u003E\u003Cp\u003E别，太大力容易破坏皮肤的表皮屏障，那是由角质层和它内部的保湿成分组成的类似“砖和水泥”的结构，尤其是痘痘肌，本身痘痘的存在就意味着感染和表皮结构异常，在外力作用下角质层更容易破溃脱落，造成更多感染甚至皮肤敏感。\u003C\/p\u003E\u003Cbr\u003E\u003Ch2\u003E\u003Cb\u003E2.保湿\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E保湿两个字足以说明它的作用，保障湿润，一是保护皮肤的水分蒸发减少，二是外源性的给皮肤添加一些保湿因子或保湿成分。\u003C\/p\u003E\u003Cp\u003E我们的身体每天通过皮肤蒸发的水分有600-800ml，相当于一瓶矿泉水还多，保湿产品中的封闭剂、保湿剂等，相当于在皮肤表面形成一层膜，能帮助减少透皮水分丢失（TEWL），而保湿产品中的神经酰胺等保湿因子等，能结合水分子，帮助皮肤锁住水分。\u003C\/p\u003E\u003Cp\u003E皮肤不干才能Q弹呀！\u003C\/p\u003E\u003Cp\u003E\u003Ci\u003E保湿水保湿乳保湿霜啥区别？\u003C\/i\u003E\u003C\/p\u003E\u003Cp\u003E保湿水里95%以上是水，剩下是一些保湿成分，通常女生们会拍拍水再用保湿乳或保湿霜，也是为了先人为给皮肤补水，再用保湿乳或保湿霜把水“锁”起来。保湿乳质地没有保湿霜厚重，适合湿润的南方或者炎热的夏季，也适合一年四季都皮肤很油的男同学们。保湿霜则适合干燥的北方或者寒冷的冬季，以及皮肤特别干的人群。\u003C\/p\u003E\u003Cp\u003E\u003Ci\u003E能用女朋友的护肤品吗？\u003C\/i\u003E\u003C\/p\u003E\u003Cp\u003E其实也不是绝对不能，但是有些女性护肤品成分复杂，男生用了比较容易闷痘，如果皮肤偏油建议选择男性专用的护肤品，会清爽些。\u003C\/p\u003E\u003Cbr\u003E\u003Ch2\u003E\u003Cb\u003E3.防晒\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E防晒的重要性参考这里：\u003Ca href=\u0022https:\/\/www.zhihu.com\/question\/20143234\/answer\/145902364\u0022\u003E「防晒」和「防晒霜」的各种技术术语都是什么意思？ - 禹汐的回答 - 知乎\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E敏感皮肤建议选择物理防晒霜，但通常这样的防晒霜偏油、抹上偏白，大多数男性不容易接受，因此非敏感皮肤，选择质地轻薄的化学防晒霜完全没问题。\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E室内、阴天都要防晒\u003C\/b\u003E，SPF15-20倍的防晒霜即可，因为会有折射、散射来的紫外线，戴帽子也只能防直射来的紫外线，周围物体反射回来的紫外线怎么用帽子防住呢，室内也能戴帽子吗，正式场合也能戴帽子吗……\u003C\/p\u003E\u003Cp\u003E室外使用30倍以上防晒霜（我国要求高于30的只能以“30＋”标示）。\u003C\/p\u003E\u003Cp\u003E无论是什么类型、多大倍数的防晒霜，\u003Cb\u003E全脸都要用接近1元硬币\u003C\/b\u003E那么多，因为在防晒倍数的计算中，质量也是一个参考量，如果每平方厘米用不到2mg防晒霜，那么实际防晒能力就达不到标示的防晒倍数。且，据美国医师协会的共识，\u003Cb\u003E防晒霜应该每3小时补涂一次\u003C\/b\u003E。不用特意洗脸，直接涂。\u003C\/p\u003E\u003Cbr\u003E\u003Cp\u003E好了男同学们，祝你们的皮肤都Q弹水嫩。\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-33dd58315f5cb72e5b925fd1f7959679_b.jpg?rss\u0022 alt=\u0022v2-33dd58315f5cb72e5b925fd1f7959679_b.jp\u0022\u003E\u003C\/p\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/yuxi624?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003E禹汐\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n此问题还有 \u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/55029335\/answer\/146384609?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E21 个回答，查看全部。\u003C\/a\u003E\u003Cbr\u003E \n                延伸阅读：\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/31453881?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E怎样在一个暑假内变美？\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/19649819?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E哪个牌子的防晒霜比较好？\u003C\/a\u003E\u003Cbr\u003E"},"author":"禹汐","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1487158958000","timestampUsec":"1487158958000000","id":"tag:google.com,2005:reader\/item\/000000028d4c3d47","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"有哪些很棒的美国歌舞片值得推荐？","published":1487158200,"updated":1487161817,"starred":1487158958,"canonical":[{"href":"http:\/\/www.zhihu.com\/question\/35731569\/answer\/64258110?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/www.zhihu.com\/question\/35731569\/answer\/64258110?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cbr\u003E要说歌舞片，其实应该首推欧洲的，比如《卡巴雷舞厅》、《红磨坊》、《红菱艳》等。\u003Cbr\u003E但是题目一定要问美国歌舞片，还是有一些足以载入史册，必须收藏的佳作。\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E首屈一指，当属《雨中曲》Singin\u0027 in the Rain (1952) \u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/5e3301493bfb0ce3759c2bb065accae6_b.jpg?rss\u0022 alt=\u00225e3301493bfb0ce3759c2bb065accae6_b.jpg?r\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E迄今为止，在专业领域可以被称为不朽的伟大歌舞片，恐怕就这一部。那个仿佛是致敬探戈王子葛代尔，穿着西装，手持雨伞，在雨中尽情起舞的绅士，令无数人神魂颠倒。大量长镜头的运用，天才般的构架，婉转的剧情，只能用叹为观止来形容。\u003Cbr\u003E电影剧情并不复杂，1927年，唐和琳娜是默片时代一对著名的银幕情侣。无声电影时代，演员的形体远远比声音重要。琳娜（简·哈根 Jean Hagen 饰）就是凭着讨好的外形，和唐（吉恩·凯利 Gene Kelly 饰）成为大受欢迎的明星搭档。琳娜假戏真做，爱上了唐，唐不得不回避她。随着技术的发展，有声电影问世，这就难倒了声音极其难听的琳娜。唐的嗓音条件很好，问题是琳娜不行。无论如何训练，她都不能把台词念得漂亮。唐和琳娜的新电影要开拍了，制片方决定加入声音，拍一部音乐剧。于是，唐请来了声音甜美的合唱队女孩凯西（黛比·雷诺斯 Debbie Reynolds 饰），让她做琳娜音乐剧幕后的配音者，令琳娜的演出声名大振。而走红的琳娜更加目中无人。唐经常与凯西、好友科斯莫（唐纳德·奥-康纳 Donald O\u0027Connor 饰）合作无间，唐更与凯西擦出火花，两人相互倾慕。一场大雨给了唐无限的灵感......琳娜自恃其以往的明星地位而自以为是，结果被观众和同行淘汰出局。凯茜后来成了观众喜爱的明星，并与洛克结为伉俪。\u003Cbr\u003E《雨中曲》纵横50多年，不仅是一部不朽的音乐歌舞片杰作，同时也是一部展现好莱坞影坛从无声时代过渡到有声王朝的电影史喜剧。在AFI百年百大歌舞电影中名列第一，被公认为电影史上最伟大歌舞片之一。\u003Cbr\u003E\u003Cbr\u003E接下来，当属如雷贯耳的《音乐之声》（The Sound of Music）（1964）\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/0af5f80b95b7141b26097395abb7dfdd_b.jpg?rss\u0022 alt=\u00220af5f80b95b7141b26097395abb7dfdd_b.jpg?r\u0022\u003E\u003C\/p\u003E阿尔卑斯山鹰巢注视下的这个家庭教师以及孩子们歌唱自由的故事，可是好莱坞来演绎的哟！\u003Cbr\u003E哆来咪......雪绒花.....我们很多人是唱着这里面的朗朗上口的歌曲长大的，答主前年曾经为了这部电影专门去了一趟萨尔茨堡膜拜，福寿城堡、米拉贝尔花园、月亮湖、玻璃屋、侬山修道院、鹰堡......过去是它在莫扎特故乡取景，现在是莫扎特故乡因为它而骄傲。\u003Cbr\u003E凭借其极正的三观，经典的剧情，一举荣获第38届奥斯卡金像奖十项提名并获得最佳影片、最佳导演等五项大奖。\u003Cbr\u003E\u003Cbr\u003E《一个美国人在巴黎》 An American in Paris （1951）\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/b0a04c992a1387322ffb4fb85498e360_b.jpg?rss\u0022 alt=\u0022b0a04c992a1387322ffb4fb85498e360_b.jpg?r\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E电影史上不可多得的歌舞片，不只是云信·明尼里和吉恩·凯利的代表作，亦是李丝莉·嘉侬的成名作。影片最出色的场面是由一组由吉恩·凯利精心精思设计的，长达十七分钟的芭蕾。这段舞蹈变幻莫测、富丽堂皇、动人至极。此外，影片中还有许多精采场面，如塞纳河畔的二重唱也是可圈可点。\u003Cbr\u003E剧情非常文艺，也非常俗套，一个美国画家在巴黎艰苦奋斗，同时被一名富婆和一个漂亮女孩看中......大概歌舞剧都只能这样子编排。然而格什温的音乐、吉恩·凯利的舞蹈，再加上明奈利的导演，带给你酣畅淋漓的感官享受。\u003Cbr\u003E共获最佳影片等六项奥斯卡奖，美国电影学院评出的百部优秀美国电影之一。\u003Cbr\u003E\u003Cbr\u003E如果你要在电影里找寻三一律，欣赏一场古希腊式的欢乐喜剧，那么，一定不能错过《锦城春色》On the Town （1949）\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/0ddf71e94a38072e537f890831f9738b_b.png?rss\u0022 alt=\u00220ddf71e94a38072e537f890831f9738b_b.png?r\u0022\u003E\u003C\/p\u003E军舰停靠码头，水兵盖比（斯坦利·多南饰）、奇布（杰克·黑利饰）、与阿吉（弗兰克·辛纳屈饰）休假登岸，他们希望有机会能在一天之中饱览纽约风光，而在这时盖比对地铁小姐艾维·史密斯（爱丽丝·皮尔希饰）一见钟情，而在计程车上女司机海吉对奇布表达情意。四人一起去寻找艾维，开始了一场只发生在一天的都市地标暴走奇遇记。\u003Cbr\u003E吉恩·凯利执导。\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E《1933淘金女郎》Gold Diggers of 1933（1933）\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/b27e6a083e4c278b8591bb13eeb539a2_b.jpg?rss\u0022 alt=\u0022b27e6a083e4c278b8591bb13eeb539a2_b.jpg?r\u0022\u003E\u003C\/p\u003E巴斯比·伯克利，好莱坞歌舞片时代最伟大的编导之一，善于从摄影棚顶部俯拍大全景歌舞场面，日后这种拍摄歌舞片段的方法被冠名为“伯克利顶拍”。\u003Cbr\u003E他的的编舞才华在本片中展现得淋漓尽致，而片中几个大舞台的场景设计、场面调度、光影利用等方面都堪称教科书般的经典。\u003Cbr\u003E本片通过对三个百老汇的失业女演员的生活、爱情的描写，表现了美国人的乐观人生与对等级阶层制度的不屑一顾。也引发人们对戏剧向电影过度的喜与悲的思考。\u003Cbr\u003E如果一定要给个感官评价，那就是极致奢华。\u003Cbr\u003E\u003Cbr\u003E《魅影天堂》Phantom of the Paradise （1974）\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/34626ff17e9c41f75afd84ad6c204731_b.jpg?rss\u0022 alt=\u002234626ff17e9c41f75afd84ad6c204731_b.jpg?r\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E一听到布赖恩·德·帕尔马这个名字，你会不会如雷贯耳地颤栗？\u003Cbr\u003E1974年的《天堂魅影》根据同名小说改编，但是故事构架其实源于《歌剧院幽灵》。直至1999年，《歌剧院幽灵》这部经典作品大概有不下四个电影版本，而德·帕尔马的这一版本应该是最最最诡异炫目，颠覆传统的。\u003Cbr\u003E影片极其阴森，内容极其诡异，一个毁了容的作曲家出卖自己的灵魂给唱片大亨，让他心爱的女人可以通过演奏他的音乐成名。然而，圈内的腐败与混乱，以及人性的邪恶最终导致的结果是唱片大亨背叛了他，偷走了他的音乐，占有了他的女人，将他禁锢，用来打造自己的摇滚  “天堂”，于是，复仇开始了......\u003Cbr\u003E威廉.芬利、杰西卡.哈珀、格里特.格雷厄姆，阵容强大，众星云集。\u003Cbr\u003E\u003Cbr\u003E《西区故事》West Side Story （1961）\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/d85034b8beccff20e2b3e3dd49201c11_b.jpg?rss\u0022 alt=\u0022d85034b8beccff20e2b3e3dd49201c11_b.jpg?r\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E十项奥斯卡奖得主。\u003Cbr\u003E莎士比亚的罗密欧和朱丽叶的故事模板，用纽约曼哈顿的西城来演绎。《音乐之声》的导演，罗宾斯的编舞，\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E《歌剧魅影》\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/c13ae512cfe0408b4537030484f3fd98_b.jpg?rss\u0022 alt=\u0022c13ae512cfe0408b4537030484f3fd98_b.jpg?r\u0022\u003E\u003C\/p\u003E严格划分的话，这个只能算英美合作的音乐电影，而不是歌舞片，但是，这个已经是舞台剧里改变电影比较成功的范例了。\u003Cbr\u003E先后经历了25，,43，89，90四个版本，可见其经典。\u003Cbr\u003E\u003Cbr\u003E\u003Cp\u003E《芝加哥》Chicago （2002）\u003C\/p\u003E\u003Cp\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/08444beed891dad4db7b53d8a3931f17_b.jpg?rss\u0022 alt=\u002208444beed891dad4db7b53d8a3931f17_b.jpg?r\u0022\u003E\u003C\/p\u003E罗伯·马歇尔执导，凯瑟琳·泽塔琼斯、蕾妮·齐薇格、约翰·C·赖利等主演。影片讲述的是两起发生在芝加哥的案件，经过律师比利炒作后从而使得自己声名大噪的故事，将二十世纪二十年代的芝加哥不择手段求出名的世态演绎的淋漓尽致。该片获得了包括第75届奥斯卡最佳影片奖在内的等多项国际大奖。\u003Cbr\u003E\u003Cbr\u003E注，为区分开歌舞片大师金·凯利与喜剧演员金·凯瑞，文中一律采用吉恩·凯利译法。\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022http:\/\/zhuanlan.zhihu.com\/TheWorldOutside\/20225818\u0022\u003E此生必不能辜负的惊艳 - 外面的世界 - 知乎专栏\u003C\/a\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/zeng-kai-87?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003EHannibal Lecter\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n此问题还有 \u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/35731569\/answer\/64258110?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E15 个回答，查看全部。\u003C\/a\u003E\u003Cbr\u003E \n                延伸阅读：\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/21279329?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E《天台爱情》怎么样？会有怎样的反响？\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/20232487?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E有哪些关于法国巴黎的好电影？\u003C\/a\u003E\u003Cbr\u003E"},"author":"Hannibal Lecter","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1487000514000","timestampUsec":"1487000514000000","id":"tag:google.com,2005:reader\/item\/000000028c072675","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"如何评价阿里近期发布的Java编码规范？","published":1486991700,"updated":1486996859,"starred":1487000514,"canonical":[{"href":"http:\/\/www.zhihu.com\/question\/55642203\/answer\/145953563?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/www.zhihu.com\/question\/55642203\/answer\/145953563?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"关于这个手册：\u003Cbr\u003E正在阅读中，读完再更新。\u003Cbr\u003E\u003Cbr\u003E编码规范这种事情，从来都是有主观有客观的。\u003Cbr\u003E\u003Cbr\u003E像缩进、换行、命名之类的事情就是纯主观，在团队开发中就应该硬性统一，以便协作顺畅。这是个程序员容易发挥主观能动性的地方，然而这地方并不适合发挥那么多主观能动性…\u003Cbr\u003E所以像这个开发手册的“命名规约”部分，我觉得就是很合理的，并没有什么槽点可吐——这就是这个团队做出的约定，喜欢不喜欢照办就是。其它团队选用其它的约定也是很合理的事，只要能贯彻一致性就好。\u003Cbr\u003E\u003Cbr\u003E--------------------------------------\u003Cbr\u003E\u003Cbr\u003E引用几个点来举例：\u003Cbr\u003E\u003Cblockquote\u003E12. 【推荐】接口类中的方法和属性不要加任何修饰符号（public 也不要加），保持代码的简洁性，并加上有效的 Javadoc 注释。尽量不要在接口里定义变量，如果一定要定义变量，肯定是与接口方法相关，并且是整个应用的基础常量。\u003C\/blockquote\u003E这个是属于通用的良好的Java代码风格。Java的interface声明的成员方法，默认就是public abstract的，所以这两个修饰符不写出来就以及是最简洁明了的写法；而interface里声明的“变量”默认就是public static final的——只能声明公有常量，所以这些修饰符也是不要写出来最简单明了。\u003Cbr\u003E相关信息：\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003EJLS8 9.3：\u003Cul\u003E\u003Cli\u003EEvery field declaration in the body of an interface is implicitly \u003Cb\u003Epublic\u003C\/b\u003E, \u003Cb\u003Estatic\u003C\/b\u003E, and \u003Cb\u003Efinal\u003C\/b\u003E. It is permitted to redundantly specify any or all of these modifiers for such fields.\u003Cbr\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/li\u003E\u003Cli\u003EJLS8 9.4\u003Cul\u003E\u003Cli\u003EEvery method declaration in the body of an interface is implicitly \u003Cb\u003Epublic\u003C\/b\u003E (§6.6). \u003Ci\u003EIt is permitted, but discouraged as a matter of style, to redundantly specify the public modifier for a method declaration in an interface.\u003C\/i\u003E\u003Cbr\u003E\u003C\/li\u003E\u003Cli\u003EAn interface method lacking a default modifier or a static modifier is implicitly \u003Cb\u003Eabstract\u003C\/b\u003E, so its body is represented by a semicolon, not a block. \u003Ci\u003EIt is permitted, but discouraged as a matter of style, to redundantly specify the abstract modifier for such a method declaration.\u003C\/i\u003E\u003Cbr\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/li\u003E\u003C\/ul\u003E这种风格建议是写在Java语言规范里的。没啥需要争论。\u003Cbr\u003E\u003Cbr\u003E--------------------------------------\u003Cbr\u003E\u003Cbr\u003E另一点：\u003Cbr\u003E\u003Cblockquote\u003E8. 【强制】POJO 类中布尔类型的变量，都不要加 is，否则部分框架解析会引起序列化错误。\u003Cbr\u003E反例：定义为基本数据类型 boolean isSuccess；的属性，它的方法也是 isSuccess()，RPC框架在反向解析的时候，“以为”对应的属性名称是 success，导致属性获取不到，进而抛出异常。\u003C\/blockquote\u003E虽然也是主观规定，但这是阿里系的Java代码的惨痛的经验教训。对阿里系的代码来说，总之遵循的话可以减少灵异状况的发生，所以放在这个上下文里也是很合理的。\u003Cbr\u003E这个可以说是在用规范来规避团队里常用的库的坑。这坑的解决办法可以是修改常用库里的逻辑来尽可能“聪明”地识别情况，也可以靠这样的规范。某种意义上说规范是从上游卡住了问题的发生，比起把下游处理弄复杂要更干净一些吧。\u003Cbr\u003E\u003Cbr\u003E--------------------------------------\u003Cbr\u003E\u003Cbr\u003E关于“（三）格式规约”，要是能来个附件弄个分别适用于IntelliJ与Eclipse JDT的格式规则文件就好了。各位阿里系Java码农就不用烦了，每次写完代码自动格式化一下就完事…\u003Cbr\u003E\u003Cbr\u003E--------------------------------------\u003Cbr\u003E\u003Cbr\u003E关于final与效率…\u003Cbr\u003E\u003Cblockquote\u003E18. 【推荐】final 可提高程序响应效率，声明成 final 的情况：\u003Cbr\u003E1） 不需要重新赋值的变量，包括类属性、局部变量。\u003Cbr\u003E2） 对象参数前加 final，表示不允许修改引用的指向。\u003Cbr\u003E3） 类方法确定不允许被重写。\u003C\/blockquote\u003E这…这三个具体项写得都挺好，但原因却不太对。\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003E所有JVM都相关：方法参数与局部变量用final修饰是纯编译时信息，到Class文件里就已经没有踪迹了，JVM根本不会知道方法参数或者局部变量有没有被final修饰。这个是完全不可能影响性能的。\u003C\/li\u003E\u003Cli\u003EHotSpot JVM相关：\u003Cul\u003E\u003Cli\u003Estatic final常量是好的，HotSpot VM里的JIT编译器会利用这个信息来做优化；\u003C\/li\u003E\u003Cli\u003E实例变量（字段）用final修饰的话，目前（直到最新的JDK8u）的HotSpot VM都不会使用这个信息来优化。只有JDK自身的一些核心类被区别对待（例如说java.lang.String上的final成员）。所以这个也不会影响性能。\u003C\/li\u003E\u003Cli\u003E实例方法用final修饰：其实在可以使用final修饰的场景下，就算没有用final修饰，HotSpot VM的JIT编译器也一样会通过\u003Cb\u003E类层次分析\u003C\/b\u003E（Class Hierarchy Analysis，CHA）来发现这个方法是实质上只有一个实现版本的，所以最终生成的代码质量会一样，性能不会有区别。而在不能使用final修饰的场景下（例如说这个方法真的有多个实现），如果当前加载的类中其实只有单一实现（别的实现在尚未加载或已经卸载的类中），则HotSpot VM仍然可以通过CHA把它当作单一实现来做激进优化，并通过deoptimization来保证安全。所以在HotSpot VM的环境中，其实实例方法没有必要为了性能而加final，而是真的希望表达语义上的限制（例如java.lang.getClass()是一个不允许覆写的方法，加final修饰就很合理）时才应该使用。\u003C\/li\u003E\u003C\/ul\u003E\u003C\/li\u003E\u003C\/ul\u003E我在淘宝写Java代码的时候，有一段时间确实也是习惯在可以加final的地方（包括方法参数与局部变量）都加final，但并不是为了性能好，而是为了提醒自己以及阅读\/修改我的代码的同事们，这个参数\/变量的值在这个方法里真的是不应该修改，并且让Java编译器去检查到底是不是没有被乱修改。\u003Cbr\u003E后来我的代码风格稍微变了一点，用Eclipse插件来生成那些final出来，我就不用手写了…例如说用Project Lombok里的邪恶的\u003Ca href=\u0022\/\/link.zhihu.com\/?target=https%3A\/\/projectlombok.org\/features\/val.html\u0022\u003Eval\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E来声明局部变量（逃\u003Cbr\u003E\u003Cbr\u003E--------------------------------------\u003Cbr\u003E\u003Cbr\u003E\u003Cblockquote\u003E6. 【推荐】尽量不要在 vm 中加入变量声明、逻辑运算符，更不要在 vm 模板中加入任何复杂的逻辑。\u003C\/blockquote\u003E哈哈哈这个不知道有多少非阿里系的同学能看懂是什么的。\u003Cbr\u003E这说的是Velocity模版嗯…阿里系的Java码农多半都知道。\u003Cbr\u003E\u003Cbr\u003E==========================================\u003Cbr\u003E\u003Cbr\u003E关于这个问题下的其它一些回答：\u003Cbr\u003E\u003Ca href=\u0022https:\/\/www.zhihu.com\/question\/55642203\/answer\/145869629\u0022\u003E如何评价阿里近期发布的Java编码规范？ - qwertyuiop的回答 - 知乎\u003C\/a\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-45cc0ba1c5fefc814c12b200f46ed37c_b.png?rss\u0022 alt=\u0022v2-45cc0ba1c5fefc814c12b200f46ed37c_b.pn\u0022\u003E\u003C\/p\u003E这个回答说的肯定是我咯。我是偶尔会在回答里提及鄙司Azul Systems的产品，例如主打的高性能JVM——Zing，以及Azul提供技术支持的OpenJDK发行版——Zulu。并没有Zule这个产品，而且我也从来没给Zulu的编译器打过广告\u0026gt;_\u0026lt;\u003Cbr\u003E我在Azul主要参与的是Zing里的编译器研发嗯。偶尔说说Zing JVM的GC或者编译器。更多的还是聊大家更常用的Oracle JDK \/ OpenJDK的HotSpot VM的状况。其实我也不是只聊Java话题的，感兴趣的话可跳转送门：\u003Ca href=\u0022https:\/\/zhuanlan.zhihu.com\/p\/25042028\u0022\u003E[资料合集] RednaxelaFX写的文章\/回答的导航帖（work in progress）\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E这个回答提到的我的回答，是这个：\u003Ca href=\u0022https:\/\/www.zhihu.com\/question\/20184664\/answer\/34204438\u0022\u003E一般编程语言都是英文的，大家对中文编程有什么样的看法，中文编程有哪些优劣势？ - RednaxelaFX 的回答 - 知乎\u003C\/a\u003E\u003Cbr\u003E\u003Cblockquote\u003E另外⋯想起以前在淘宝的某业务组轮岗时的体会：\u003Cbr\u003E那边某些代码充斥着英文、拼错的英文、汉语拼音、拼错的汉语拼音，全部混在一起看得我头昏脑胀。我实在受不了了，于是给他们写的单元测试一概用了\u003Cb\u003E汉语方法名\u003C\/b\u003E，例如：\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E@Test\u003C\/span\u003E \n\u003Cspan\u003Evoid\u003C\/span\u003E \u003Cspan\u003E测试提交订单\u003C\/span\u003E\u003Cspan\u003E()\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003E\/\/ ...\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E这样JUnit跑出来的结果就都是\u003Cb\u003E正统汉字\u003C\/b\u003E了。再见，恶心的拼写错误（逃\u003Cbr\u003E（不过我轮岗结束后那些汉语方法名应该又都被干掉了哈哈哈哈）\u003C\/blockquote\u003E简单说说这段文字的背景：\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003E那是2010年的事了。我那个时候在淘宝运营支撑部的平台架构组。我们会偶尔轮岗到别的业务组去体验一下业务组的实际工作状况和需求，以便更好的服务业务组。不敢说轮岗过去能帮上多少忙，不乱帮倒忙就不错了。总之最低限度我们得体会一下业务组到底有哪些需求，有哪些痛点需要解决。\u003C\/li\u003E\u003Cli\u003E有一次我轮岗过去的组里的\u003Cb\u003E某些\u003C\/b\u003E代码确实是让我震惊了。不但有超过一千行的单个方法，没人敢重构，而且还有前面引用的回答说的，“英文、拼错的英文、汉语拼音、拼错的汉语拼音”。确实会有时候一个上层接口的实现调用下层接口的方法，上层可能是getDiscount()，下层却是getDaZhe()…\u003Cul\u003E\u003Cli\u003E但那块代码并不是我所知道的淘宝的代码的典型状况。从我的角度看，那段代码确实是很不好，但是是个例而不是常态。我当时接触的业务代码不是特别多，平时接触的中间件（例如HSF）和通用服务，还有我自己写的Impla 2.x \/ 3.x啥的，里面的代码都比较干净，各种命名都比较统一，并没有上面引用的回答所说的情况。\u003C\/li\u003E\u003Cli\u003E我当时只是把JUnit的测试用例里面的用例方法给改成用中文名了。主要是想行为艺术一下提醒那边的同事他们原本的命名实在太糟糕了，顺带演示一下Java源码支持Unicode的好处\/用处。\u003C\/li\u003E\u003Cli\u003E如果我记得没错的话，我轮岗结束后没多久，那些被我改成中文名的方法就又被改回用英文了。希望后来他们用的名字是更统一的吧…\u003C\/li\u003E\u003C\/ul\u003E\u003C\/li\u003E\u003Cli\u003E后来我也有过一次轮岗到业务组参与写业务代码的经历。那次最初的代码里也有过奇怪的英文+拼音的混合物，但很快组里就有老大组织讨论统一了命名，给出了一个参考词汇表来保证大家的命名是一致的。这就比前面提到的那次轮岗的体验好很多。\u003Cbr\u003E\u003C\/li\u003E\u003C\/ul\u003E正是因为阿里的Java代码里曾经有过这样的命名混乱的现象，即便它不是常态也是应该警觉和避免的，所以《阿里Java开发手册》里的这一条在这种上下文里就非常合理：\u003Cbr\u003E\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-67419567de0d8d7c4677adf5cb7c3806_b.png?rss\u0022 alt=\u0022v2-67419567de0d8d7c4677adf5cb7c3806_b.pn\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\u003Cbr\u003E请不要曲解我的文字然后引用来说根本不相关的事情。谢谢。 \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/rednaxelafx?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003ERednaxelaFX\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n此问题还有 \u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/55642203\/answer\/145953563?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003E83 个回答，查看全部。\u003C\/a\u003E\u003Cbr\u003E \n                延伸阅读：\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/21663879?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003EJava 等语言的 GC 为什么不实时释放内存？\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022http:\/\/www.zhihu.com\/question\/20652822?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=title\u0022\u003EJava 程序员转 Android 开发有哪些经验可以分享？\u003C\/a\u003E\u003Cbr\u003E"},"author":"RednaxelaFX","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1487000463000","timestampUsec":"1487000463000000","id":"tag:google.com,2005:reader\/item\/000000028c09eb3d","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"下一代 Web 应用模型 — Progressive Web App","published":1486992600,"updated":1487051809,"starred":1487000463,"canonical":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25167289?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/25167289?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-907d6e6909c8bd1a92fc265ba7c68d75_b.png\u0022 width=\u00220\u0022 alt=\u0022v2-907d6e6909c8bd1a92fc265ba7c68d75_b.pn\u0022\u003E\u003Cblockquote\u003E今年 9 月份的时候，《程序员》杂志社就邀请我写一篇关于 PWA 的文章。后来花式拖稿，拖过了 10 月的 QCon，11 月的 GDG DevFest，终于在 12 月把这篇长文熬了出来。几次分享的不成熟，这次的结构算是比较满意了。「 可能是目前中文世界里对 PWA 最全面详细的长文了」，作为外刊君的一员，希望你能喜欢。\u003Cbr\u003E\u003Cbr\u003E本文首发于 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/geek.csdn.net\/news\/detail\/135595\u0022\u003ECSDN\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 与《程序员》2017 年 2 月刊，现同步发布于 \u003Ca href=\u0022https:\/\/zhuanlan.zhihu.com\/FrontendMagazine\u0022\u003E前端外刊评论\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\/\u0022\u003EHux Blog\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，转载请保留链接 ;)\u003C\/blockquote\u003E\u003Ch2\u003E\u003Cb\u003E下一代 Web 应用？\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E近年来，Web 应用在整个软件与互联网行业承载的责任越来越重，软件复杂度和维护成本越来越高，Web 技术，尤其是 Web 客户端技术，迎来了爆发式的发展。\u003C\/p\u003E\u003Cp\u003E包括但不限于基于 Node.js 的前端工程化方案；诸如 Webpack、Rollup 这样的打包工具；Babel、PostCSS 这样的转译工具；TypeScript、Elm 这样转译至 JavaScript 的编程语言；React、Angular、Vue 这样面向现代 web 应用需求的前端框架及其生态，也涌现出了像\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/nerds.airbnb.com\/isomorphic-javascript-future-web-apps\/\u0022\u003E同构 JavaScript\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E与\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/medium.com\/%40mjackson\/universal-javascript-4761051b7ae9%23.unrzyz3b2\u0022\u003E通用 JavaScript 应用\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E这样将服务器端渲染（Server-side Rendering）与单页面应用模型（Single-page App）结合的 web 应用架构方式，可以说是百花齐放。\u003C\/p\u003E\u003Cp\u003E但是，Web 应用在移动时代并没有达到其在桌面设备上流行的程度。究其原因，尽管上述的各种方案已经充分利用了现有的 JavaScript 计算能力、CSS 布局能力、HTTP 缓存与浏览器 API 对当代基于 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/en.wikipedia.org\/wiki\/Ajax_%28programming%29\u0022\u003EAjax\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 与\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/en.wikipedia.org\/wiki\/Responsive_web_design\u0022\u003E响应式设计\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E的 web 应用模型的性能与体验带来了工程角度的巨大突破，我们仍然无法在不借助原生程序辅助浏览器的前提下突破 web 平台本身对 web 应用固有的桎梏：\u003Cstrong\u003E客户端软件（即网页）需要下载所带来的网络延迟；与 Web 应用依赖浏览器作为入口所带来的体验问题。\u003C\/strong\u003E\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-71350f41bd07e2cd558ed723c6e8a5b3_b.jpg\u0022 width=\u00221920\u0022 alt=\u0022v2-71350f41bd07e2cd558ed723c6e8a5b3_b.jp\u0022\u003E\u003Cp\u003E\u003Cem\u003EWeb 与原生应用在移动平台上的使用时长对比 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developers.google.com\/web\/events\/pwaroadshow\/\u0022\u003E图片来源: Google\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E在桌面设备上，由于网络条件稳定，屏幕尺寸充分，交互方式趋向于多任务，这两点造成的负面影响对比 web 应用免于安装、随叫随到、无需更新等优点，瑕不掩瑜。但是在移动时代，脆弱的网络连接与全新的人机交互方式使得这两个问题被无限放大，严重制约了 web 应用在移动平台的发展。在用户眼里，原生应用不会出现「白屏」，清一色都摆在主屏幕上；而 web 应用则是浏览器这个应用中的应用，使用起来并不方便，而且加载也比原生应用要慢。\u003C\/p\u003E\u003Cp\u003EProgressive Web Apps（以下简称 PWA）以及构成 PWA 的一系列关键技术的出现，终于让我们看到了彻底解决这两个平台级别问题的曙光：能够显著提高应用加载速度、甚至让 web 应用可以在离线环境使用的 Service Worker 与 Cache Storage；用于描述 web 应用元数据（metadata）、让 web 应用能够像原生应用一样被添加到主屏、全屏执行的 Web App Manifest；以及进一步提高 web 应用与操作系统集成能力，让 web 应用能在未被激活时发起推送通知的 Push API 与 Notification API 等等。\u003C\/p\u003E\u003Cp\u003E将这些技术组合在一起会是怎样的效果呢？「印度阿里巴巴」 —— \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/en.wikipedia.org\/wiki\/Flipkart\u0022\u003EFlipkart\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 在 2015 年一度关闭了自己的移动端网站，却在年底发布了现在最为人津津乐道的 PWA 案例 \u003Cem\u003EFlipKart Lite\u003C\/em\u003E，成为世界上第一个支撑大规模业务的 PWA。发布的一周后它就亮相于 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/youtu.be\/m2a9hlUFRhg\u0022\u003EChrome Dev Summit 2015\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 上，笔者当时就被惊艳到了。为了方便各媒介上的读者观看，笔者做了几幅图方便给大家介绍：\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-cc1af3c8b32bb4a806e9673c0b8dc4dc_b.jpg\u0022 width=\u00221920\u0022 alt=\u0022v2-cc1af3c8b32bb4a806e9673c0b8dc4dc_b.jp\u0022\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E图片来源: Hux \u0026amp; \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/medium.com\/%40AdityaPunjani\/building-flipkart-lite-a-progressive-web-app-2c211e641883%23.hz4d3kw41\u0022\u003EMedium.com\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E当浏览器发现用户\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developers.google.com\/web\/fundamentals\/engage-and-retain\/app-install-banners\/%3Fhl%3Den\u0022\u003E需要\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E Flipkart Lite 时，它就会提示用户「嘿，你可以把它添加至主屏哦」（用户也可以手动添加）。这样，Flipkart Lite 就会像原生应用一样在主屏上留下一个自定义的 icon 作为入口；与一般的书签不同，当用户点击 icon 时，Flipkat Lite 将直接全屏打开，不再受困于浏览器的 UI 中，而且有自己的启动屏效果。\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-624a384da3451f5288ff1a6f03c8238e_b.jpg\u0022 width=\u00221920\u0022 alt=\u0022v2-624a384da3451f5288ff1a6f03c8238e_b.jp\u0022\u003E\u003Cp\u003E\u003Cem\u003E图片来源: Hux \u0026amp; \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/medium.com\/%40AdityaPunjani\/building-flipkart-lite-a-progressive-web-app-2c211e641883%23.hz4d3kw41\u0022\u003EMedium.com\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E更强大的是，在无法访问网络时，Flipkart Lite 可以像原生应用一样照常执行，还会很骚气的变成黑白色；不但如此，曾经访问过的商品都会被缓存下来得以在离线时继续访问。在商品降价、促销等时刻，Flipkart Lite 会像原生应用一样发起推送通知，吸引用户回到应用。\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E无需担心网络延迟；有着独立入口与独立的保活机制。\u003C\/strong\u003E之前两个问题的一并解决，宣告着 web 应用在移动设备上的浴火重生：满足 PWA 模型的 web 应用，将逐渐成为移动操作系统的一等公民，并将向原生应用发起挑战与「复仇」。\u003C\/p\u003E\u003Cp\u003E更令笔者兴奋的是，就在今年 11 月的 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/youtu.be\/eI3B6x0fw9s\u0022\u003EChrome Dev Summit 2016\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 上，Chrome 的工程 VP Darin Fisher 介绍了 Chrome 团队正在做的一些实验：把「添加至主屏」重命名为「安装」，被安装的 PWA 不再仅以 widget 的形式显示在桌面上，而是真正做到与所有原生应用平级，一样被收纳进应用抽屉（App Drawer）里，一样出现在系统设置中 🎉🎉🎉。 \u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-f4a5275939a53ecd42367f883842e999_b.jpg\u0022 width=\u00221920\u0022 alt=\u0022v2-f4a5275939a53ecd42367f883842e999_b.jp\u0022\u003E图片来源: Hux \u0026amp; \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/twitter.com\/adityapunjani\u0022\u003E@adityapunjani\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E图中从左到右分别为：类似原生应用的安装界面；被收纳在应用抽屉里的 Flipkart Lite 与 Hux Blog；设置界面中并列出现的 Flipkart 原生应用与 Flipkart Lite PWA （可以看到 PWA 巨大的体积优势）\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E笔者相信，PWA 模型将继约 20 年前横空出世的 Ajax 与约 10 年前风靡移动互联网的响应式设计之后，掀起 web 应用模型的第三次根本性革命，将 web 应用带进一个全新的时代。\u003C\/strong\u003E\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003EPWA 关键技术的前世今生\u003C\/b\u003E\u003C\/h2\u003E\u003Ch3\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/w3c.github.io\/manifest\/%23use-cases-and-requirements\u0022\u003EWeb App Manifest\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/h3\u003E\u003Cp\u003EWeb App Manifest，即通过一个清单文件向浏览器暴露 web 应用的元数据，包括名字、icon 的 URL 等，以备浏览器使用，比如在添加至主屏或推送通知时暴露给操作系统，从而增强 web 应用与操作系统的集成能力。\u003C\/p\u003E\u003Cp\u003E让 web 应用在移动设备上的体验更接近原生应用的尝试其实早在 2008 年的 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\/pwa-qcon2016\/%23\/37\u0022\u003EiOS 1.1.3 与 iOS 2.1.0 \u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E时就开始了，它们分别为 web 应用增加了对自定义 icon 和全屏打开的支持。\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-a3bec7d15ecd5e94f076b0da953a77b8_b.jpg\u0022 width=\u0022800\u0022 alt=\u0022v2-a3bec7d15ecd5e94f076b0da953a77b8_b.jp\u0022\u003E\u003Cp\u003E\u003Cem\u003E图片来源: \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/appleinsider.com\/articles\/08\/10\/03\/latest_iphone_software_supports_full_screen_web_apps.html\u0022\u003Eappleinsider.com\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E但是很快，随着越来越多的私有平台通过 \u0026lt;meta\u0026gt;\/\u0026lt;link\u0026gt; 标签来为 web 应用添加「私货」，\u0026lt;head\u0026gt; 很快就被塞满了：\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\u0026lt;!-- Add to homescreen for Safari on iOS --\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Emeta\u003C\/span\u003E \u003Cspan\u003Ename\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022apple-mobile-web-app-capable\u0022\u003C\/span\u003E \u003Cspan\u003Econtent\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022yes\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Emeta\u003C\/span\u003E \u003Cspan\u003Ename\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022apple-mobile-web-app-status-bar-style\u0022\u003C\/span\u003E \u003Cspan\u003Econtent\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022black\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Emeta\u003C\/span\u003E \u003Cspan\u003Ename\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022apple-mobile-web-app-title\u0022\u003C\/span\u003E \u003Cspan\u003Econtent\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022Lighten\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n \n\u003Cspan\u003E\u0026lt;!-- Add to homescreen for Chrome on Android --\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Emeta\u003C\/span\u003E \u003Cspan\u003Ename\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022mobile-web-app-capable\u0022\u003C\/span\u003E \u003Cspan\u003Econtent\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022yes\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Emate\u003C\/span\u003E \u003Cspan\u003Ename\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022theme-color\u0022\u003C\/span\u003E \u003Cspan\u003Econtent\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022#000000\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n \n\u003Cspan\u003E\u0026lt;!-- Icons for iOS and Android Chrome M31~M38 --\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Elink\u003C\/span\u003E \u003Cspan\u003Erel\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022apple-touch-icon-precomposed\u0022\u003C\/span\u003E \u003Cspan\u003Esizes\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022144x144\u0022\u003C\/span\u003E \u003Cspan\u003Ehref\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022images\/touch\/apple-touch-icon-144x144-precomposed.png\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Elink\u003C\/span\u003E \u003Cspan\u003Erel\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022apple-touch-icon-precomposed\u0022\u003C\/span\u003E \u003Cspan\u003Esizes\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022114x114\u0022\u003C\/span\u003E \u003Cspan\u003Ehref\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022images\/touch\/apple-touch-icon-114x114-precomposed.png\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Elink\u003C\/span\u003E \u003Cspan\u003Erel\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022apple-touch-icon-precomposed\u0022\u003C\/span\u003E \u003Cspan\u003Esizes\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u002272x72\u0022\u003C\/span\u003E \u003Cspan\u003Ehref\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022images\/touch\/apple-touch-icon-72x72-precomposed.png\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Elink\u003C\/span\u003E \u003Cspan\u003Erel\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022apple-touch-icon-precomposed\u0022\u003C\/span\u003E \u003Cspan\u003Ehref\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022images\/touch\/apple-touch-icon-57x57-precomposed.png\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n \n\u003Cspan\u003E\u0026lt;!-- Icon for Android Chrome, recommended --\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Elink\u003C\/span\u003E \u003Cspan\u003Erel\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022shortcut icon\u0022\u003C\/span\u003E \u003Cspan\u003Esizes\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022196x196\u0022\u003C\/span\u003E \u003Cspan\u003Ehref\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022images\/touch\/touch-icon-196x196.png\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n \n\u003Cspan\u003E\u0026lt;!-- Tile icon for Win8 (144x144 + tile color) --\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Emeta\u003C\/span\u003E \u003Cspan\u003Ename\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022msapplication-TileImage\u0022\u003C\/span\u003E \u003Cspan\u003Econtent\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022images\/touch\/ms-touch-icon-144x144-precomposed.png\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Emeta\u003C\/span\u003E \u003Cspan\u003Ename\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022msapplication-TileColor\u0022\u003C\/span\u003E \u003Cspan\u003Econtent\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022#3372DF\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n \n\u003Cspan\u003E\u0026lt;!-- Generic Icon --\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Elink\u003C\/span\u003E \u003Cspan\u003Erel\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022shortcut icon\u0022\u003C\/span\u003E \u003Cspan\u003Ehref\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022images\/touch\/touch-icon-57x57.png\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E显然，这种做法并不优雅：分散又重复的元数据定义多余且难以维持同步，与 html 耦合在一起也加重了浏览器检查元数据未来变动的成本。与此同时，社区里开始出现使用 manifest 文件以中心化地描述元数据的方案，比如 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developer.chrome.com\/extensions\/manifest\u0022\u003EChrome Extension、 Chrome Hosted Web Apps (2010)\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E与 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developer.mozilla.org\/en-US\/docs\/Archive\/Firefox_OS\/Firefox_OS_apps\/Building_apps_for_Firefox_OS\/Manifest\u0022\u003EFirefox OS App Manifest (2011)\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 使用 JSON；\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/cordova.apache.org\/docs\/en\/6.x\/config_ref\/index.html\u0022\u003ECordova\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 与 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/msdn.microsoft.com\/en-us\/library\/dn320426%2528v%3Dvs.85%2529.aspx\u0022\u003EWindows Pinned Site\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 使用 XML；\u003C\/p\u003E\u003Cp\u003E2013 年，W3C WebApps 工作组开始对基于 JSON 的 Manifest 进行标准化，于同年年底发布\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/www.w3.org\/TR\/2013\/WD-appmanifest-20131217\/\u0022\u003E第一份公开 Working Draft\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，并逐渐演化成为今天的 W3C Web App Manifest：\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003E\u0022short_name\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022Manifest Sample\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n  \u003Cspan\u003E\u0022name\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022Web Application Manifest Sample\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n  \u003Cspan\u003E\u0022icons\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E[{\u003C\/span\u003E \n      \u003Cspan\u003E\u0022src\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022launcher-icon-2x.png\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n      \u003Cspan\u003E\u0022sizes\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u002296x96\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n      \u003Cspan\u003E\u0022type\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022image\/png\u0022\u003C\/span\u003E \n   \u003Cspan\u003E}],\u003C\/span\u003E \n  \u003Cspan\u003E\u0022scope\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022\/sample\/\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n  \u003Cspan\u003E\u0022start_url\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022\/sample\/index.html\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n  \u003Cspan\u003E\u0022display\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022standalone\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n  \u003Cspan\u003E\u0022orientation\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022landscape\u0022\u003C\/span\u003E \n  \u003Cspan\u003E\u0022theme_color\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022#000\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n  \u003Cspan\u003E\u0022background_color\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E\u0022#fff\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\u0026lt;!-- document --\u0026gt;\u003C\/span\u003E \n\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Elink\u003C\/span\u003E \u003Cspan\u003Erel\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022manifest\u0022\u003C\/span\u003E \u003Cspan\u003Ehref\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022\/manifest.json\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E诸如 name、icons、display 都是我们比较熟悉的，而大部分新增的成员则为 web 应用带来了一系列以前 web 应用想做却做不到（或在之前只能靠 hack）的新特性：\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003Escope：定义了 web 应用的浏览作用域，比如作用域外的 URL 就会打开浏览器而不会在当前 PWA 里继续浏览。\u003C\/li\u003E\u003Cli\u003Estart_url：定义了一个 PWA 的入口页面。比如说你添加 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\u0022\u003EHux Blog\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 的任何一个文章到主屏，从主屏打开时都会访问 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\u0022\u003EHux Blog\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 的主页。\u003C\/li\u003E\u003Cli\u003Eorientation：终于，我们可以锁定屏幕旋转了（喜极而泣…）\u003C\/li\u003E\u003Cli\u003Etheme_color\/background_color：主题色与背景色，用于配置一些可定制的操作系统 UI 以提高用户体验，比如 Android 的状态栏、任务栏等。\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E这个清单的成员还有很多，比如用于声明「对应原生应用」的 related_applications 等等，本文就不一一列举了。作为 PWA 的「户口本」，承载着 web 应用与操作系统集成能力的重任，Web App Manifest 还将在日后不断扩展，以满足 web 应用高速演化的需要。\u003C\/p\u003E\u003Ch3\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/w3c.github.io\/ServiceWorker\/\u0022\u003EService Worker\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/h3\u003E\u003Cp\u003E我们原有的整个 Web 应用模型，都是构建在「用户能上网」的前提之下的，所以一离线就只能玩小恐龙了。其实，对于「让 web 应用离线执行」这件事，Service Worker 至少是 web 社区的第三次尝试了。\u003C\/p\u003E\u003Cp\u003E故事可以追溯到 2007 年的 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/en.wikipedia.org\/wiki\/Google_Gears\u0022\u003EGoogle Gears\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E：为了让自家的 Gmail、Youtube、Google Reader 等 web 应用可以在本地存储数据与离线执行，Google 开发了一个浏览器拓展来增强 web 应用。Google Gears 支持 IE 6、Safari 3、Firefox 1.5 等浏览器；要知道，那一年 Chrome 都还没出生呢。\u003C\/p\u003E\u003Cp\u003E在 Gears API 中，我们通过向 LocalServer 模块提交一个缓存文件清单来实现离线支持：\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\/\/ Somewhere in your javascript\u003C\/span\u003E \n\u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003ElocalServer\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003Egoogle\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Egears\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Efactory\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Ecreate\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0022bata.localserver\u0022\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003Evar\u003C\/span\u003E \u003Cspan\u003Estore\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003ElocalServer\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003EcreateManagedStore\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003ESTORE_NAME\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003Estore\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003EmanifestUrl\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E\u0022manifest.json\u0022\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\/\/\u003C\/span\u003E \u003Cspan\u003Emanifest.json\u003C\/span\u003E \u003Cspan\u003E-\u003C\/span\u003E \u003Cspan\u003E假设\u003C\/span\u003E \u003Cspan\u003EJSON\u003C\/span\u003E \u003Cspan\u003E有注释\u003C\/span\u003E \n\u003Cspan\u003E{\u003C\/span\u003E \n\u003Cspan\u003E　　\u003C\/span\u003E\u003Cspan\u003E\u0022betaManifestVersion\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E\u003Cspan\u003E　\u003C\/span\u003E\u003Cspan\u003E1\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n\u003Cspan\u003E　　\u003C\/span\u003E\u003Cspan\u003E\u0022version\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E　\u003C\/span\u003E\u003Cspan\u003E\u00221.0\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \n\u003Cspan\u003E　　\u003C\/span\u003E\u003Cspan\u003E\u0022entries\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E\u003Cspan\u003E　\u003C\/span\u003E\u003Cspan\u003E[\u003C\/span\u003E\u003Cspan\u003E　\u003C\/span\u003E \n\u003Cspan\u003E　　　　\u003C\/span\u003E\u003Cspan\u003E{\u003C\/span\u003E\u003Cspan\u003E　\u003C\/span\u003E\u003Cspan\u003E\u0022url\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E　\u003C\/span\u003E\u003Cspan\u003E\u0022index.html\u0022\u003C\/span\u003E\u003Cspan\u003E},\u003C\/span\u003E \n\u003Cspan\u003E　　　　\u003C\/span\u003E\u003Cspan\u003E{\u003C\/span\u003E\u003Cspan\u003E　\u003C\/span\u003E\u003Cspan\u003E\u0022url\u0022\u003C\/span\u003E\u003Cspan\u003E:\u003C\/span\u003E \u003Cspan\u003E　\u003C\/span\u003E\u003Cspan\u003E\u0022main.js\u0022\u003C\/span\u003E\u003Cspan\u003E}\u003C\/span\u003E \n\u003Cspan\u003E　　\u003C\/span\u003E\u003Cspan\u003E]\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E是不是感到很熟悉？好像 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/www.w3.org\/TR\/2011\/WD-html5-20110525\/offline.html\u0022\u003EHTML5 规范\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E中的 Application Cache 也是类似的东西？\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\u0026lt;\u003C\/span\u003E\u003Cspan\u003Ehtml\u003C\/span\u003E \u003Cspan\u003Emanifest\u003C\/span\u003E\u003Cspan\u003E=\u003C\/span\u003E\u003Cspan\u003E\u0022cache.appcache\u0022\u003C\/span\u003E\u003Cspan\u003E\u0026gt;\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003ECACHE MANIFEST \n \nCACHE: \nindex.html \nmain.js \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E是的，Gears 的 LocalServer 就是后来大家所熟知的 App Cache 的前身，大约从 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/www.w3.org\/TR\/offline-webapps\/\u0022\u003E2008\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 年开始 W3C 就开始尝试将 Gears 进行标准化了；除了 LocalServer，Gears 中用于提供并行计算能力的 WorkerPool 模块与用于提供本地数据库与 SQL 支持的 Database 模块也分别是日后 Web Worker 与 Web SQL Database（后被废弃）的前身。\u003C\/p\u003E\u003Cp\u003EHTML5 App Cache 作为第二波「让 web 应用离线执行」的尝试，确实也服务了比如 Google Doc、尤雨溪早年作品 HTML5 Clear、以及一直用 web 应用作为自己 iOS 应用的 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/FT.com\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003EFT.com\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E（Financial Times）等不少 web 应用。那么，还有 Service Worker 什么事呢？ \u003C\/p\u003E\u003Cp\u003E是啊，如果 App Cache 没有被设计得\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\/sw-101-gdgdf\/%23\/12\u0022\u003E烂到完全不可编程、无法清理缓存、几乎没有路由机制、出了 Bug 一点救都没有\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，可能就真没 Service Worker 什么事了。\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\/sw-101-gdgdf\/%23\/13\u0022\u003EApp Cache 已经在前不久定稿的 HTML5.1 中被拿掉了，W3C 为了挽救 web 世界真是不惜把自己的脸都打肿了……\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E时至今日，我们终于迎来了 Service Worker 的曙光。简单来说，Service Worker 是一个可编程的 Web Worker，它就像一个位于浏览器与网络之间的客户端代理，可以拦截、处理、响应流经的 HTTP 请求；配合随之引入 Cache Storage API，你可以自由管理 HTTP 请求文件粒度的缓存，这使得 Service Worker 可以从缓存中向 web 应用提供资源，即使是在离线的环境下。\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-f6bbc1e41017f746ea9d7a138548d2af_b.png\u0022 width=\u00222240\u0022 alt=\u0022v2-f6bbc1e41017f746ea9d7a138548d2af_b.pn\u0022\u003EService Worker 就像一个运行在客户端的代理\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E比如说，我们可以给网页 foo.html 注册这么一个 Service Worker，它将劫持由 foo.html 发起的一切 HTTP 请求，并统统返回未设置 Content-Type 的 Hello World!：\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\/\/ sw.js \u003C\/span\u003E \n\u003Cspan\u003Eself\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Eonfetch\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ee\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E=\u0026gt;\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003Ee\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003ErespondWith\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Enew\u003C\/span\u003E \u003Cspan\u003EResponse\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0027Hello World!\u0027\u003C\/span\u003E\u003Cspan\u003E))\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003EService Worker 第一次发布于 2014 年的 Google IO 上，目前已处于 W3C 工作草案的状态。其设计吸取了 Application Cache 的失败经验，作为 web 应用的开发者的你有着完全的控制能力；同时，它还借鉴了 Chrome 多年来在 Chrome Extension 上的设计经验（Chrome Background Pages 与 Chrome Event Pages），采用了基于「事件驱动」的唤醒机制，以大幅节省后台计算的能耗。比如上面的 fetch其实就是会唤醒 Service Worker 的事件之一。\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-4a289fc64b4d16f018cb60d1f7908c2a_b.png\u0022 width=\u00222240\u0022 alt=\u0022v2-4a289fc64b4d16f018cb60d1f7908c2a_b.pn\u0022\u003E\u003Cp\u003E\u003Cem\u003EService Worker 的生命周期\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E除了类似 fetch 这样的功能事件外，Service Worker 还提供了一组生命周期事件，包括安装、激活等等。比如，在 Service Worker 的「安装」事件中，我们可以把 web 应用所需要的资源统统预先下载并缓存到 Cache Storage 中去：\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\/\/ sw.js \nself.oninstall = (e) =\u0026gt; { \n  e.waitUntil( \n    caches.open(\u0027installation\u0027) \n      .then(cache =\u0026gt;  cache.addAll([ \n        \u0027.\/\u0027, \n        \u0027.\/styles.css\u0027, \n        \u0027.\/script.js\u0027 \n      ])) \n  ) \n}); \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E这样，当用户离线，网络无法访问时，我们就可以从缓存中启动我们的 web 应用：\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\/\/sw.js\u003C\/span\u003E \n\u003Cspan\u003Eself\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Eonfetch\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ee\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E=\u0026gt;\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003Econst\u003C\/span\u003E \u003Cspan\u003Efetched\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003Efetch\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ee\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Erequest\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \n  \u003Cspan\u003Econst\u003C\/span\u003E \u003Cspan\u003Ecached\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003Ecaches\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Ematch\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ee\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Erequest\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \n \n  \u003Cspan\u003Ee\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003ErespondWith\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E \n    \u003Cspan\u003Efetched\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Ecatch\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E_\u003C\/span\u003E \u003Cspan\u003E=\u0026gt;\u003C\/span\u003E \u003Cspan\u003Ecached\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \n  \u003Cspan\u003E)\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E可以看出，Service Worker 被设计为一个相对底层（low-level）、高度可编程、子概念众多，也因此异常灵活且强大的 API，故本文只能展示它的冰山一角。出于安全考虑，注册 Service Worker 要求你的 web 应用部署于 HTTPS 协议下，以免利用 Service Worker 的中间人攻击。笔者在今年 GDG 北京的 DevFest 上分享了 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\/2016\/11\/20\/sw-101-gdgdf\/\u0022\u003EService Worker 101\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，涵盖了 Service Worker 譬如「网络优先」、「缓存优先」、「网络与缓存比赛」这些更复杂的缓存策略、学习资料、以及\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/github.com\/Huxpro\/sw-101-gdgdf\u0022\u003E示例代码\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，可以供大家参考。\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-236d17f6badc3875237f4468c17dc501_b.png\u0022 width=\u00222240\u0022 alt=\u0022v2-236d17f6badc3875237f4468c17dc501_b.pn\u0022\u003EService Worker 的一种缓存策略：让网络请求与读取缓存比赛\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E你也可以尝试在支持 PWA 的浏览器中访问笔者的博客 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\u0022\u003EHux Blog\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，感受 Service Worker 的实际效果：所有访问过的页面都会被缓存并允许在离线环境下继续访问，所有未访问过的页面则会在离线环境下展示一个自定义的离线页面。\u003C\/p\u003E\u003Cp\u003E在笔者看来，\u003Cstrong\u003EService Worker 对 PWA 的重要性相当于 XMLHTTPRequest 之于 Ajax，媒体查询（Media Query）之于响应式设计，是支撑 PWA 作为「下一代 web 应用模型」的最核心技术。\u003C\/strong\u003E由于 Service Worker 可以与包括 Indexed DB、Streams 在内的大部分 DOM 无关 API 进行交互，它的潜力简直无可限量。笔者几乎可以断言，Service Worker 将在未来十年里成为 web 客户端技术工程化的兵家必争之地，带来「离线优先（Offline-first）」的架构革命。\u003C\/p\u003E\u003Ch3\u003EPush Notification\u003C\/h3\u003E\u003Cp\u003EPWA 推送通知中的「推送」与「通知」，其实使用的是两个不同但又相得益彰的 API：\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/notifications.spec.whatwg.org\/\u0022\u003ENotification API\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 相信大家并不陌生，它负责所有与通知本身相关的机制，比如通知的权限管理、向操作系统发起通知、通知的类型与音效，以及提供通知被点击或关闭时的回调等等，目前国内外的各大网站（尤其在桌面端）都有一定的使用。Notification API 最早应该是在 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/www.html5rocks.com\/en\/tutorials\/notifications\/quick\/\u0022\u003E2010\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 年前后由 Chromium 提出\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.chromium.org\/developers\/design-documents\/desktop-notifications\/api-specification\u0022\u003E草案\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E以 webkitNotifications 前缀方式实现；随着 2011 年进入标准化；2012 年在 Safari 6（Mac OSX 10.8+）上获得支持；2015 年 Notification API 成为 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/www.w3.org\/TR\/notifications\/\u0022\u003EW3C Recommendation\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E；2016 年 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/blogs.windows.com\/msedgedev\/2016\/05\/16\/web-notifications-microsoft-edge\/%232VBm890EjvAvUcgE.97\u0022\u003EEdge 的支持\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E；Web Notifications 已经在桌面浏览器中获得了全面支持（Chrome、Edge、Firefox、Opera、Safari）的成就。\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/w3c.github.io\/push-api\/\u0022\u003EPush API\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 的出现则让推送服务具备了向 web 应用推送消息的能力，它定义了 web 应用如何向推送服务发起订阅、如何响应推送消息，以及 web 应用、应用服务器与推送服务之间的鉴权与加密机制；由于 Push API 并不依赖 web 应用与浏览器 UI 存活，所以即使是在 web 应用与浏览器未被用户打开的时候，也可以通过后台进程接受推送消息并调用 Notification API 向用户发出通知。值得一提的是，Mac OSX 10.9 Mavericks 与 Safari 7 在 2013 年就发布了自己的私有推送支持，基于 APNS 的 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developer.apple.com\/notifications\/safari-push-notifications\/\u0022\u003ESafari Push Notifications\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E。\u003C\/p\u003E\u003Cp\u003E在 PWA 中，我们利用 Service Worker 的后台计算能力结合 Push API 对推送事件进行响应，并通过 Notification API 实现通知的发出与处理：\u003C\/p\u003E\u003Cbr\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003E\/\/ sw.js\u003C\/span\u003E \n\u003Cspan\u003Eself\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003EaddEventListener\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0027push\u0027\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \u003Cspan\u003Eevent\u003C\/span\u003E \u003Cspan\u003E=\u0026gt;\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n  \u003Cspan\u003Eevent\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003EwaitUntil\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E \n    \u003Cspan\u003E\/\/ Process the event and display a notification.\u003C\/span\u003E \n    \u003Cspan\u003Eself\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Eregistration\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003EshowNotification\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0022Hey!\u0022\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \n  \u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E});\u003C\/span\u003E \n \n\u003Cspan\u003Eself\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003EaddEventListener\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0027notificationclick\u0027\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \u003Cspan\u003Eevent\u003C\/span\u003E \u003Cspan\u003E=\u0026gt;\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E   \n  \u003Cspan\u003E\/\/ Do something with the event  \u003C\/span\u003E \n  \u003Cspan\u003Eevent\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Enotification\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Eclose\u003C\/span\u003E\u003Cspan\u003E();\u003C\/span\u003E   \n\u003Cspan\u003E});\u003C\/span\u003E \n \n\u003Cspan\u003Eself\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003EaddEventListener\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0027notificationclose\u0027\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \u003Cspan\u003Eevent\u003C\/span\u003E \u003Cspan\u003E=\u0026gt;\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E   \n  \u003Cspan\u003E\/\/ Do something with the event  \u003C\/span\u003E \n\u003Cspan\u003E});\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E对于 Push Notification，笔者的几次分享中一直都提的稍微少一些，一是因为 Push API 还处于 Editor Draft 的状态，二是目前浏览器与推送服务的互相支持都还不够成熟：Android 上的 Chrome（与其它基于 Blink 的浏览器）目前只支持基于 Google 私有的 GCM\/FCM 的通知推送，只有 Firefox 已经实现了正在由 IETF 进行标准化的 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/tools.ietf.org\/html\/draft-ietf-webpush-protocol-12\u0022\u003EWeb 推送协议（Web Push Protocol）\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E。\u003C\/p\u003E\u003Cp\u003E不过，如果你已经在使用 Google 的云服务（比如 Firebase），并且主要面向的是海外用户，那么在 web 应用上支持基于 GCM\/FCM 的推送通知并不是一件费力的事情，笔者推荐你阅读一下 Google Developers 的\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developers.google.com\/web\/fundamentals\/engage-and-retain\/push-notifications\/\u0022\u003E系列文章\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，很多国外公司已经玩起来了。\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E从 Hybrid 到 PWA，从封闭到开放\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E2008 年，当移动时代来临，\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\/pwa-qcon2016\/%23\/17\u0022\u003E唱衰移动 Web 的声音\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E开始出现，而浏览器的进化并不能跟上时，来自 Nitobi 的 Brian Leroux 等人创造了 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/cordova.apache.org\/\u0022\u003EPhonegap\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，希望它能以 Polyfill 的形式、弥补目前浏览器与移动设备间的「鸿沟」，从此开启了\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/en.wikipedia.org\/wiki\/Progressive_web_app%23Hybrid_Apps\u0022\u003E混合应用（Hybrid Apps）\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E的时代。\u003C\/p\u003E\u003Cp\u003E几年间，\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.adobe.com\/products\/air.html\u0022\u003EAdobe AIR\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/msdn.microsoft.com\/en-us\/library\/windows\/apps\/br211385.aspx\u0022\u003EWindows Runtime Apps\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developer.chrome.com\/extensions\/apps\u0022\u003EChrome Apps\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developer.mozilla.org\/en-US\/docs\/Archive\/Firefox_OS\/Firefox_OS_apps\/Building_apps_for_Firefox_OS\u0022\u003EFirefox OS\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.openwebosproject.org\/\u0022\u003EWebOS\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/cordova.apache.org\/\u0022\u003ECordova\/Phonegap\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/electron.atom.io\/\u0022\u003EElectron\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 以及国内比如微信、淘宝，无数的 Hybrid 方案拔地而起，让 web 开发者可以在继续使用 web 客户端技术的同时，做到一些只有原生应用才能做到的事情，包括访问一些设备与操作系统 API，给用户带来更加 「Appy」 的体验，以及进入 App Store 等等。\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-0564582268f688b3fd10b239e6d4486b_b.png\u0022 width=\u00222342\u0022 alt=\u0022v2-0564582268f688b3fd10b239e6d4486b_b.pn\u0022\u003E众多的 Hybrid 方案\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EPWA 作为一个涵盖性术语，与过往的这些或多或少通过私有平台 API 增强 web 应用的尝试最大的不同，在于构成 PWA 的每一项基本技术，都已经或正在被 IETF、ECMA、W3C 或 WHATWG 标准化，不出意外的话，它们都将被纳入开放 web 标准，并在不远的将来得到所有浏览器与全平台的支持。我们终于可以逃出 App Store 封闭的秘密花园，重新回到属于 web 的那片开放自由的大地。\u003C\/p\u003E\u003Cp\u003E有趣的是，从上文中你也可以发现，组成 PWA 的各项技术的草案正是由上述各种私有方案背后的浏览器厂商或开发者直接贡献或间接影响的。可以说，PWA 的背后并不是某一家或两家公司，而是整个 web 社区与整个 web 规范。\u003Cstrong\u003E正是因为这种开放与去中心化的力量，使得万维网（World Wide Web）能够成为当今世界上跨平台能力最强、且几乎是唯一一个具备这种跨平台能力的应用平台。\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/phonegap.com\/blog\/2012\/05\/09\/phonegap-beliefs-goals-and-philosophy\/\u0022\u003E「我们相信 Web，是因为相信它是解决设备差异化的终极方案；我们相信，当 Web 在今天做不到一件事的时候，是因为它还没来得及去实现，而不是因为他做不到。而 Phonegap，它的终极目的就是消失在 Web 标准的背后。」\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E在不丢失 web 的开放灵魂，在不需要依靠 Hybrid 把应用放在 App Store 的前提下，让 web 应用能够渐进式地跳脱出浏览器的标签，变成用户眼中的 App。这是 Alex Russell 在 2015 年提出 PWA 概念的\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/infrequently.org\/2015\/06\/progressive-apps-escaping-tabs-without-losing-our-soul\/\u0022\u003E原委\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E。\u003C\/p\u003E\u003Cp\u003E而又正因为 web 是一个整体，PWA 可以利用的技术远不止上述的几个而已：Ajax、响应式设计、JavaScript 框架、ECMAScript Next、CSS Next、Houdini、Indexed DB、Device APIs、Web Bluetooth、Web Socket、Web Payment、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/wicg.github.io\/BackgroundSync\/spec\/\u0022\u003E孵化\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E中的 \u003Ca href=\u0022http:\/\/zhuanlan.zhihu.com\/developers.google.com\/web\/updates\/2015\/12\/background-sync\u0022\u003EBackground Sync API\u003C\/a\u003E、\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/streams.spec.whatwg.org\/\u0022\u003EStreams\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E、WebVR……开放 Web 世界 27 年来的发展以及未来的一切，都与 PWA 天作之合。\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E鱼与熊掌的兼得\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E经过几年来的摸索，整个互联网行业仿佛在「Web 应用 vs. 原生应用」这个问题上达成了共识：\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003Eweb 应用是鱼：迭代快，获取用户成本低；跨平台强体验弱，开发成本低。\u003Cstrong\u003E适合拉新\u003C\/strong\u003E。\u003C\/li\u003E\u003Cli\u003E原生应用是熊掌：迭代慢，获取用户成本高；跨平台弱体验强，开发成本高。\u003Cstrong\u003E适合保活\u003C\/strong\u003E。\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E要知道，虽然用户花在原生应用上的时间要明显多于 web 应用，但其中\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/marketingland.com\/report-mobile-users-spend-80-percent-time-just-five-apps-116858\u0022\u003E有 80% 的时间是花在前五个应用中的\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E。\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.recode.net\/2016\/9\/16\/12933780\/average-app-downloads-per-month-comscore\u0022\u003E调查显示，美国有一半的智能手机用户平均每月新 App 安装量为零\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，而月均网站访问量却有 100 个，更别提 Google Play 上\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/youtu.be\/EUthgV-U05w\u0022\u003E有 60% 的应用从未被人下载过了\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E。于是，整个行业的产品策略清一色地\u003Cstrong\u003E「拿鱼换熊掌」\u003C\/strong\u003E，比如笔者的老东家阿里旅行（飞猪旅行），web 应用布满阿里系各种渠道，提供「优秀的第一手体验」，等你用的开心了，再引诱你去下载安装原生应用。\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-af39ab8672aaf1234efca8acfa58d94d_b.jpg\u0022 width=\u00221920\u0022 alt=\u0022v2-af39ab8672aaf1234efca8acfa58d94d_b.jp\u0022\u003E原生应用、当代 Web 与 PWA 图片来源: Hux \u0026amp; \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developers.google.com\/web\/events\/pwaroadshow\/\u0022\u003EGoogle\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E但是，PWA 的出现，让鱼与熊掌兼得变成了可能 —— 它同时具备了 web 应用与原生应用的优点，有着自己独有的先进性：「浏览器 -\u0026gt; 添加至主屏\/安装 -\u0026gt; 具备原生应用体验的 PWA -\u0026gt; 推送通知 -\u0026gt; 具备原生应用体验的 PWA」，PWA 自身就包含着从拉新到保活的闭环。\u003C\/p\u003E\u003Cp\u003E除此之外，PWA 还继承了 web 应用的另外两大优点：\u003Cstrong\u003E无需先付出几十兆的下载安装成本即可开始使用\u003C\/strong\u003E，以及\u003Cstrong\u003E不需要经过应用超市审核就可以发布新版本\u003C\/strong\u003E。所以，PWA 可以称得上是一种「流式应用（Streamable App）」与「常青应用（Evergreen App）」\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E未来到来了吗\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E在笔者分享 PWA 的经历中，最不愿意回答的两个问题莫过于「PWA 已经被广泛支持了吗？」以及「PWA 与 ABCDEFG 这些技术方案相比有什么优劣？」，但是这确实是两个逃不开的问题。\u003C\/p\u003E\u003Ch3\u003EPWA 的支持情况？\u003C\/h3\u003E\u003Cp\u003E当我们说到 PWA 是否被支持时，其实我们在说的是 PWA 背后的几个关键技术都得到支持了没有。以浏览器内核来划分的话，Blink（Chrome、Oprea、Samsung Internet 等）与 Gecko（Firefox）都已经实现了 PWA 所需的所有关键技术（👏👏👏），并已经开始探寻更多的可能性。EdgeHTML（Edge）\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/blogs.windows.com\/msedgedev\/2016\/07\/08\/the-progress-of-web-apps\/\u0022\u003E简直积极得不能更积极了\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，所有的特性都已经处于「正在开发中」的\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developer.microsoft.com\/en-us\/microsoft-edge\/platform\/status\/\u0022\u003E状态\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E。最大的绊脚石仍然来自于 Webkit（Safari），尤其是在 iOS 上，上述的四个 API 都未得到支持，而且由于平台限制，第三方浏览器也无法在 iOS 上支持。（\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/www.microsoft.com\/en-us\/WindowsForBusiness\/End-of-IE-support\u0022\u003E什么你说 IE？\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E）\u003C\/p\u003E\u003Cp\u003E不过，也不要气馁，Webkit 不但在它 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/trac.webkit.org\/wiki\/FiveYearPlanFall2015\u0022\u003E2015 年发布的五年计划\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E里提到了 Service Worker，更是已经在最近实现了 Service Worker 所\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/jakearchibald.github.io\/isserviceworkerready\/\u0022\u003E依赖\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E的 Request、Response 与 Fetch API，还把 Service Worker 与 Web App Manifest 纷纷\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/webkit.org\/status\/\u0022\u003E列入了「正在考虑」\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E的 API 中；要知道，Webkit 可是把 Web Components 中的 HTML Imports 直接\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/webkit.org\/status\/%23specification-web-components\u0022\u003E列到「不考虑」里去了\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E……（其实 Firefox 也是）\u003C\/p\u003E\u003Cp\u003E更何况，由于 web 社区一直以来所追求的「渐进增强、优雅降级」，一个 PWA 当然可以在 iOS 环境正常执行。\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/cloudfour.com\/thinks\/why-does-the-washington-posts-progressive-web-app-increase-engagement-on-ios\/\u0022\u003E事实上，华盛顿邮报将网站迁移到 PWA 之后发现，不止是 Android，在 iOS 上也获得了 5 倍的活跃度增长\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，（无论是不是它们之前的网站写得太烂吧），就算 iOS 现在还不支持 PWA 也\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/cloudfour.com\/thinks\/ios-doesnt-support-progressive-web-apps-so-what\/\u0022\u003E不会怎么样\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，我们更是有理由相信 PWA 会很快在 iOS 上到来。\u003C\/p\u003E\u003Ch3\u003EPWA vs. Others\u003C\/h3\u003E\u003Cp\u003E贺老（贺师俊）曾说过：「从纯 Web 到纯 Native，之间有许多可能的点」。当考虑移动应用的技术选型时，除了 Web 与原生应用，我们还有各种不同程度的 Hybrid，还有今年爆发的诸多 JS-to-Native 方案。\u003C\/p\u003E\u003Cp\u003E虽然我在上文中用了「复仇」这样的字眼，不过无论从技术还是商业的角度，我们都没必要把 web 或是 PWA 放到 Native 的对立面去看。它们当然存在竞争关系，但是更多的时候，web-only 与 app-only 的策略都是不完美的，当公司资源足够的时候，我们通常会选择同时开发两者。\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/cloudfour.com\/thinks\/progressive-web-apps-simply-make-sense\/%3Futm_source%3Dmobilewebweekly%26utm_medium%3Demail%23fn-4857-1\u0022\u003E当然，无论与不与原生应用对比，PWA 让 web 应用变得体验更好这件事本身是毋庸置疑的。\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E「不谈场景聊技术都是扯淡」，\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/medium.com\/%40owencm\/the-surprising-tradeoff-at-the-center-of-question-whether-to-build-an-native-or-web-app-d2ad00c40fb2%23.ym83ct2ax\u0022\u003E我们仍然还是需要根据自己产品与团队的情况来决定对应的技术选型与平台策略，只是 PWA 让 web 应用在面对选型考验时更加强势了而已。\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-2eddf7323eb78957e1f1e6655b511c1c_b.png\u0022 width=\u00222342\u0022 alt=\u0022v2-2eddf7323eb78957e1f1e6655b511c1c_b.pn\u0022\u003E众多的技术选型，以及笔者的一种猜测\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E笔者不负责任得做一些猜测：虽然\u003Ca href=\u0022http:\/\/zhihu.com\/question\/31316032\/answer\/75236718\u0022\u003E重量级的 Hybrid 架构与基础设施\u003C\/a\u003E仍是目前不少场景下最优的解决方案；但是随着移动设备本身的硬件性能提升与新技术的成熟与普及，JS-to-Native 与以 PWA 为首的纯 web 应用，将分别从两个方向挤压 Hybrid 的生存空间，消化当前 Hybrid 架构主要解决的问题；前者将逐渐演化为类似 Xarmarin 这样针对跨平台原生应用开发的解决方案；后者将显著降低当前 Hybrid 架构的容器开发与部署成本，将 Hybrid 返璞归真为简单的 webview 调用。\u003C\/p\u003E\u003Cp\u003E这种猜测当然不是没有依据的瞎猜，比如前者可以参考阿里巴巴集团级别迁移 Weex 的战略与微信小程序的 roadmap；后者则可以参考当前 Cordova 与 Ionic 两大 Hybrid 社区对 PWA 的热烈反响。\u003C\/p\u003E\u003Ch3\u003EPWA in China\u003C\/h3\u003E\u003Cp\u003E看看 Google 官方宣传较多的 PWA \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/developers.google.com\/web\/showcase\/\u0022\u003E案例\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E就会发现，FlipKart、Housing.com 来自印度；Uber、华盛顿邮报来自北美；唯一来自中国的 AliExpress 主要开展的则是海外业务。\u003C\/p\u003E\u003Cp\u003E由于中国的特殊性，笔者在\u003Ca href=\u0022https:\/\/www.zhihu.com\/question\/46690207\/answer\/104851767\u0022\u003E第一次\u003C\/a\u003E聊到 PWA 时难免表现出了一定程度的悲观：\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E国内较重视 iOS，而 iOS 目前还不支持 PWA。\u003C\/li\u003E\u003Cli\u003E国内的 Android 实为「安卓」，不自带 Chrome 是一，可能还会有其他兼容问题。\u003C\/li\u003E\u003Cli\u003E国内厂商可能并不会像三星那样对推动自家浏览器支持 PWA 那么感兴趣。\u003C\/li\u003E\u003Cli\u003E依赖 GCM 推送的通知不可用，Web Push Protocol 还没有国内的推送服务实现。\u003C\/li\u003E\u003Cli\u003E国内 webview 环境较为复杂（比如微信），黑科技比较多。\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E反观印度，由于 Google 服务健全、标配 Chrome 的 Android 手机市占率非常高，PWA 的用户达到率简直直逼 100%，也难免获得无数好评与支持了。\u003Cstrong\u003E笔者奢望着本文能对推动 PWA 的国内环境有一定的贡献。\u003C\/strong\u003E不过无论如何，PWA 在国内的春天可能的确会来得稍微晚一点了。\u003C\/p\u003E\u003Ch2\u003E\u003Cb\u003E结语\u003C\/b\u003E\u003C\/h2\u003E\u003Cp\u003E「\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/huangxuan.me\/pwa-qcon2016\/%23\/99\u0022\u003E我们信仰 Web，不仅仅在于软件、软件平台与单纯的技术\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E，还在于\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/phonegap.com\/blog\/2012\/05\/09\/phonegap-beliefs-goals-and-philosophy\/\u0022\u003E『任何人，在任何时间任何地点，都可以在万维网上发布任何信息，并被世界上的任何一个人所访问到。』而这才是 web 的最为革命之处，堪称我们人类，作为一个物种的一次进化。\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E」\u003C\/p\u003E\u003Cp\u003E请不要让 web 再\u003Ca href=\u0022https:\/\/zhuanlan.zhihu.com\/p\/22561084\u0022\u003E继续离我们远去\u003C\/a\u003E，浏览器厂商们已经重新走到了一起，而下一棒将是交到我们 web 应用开发者的手上。\u003Ca href=\u0022http:\/\/zhuanlan.zhihu.com\/youtu.be\/y1B2c3ZD9fk?t=1h14m48s\u0022\u003E乔布斯曾相信 web 应用才移动应用的未来\u003C\/a\u003E，那就让我们用代码证明给这个世界看吧。\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E让我们的用户，也像我们这般热爱 web 吧。\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E黄玄，于 12 月的北京。\u003C\/p\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cp\u003E\u003Cem\u003E注：在笔者撰文期间，Google 在 Google China Developers Days 上宣布了 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/developers.google.cn\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Edevelopers.google.cn\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 域名的启用，方便国内开发者访问。对于文中所有链向 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/developers.google.com\u0022\u003E\u003Cspan\u003Ehttp:\/\/\u003C\/span\u003E\u003Cspan\u003Edevelopers.google.com\u003C\/span\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 的参考文献，应该都可以在 cn 站点中找到。\u003C\/em\u003E\u003C\/p\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/huxpro?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003E黄玄\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E"},"author":"黄玄","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1486954079000","timestampUsec":"1486954079000000","id":"tag:google.com,2005:reader\/item\/000000028b842df3","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"学会优雅实用的 Markdown 写作，从这篇文章开始吧","published":1486839600,"updated":0,"starred":1486954079,"canonical":[{"href":"http:\/\/daily.zhihu.com\/story\/9215495"}],"alternate":[{"href":"http:\/\/daily.zhihu.com\/story\/9215495","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cdiv\u003E \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E\u003C\/div\u003E \n \n \n \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n \n \n \n\u003Cdiv\u003E \n\u003Ch2\u003E\u003C\/h2\u003E \n\u003Cdiv\u003E \n \n\u003Cdiv\u003E \n\u003Cimg src=\u0022http:\/\/pic4.zhimg.com\/v2-a738971fa8443019ad206b0e12e475db_is.jpg\u0022 alt=\u0022v2-a738971fa8443019ad206b0e12e475db_is.j\u0022\u003E\u003Cspan\u003EAppSo，\u003C\/span\u003E\u003Cspan\u003E数字生活媒体，让你的手机更好用。微信号 appsolution\u003C\/span\u003E \n\u003C\/div\u003E \n \n\u003Cdiv\u003E \n\u003Cp\u003E文章来自\u003Ca href=\u0022https:\/\/www.zhihu.com\/org-intro\u0022\u003E机构帐号\u003C\/a\u003E：\u003Ca href=\u0022https:\/\/www.zhihu.com\/people\/appso\u0022\u003EAppSo\u003C\/a\u003E\u003C\/p\u003E\n \n\u003Chr\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cstrong\u003E什么是 Markdown？\u003C\/strong\u003E\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E如果 Markdown 尚未出现，我大概还在用 Word 来完成这篇文章：\u003C\/p\u003E\n \n\u003Cblockquote\u003E我需要在拥挤的工具栏与文字区域之间反复切换以更换合适的字号；右键打开菜单，面对一堆选项，我却只想引入一个超链接；插入图片时或许还要思考如何能够得到最合适的排版……折腾了一通，好了，我刚才想写点什么来着……\u003C\/blockquote\u003E\n \n\u003Cp\u003E显然十年以前人们就曾想过改变这一低效的写作方式，于是轻量级标记语言—— Markdown 也就应运而生。Markdown 的理念由 John Gruber 首次提出，而其基础语法的制定与修补则由 Gruber 与 Aaron Swartz 二人协作完成。\u003C\/p\u003E\n \n\u003Cp\u003E随着语法的完善与各种扩展的加入，Markdown 被越来越多的各行业文字工作者所推崇，微博也在前不久宣布「兼容 Markdown 协议开放给第三方」。那么，用 Markdown 写作到底有何优点呢？\u003C\/p\u003E\n \n\u003Cp\u003EMarkdown 的纯文本特性意味着理论上我们可以在任何纯文本编辑器（例如写字板）中用 Markdown 进行写作，码字时只需依照规则键入特定的标记，便可实现非常多样的排版效果。\u003C\/p\u003E\n \n\u003Cp\u003E无需各种菜单与工具栏，也免除了字体行距等排版元素的干扰，我们得以将精力更加集中于写作本身，不错过任何一次灵感的出现。\u003C\/p\u003E\n \n\u003Cp\u003E「\u003Cstrong\u003E易读易写\u003C\/strong\u003E」是 Markdown 的第一原则。掌握 Markdown 的基本语法只需几分钟，是为「易写」；语法简洁灵活，转换为富文本或 HTML 等格式后依然可以保留原本的排版和阅读体验，是为「易读」。如此看来，Markdown 的受欢迎也就不足为怪了。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u003Cstrong\u003EMarkdown 语法说明\u003C\/strong\u003E\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-83d94001eb1468912d09dbff588bd479_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Col\u003E\u003Cli\u003E在一段文本前加上 # 符号，即可使其成为标题。Markdown 共支持\u003Cstrong\u003E六级\u003C\/strong\u003E标题，标题级数与 # 的个数一一对应。\u003C\/li\u003E\n \n\u003Cli\u003E在一段文本前加上 \u0026gt; 符号，即可将其引用。\u003C\/li\u003E\n \n\u003Cli\u003E文字两端分别插入一个星号使其 * 倾斜 *，插入两个星号使其 ** 加粗 **，插入 ` 符号使其生成行内代码块。\u003C\/li\u003E\n \n\u003Cli\u003E用 [文字](链接) 的格式为中括号内的文字添加一段链接。插入图片时，在前者的开头加上 ! 即可，即 ![可选文字](图片链接)。\u003C\/li\u003E\n \n\u003Cli\u003EMarkdown 支持无序列表和有序列表，你可以使用 * 作为列表标记生成无序列表，或是用数字加英语句号的组合 1. 来生成有序列表。\u003C\/li\u003E\n \n\u003Cli\u003E空白行中输入 * * * 来生成分割线。\u003C\/li\u003E\n \n\u003C\/ol\u003E\u003Cp\u003E以上仅为最基础的 Markdown 语法介绍，事实上 Markdown 还有诸多功能扩展（例如脚注和表格、公式和流程图）。如有详细了解的意愿，可以前往\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/daringfireball.net\/projects\/markdown\/syntax\u0022\u003E Markdown 官方文档\u003C\/a\u003E或各大 Markdown 编辑器（例如 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/bywordapp.com\/markdown\/guide.html%23section-syntax\u0022\u003EByword\u003C\/a\u003E）的帮助中进行查看。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u003Cstrong\u003E个人 Markdown 工作流\u003C\/strong\u003E\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E尽管 Markdown 的语法规则已经显著降低了工具本身对于写作的影响，但选择一个称手的编辑器也无疑会大大提高的自己的写作效率。\u003C\/p\u003E\n \n\u003Cp\u003E对于我而言，由于撰文流程大都是在 Mac OS 环境中完成的，偶尔会在特殊场合用手机记录灵感或是续写之前的文章，所以我希望能够拥有一个足够舒适的写作氛围，基础的文档管理功能以及两设备间的稳定同步，权衡之下我使用了如下的工具搭配。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E1. Byword #Mac\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003EByword 是我几乎从接触 Markdown 伊始便使用至今的一款 Markdown 编辑器。精致典雅的界面，打字机模式和段落聚焦相结合[1]能够使我尽可能做到心无旁骛，而黑白两套主题以及对于字体和页面尺寸的调节则给予了我恰到好处的自定义空间。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic4.zhimg.com\/v2-46beced9f8268922b87cebb3724fe497_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E导出方面，HTML、PDF、Word 等常见导出格式均已涵盖。解锁高级版本后，更是可以将文章直接分享到 Wordpress、Medium 等各大博客平台。\u003C\/p\u003E\n \n\u003Cp\u003E然而相对其他编辑器来说，Byword 的缺点同样显而易见。不支持脚注与表格的快捷插入，也缺少像 iA Writer 按词性分类统计这样的杀手锏，虽然对我来说这些都并无大碍，却使它注定入不了大多数 Power User 的法眼。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E2. nvALT\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E其实要说 Byword 的最大局限性，还得算是文档管理功能的缺失，基于这点我选用了 nvALT 来与之搭配。\u003C\/p\u003E\n \n\u003Cp\u003EnvALT 是国外知名开发者 Brett Tarpstra 的作品，应用中内置了文档库，可以通过添加多个标签来进行管理，更能为多篇特定的文章添加调出的快捷键。\u003C\/p\u003E\n \n\u003Cp\u003EnvALT 的最大特色是顶部的搜索框，不仅可以在其中键入关键词实现标签的过滤与文章内容的搜索，而且输入回车，便会以当前框中的语句为标题，快速创建一篇新文章。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-530e04b93db21c398e63f4733b949f9c_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E抛去文档库不谈，nvALT 自身全面的编辑选项与强大的独立预览窗口都使其称得上是一款高质量的文字编辑应用，而 Simplenote 的加持也为文档同步上了道双重保险。\u003C\/p\u003E\n \n\u003Cp\u003E在设置中，我将外部编辑器设置为 Byword。这样一来，先在 nvALT 中检索创建文档，后通过快捷键在貌美的 Byword 中进一步编辑便成了我日常写作的必经流程。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic2.zhimg.com\/v2-6fc2d4b947552a12762e71bd6d9bcae5_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E3. 1Writer #iOS\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E能够与 Dropbox 中的文章保持实时双向同步是我对于手机端 Markdown 应用的刚需，\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.ifanr.com\/app\/473502\u0022\u003E1Writer\u003C\/a\u003E 在这一点上便做得足够出色。对于文件夹之内的文档搜索与标签的支持也让我能够在手机上轻松实现文档库的管理。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-3fbe9ad2d03839cf56c0be0d7166da1c_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E与 Byword 的 iOS 版本相比，1Writer 键盘上方的可自定义扩展、对多项云服务的支持以及自带浏览器的不俗表现都让它实际的使用体验更胜一筹，如今它也已经成为我在手机上续写文章的第一选择。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-6bc52d1e8362fc7ebf778d7a1071c62e_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E4. Drafts 4 #iOS\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E而在需要记录转瞬即逝的灵感时，我会在第一时间打开 Drafts 4，因为它能够立即进入文字录入状态，也方便我之后对录入的文字做进一步的分发处理。例如通过创建一个 Action，便可实现无需跳转就能将正文内容附加到 dropbox 中特定文章的操作，非常方便。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-23098e5bd6dc33b750c595718486eb1c_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cp\u003E同 1Writer 一样，Drafts 键盘上方的自定义扩展也可以让 Drafts4 变身成强大的 Markdown 编辑器。有关 Drafts4 的详细功能，有兴趣的读者同样可以浏览之前 AppSo 的\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.ifanr.com\/app\/461769\u0022\u003E测评文章\u003C\/a\u003E。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E\u003Cstrong\u003E其他 Markdown 编辑器推荐\u003C\/strong\u003E\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E桌面平台\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003EMac 平台 Markdown 编辑器的选择其实非常之多，我们精选了以下几款供你选用：\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/pic3.zhimg.com\/v2-546770074aa6fd6a8434da07eea71a7a_b.jpg\u0022 alt=\u0022\u0022\u003E\u003C\/p\u003E\n \n\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003EUlysses\u003C\/strong\u003E - Mac 平台首屈一指的 Markdown 编辑器，拥有更加专业的文档库管理，功能非常全面而不显繁杂，不过其 50 刀的价格相对来说也更加不菲。如果你对文字工作有着更高的需求，那么只它一个，便已足够。\u003C\/li\u003E\n \n\u003Cli\u003E\u003Cstrong\u003EiA Writer\u003C\/strong\u003E - 更新至 3.0 版本后，iA Writer 将两版本合二为一，并加入了诸多新特性与手势操作。值得一提的是，iA Writer 的正文字体仍旧无法被更换，不过万幸这款名为「Nitti」的字体的显示效果还算不错。\u003C\/li\u003E\n \n\u003Cli\u003E\u003Cstrong\u003ETypora\u003C\/strong\u003E - 界面干净整洁的免费之选，「所见即所得」的呈现方式是它的最大特色，而支持数学公式及表格的可视化插入与编辑相信也会解决不少人的痛点。\u003C\/li\u003E\n \n\u003C\/ul\u003E\u003Cp\u003E除去以上三款，同为 Brett Tarpstra 作品的 \u003Cstrong\u003EMarked2\u003C\/strong\u003E 以及由国人开发的 \u003Cstrong\u003EMWeb\u003C\/strong\u003E 也都是很好的选择。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E移动平台\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003EWindows 上可供选择的高质量 Markdown 编辑器中，\u003Cstrong\u003EMarkdownPad\u003C\/strong\u003E 无疑是其中的佼佼者。MarkdownPad 不仅可以通过编写 CSS 实现界面的完全自定义，而且支持双栏实时预览，快捷键和基本语法的支持自然也不在话下。\u003C\/p\u003E\n \n\u003Cp\u003EWeb 端的使用场景固然不多，但也不是没有精品存在：比如同样支持双栏预览的 \u003Cstrong\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/dillinger.io\/\u0022\u003Edillinger\u003C\/a\u003E\u003C\/strong\u003E 和 \u003Cstrong\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=https%3A\/\/maxiang.io\/\u0022\u003E马克飞象\u003C\/a\u003E\u003C\/strong\u003E。前者的界面风格清新素雅，能够接入 Dropbox、Google Drive、Github 等各种云服务。后者可以将生成的文档直接同步至绑定的印象笔记帐号，并包含多套主题，文章中的 Markdown 语法示例截图也是取自于此。\u003C\/p\u003E\n \n\u003Cp\u003EiOS 方面，除了以上介绍的 1Writer 与 Drafts4，\u003Cstrong\u003EEditorial\u003C\/strong\u003E 也是一款专注于 iOS 平台的极为出色强大的作品。如果你在 Mac 上使用了 Ulysses 或 iA Writer 作为你的主力工具，那选择他们各自在 iOS 中的「亲儿子」将带给你更加无缝的码字体验。\u003C\/p\u003E\n \n\u003Cp\u003E对于 Android 用户来讲，你同样可以在商店中看到 \u003Cstrong\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.ifanr.com\/app\/497077\u0022\u003EiA Writer\u003C\/a\u003E\u003C\/strong\u003E的身影，此外严格遵守 Material Design 的 \u003Cstrong\u003EJotterPad\u003C\/strong\u003E 也同样备受好评。二者在功能上均足够完善，并可与 Dropbox 同步，想要在手机上专心码字的话可以在二者之间进行选择。\u003C\/p\u003E\n \n\u003Cp\u003E如果仅是满足自己偶尔记录笔记的需求，那么还处于 Beta 版本的 \u003Cstrong\u003E\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/www.ifanr.com\/app\/552586\u0022\u003EMonospace Writer\u003C\/a\u003E\u003C\/strong\u003E 以及前不久刚支持 Markdown 的\u003Cstrong\u003E锤子便签\u003C\/strong\u003E或许会更适合你。\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E本文作者刘志鹏，转载请先联系我们并获得授权。\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Cp\u003E\u003Cstrong\u003E注释：\u003C\/strong\u003E\u003C\/p\u003E\n \n\u003Col\u003E\u003Cli\u003E打字机模式使打字时光标一直保持在屏幕中央，段聚焦功能则令除当前段落以外的所有文本淡化。\u003C\/li\u003E\n \n\u003C\/ol\u003E\u003Chr\u003E\u003Cp\u003E「知乎\u003Cspan\u003E机构\u003C\/span\u003E\u003Cspan\u003E帐号\u003C\/span\u003E」是\u003Cspan\u003E机构\u003C\/span\u003E用户专用的知乎\u003Cspan\u003E帐号\u003C\/span\u003E，与知乎社区内原有的个人\u003Cspan\u003E帐号\u003C\/span\u003E独立并行，其使用者为有正规资质的组织\u003Cspan\u003E机构\u003C\/span\u003E，包括但不限于科研院所、公益组织、政府机关、媒体、企业等。这不仅是知乎对\u003Cspan\u003E机构\u003C\/span\u003E的「身份认证」，更是涵盖了内容流通机制、\u003Cspan\u003E帐号\u003C\/span\u003E规范等全套\u003Cspan\u003E帐号\u003C\/span\u003E体系。和个人\u003Cspan\u003E帐号\u003C\/span\u003E一样，\u003Cspan\u003E机构\u003C\/span\u003E\u003Cspan\u003E帐号\u003C\/span\u003E开通不需要任何费用，同时也受社区规范的监督管理，并要遵守相关协议。目前\u003Cspan\u003E机构\u003C\/span\u003E\u003Cspan\u003E帐号\u003C\/span\u003E入驻采用邀请制。您可以通过  \u003Ca href=\u0022http:\/\/zhihu.com\/org-intro\u0022\u003E什么是「知乎机构帐号」\u003C\/a\u003E 来了解更多\u003Cspan\u003E机构\u003C\/span\u003E\u003Cspan\u003E帐号\u003C\/span\u003E信息。 \u003C\/p\u003E \n \n\u003Cdiv\u003E\u003Ca href=\u0022http:\/\/zhuanlan.zhihu.com\/p\/24571424\u0022\u003E查看知乎讨论\u003C\/a\u003E\u003C\/div\u003E \n \n\u003C\/div\u003E \n\u003C\/div\u003E \n\u003C\/div\u003E \n \n \n\u003C\/div\u003E \n\u003C\/div\u003E"},"author":"知乎日报","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/zhihudaily.dev.malash.net\/","title":"知乎日报","htmlUrl":"http:\/\/daily.zhihu.com\/"}},{"crawlTimeMsec":"1486906260000","timestampUsec":"1486906260000000","id":"tag:google.com,2005:reader\/item\/000000028b6fb1c8","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"Android性能优化之虚拟机调优","published":1486902600,"updated":0,"starred":1486906260,"canonical":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/24534940?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title"}],"alternate":[{"href":"http:\/\/zhuanlan.zhihu.com\/p\/24534940?utm_campaign=rss\u0026utm_medium=rss\u0026utm_source=rss\u0026utm_content=title","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-68a3980a1e07e07415c084f42ed14a74_b.png\u0022 width=\u00220\u0022 alt=\u0022v2-68a3980a1e07e07415c084f42ed14a74_b.pn\u0022\u003E\u003Cp\u003E介绍完 \u003Ca href=\u0022https:\/\/zhuanlan.zhihu.com\/p\/24414378\u0022\u003E深入学习Android：虚拟机 \u0026amp; 运行时\u003C\/a\u003E 之后，很多小伙伴问我，你描述的这些知识结构看起来艰深晦涩高大上，实际工作中能有多大用途呢？今天我就简单举个例子。\u003C\/p\u003E\u003Cp\u003E众所周知，我们的Android App运行在Java虚拟机之上，而Java是一门带GC的语言。在虚拟机进行垃圾回收的时候，要做一件很形象的事叫做STW（stop the world）；也就是说，为了回收那些不再使用的对象，虚拟机必须要停止所有的线程来进行必要的工作。虽说这一点在ART运行时上得到了很大的改善，但是GC的存在对App运行时的性能始终有着微妙的影响。如果你观察过手机输入的日志，一定会看到类似如下的内容：\u003Cbr\u003E\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E12-23 18:46:06.470 28643-28658\/? I\/art: Background sticky concurrent mark sweep GC freed 14069(1392KB) AllocSpace objects, 7(112KB) LOS objects, 4% free, 32MB\/33MB, paused 5.032ms total 49.071ms at GCDaemon thread CareAboutPauseTimes 1\u003C\/p\u003E\u003Cp\u003E12-23 18:46:07.300 28643-28658\/? I\/art: Background sticky concurrent mark sweep GC freed 15442(1400KB) AllocSpace objects, 8(128KB) LOS objects, 4% free, 32MB\/33MB, paused 10.356ms total 53.023ms at GCDaemon thread CareAboutPauseTimes 1\u003C\/p\u003E\u003Cp\u003E12-23 18:46:12.250 28643-28658\/? I\/art: Background partial concurrent mark sweep GC freed 28723(1856KB) AllocSpace objects, 6(92KB) LOS objects, 11% free, 31MB\/35MB, paused 2.380ms total \u003Cb\u003E108.502ms\u003C\/b\u003E at GCDaemon thread CareAboutPauseTimes 1\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E上面的日志反映一个事实：GC是有代价的。有很多有关性能优化的文章提到GC，会花长篇大论讲述垃圾回收的过程以及原理，但所做的策略无非就是「不要创建不必要的对象」，「避免内存泄漏」最终就提到MAT，LeakCanary等工具的使用上去了；我只能说这很苍白无力——写出这样的代码、学会使用工具应该是基本要求。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E虽说Android也支持NDK开发，但是我们不可能把所有代码全用C++重写吧？那么，我们有没有办法能\u003Cb\u003E影响GC的策略\u003C\/b\u003E，使得GC尽量减少呢？答案是肯定的。原理在于Android的进程机制——每一个App都有一个单独的虚拟机实例，在App自己的进程空间，我们有相当大的主动权。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E我举个简单的例子。（下面的内容基于Android 5.1系统，所有的原理以及代码不保证能在其他系统版本甚至某些ROM上工作）\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003EAndroid上所有的App进程都从Zygote进程fork而来，App子进程采用copy on write机制共享了Zygote进程的进程空间；其中Android虚拟机以及运行时的创建在Android系统启动、创建Zygote进程的时候已经完成了。垃圾回收机制是虚拟机的一部分，因此，我们先从Zygote进程的启动过程谈起。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E我们知道，Android系统是基于Linux内核的，而在Linux系统中，所有的进程都是init进程的子孙进程，Zygote进程也不例外——它是在系统启动的过程，由init进程创建的。在系统启动脚本system\/core\/rootdir\/init.rc文件中，我们可以看到启动Zygote进程的脚本命令：\u003C\/p\u003E\u003Cblockquote\u003Eservice zygote \/system\/bin\/app_process -Xzygote \/system\/bin --zygote --start-system-server\u003Cbr\u003E\u003C\/blockquote\u003E\u003Cp\u003E也就是说init进程通过执行 \/system\/bin\/app_process 这个可执行文件来创建zygote进程；app_process的源码可见 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/androidxref.com\/5.1.1_r6\/xref\/frameworks\/base\/cmds\/app_process\/app_main.cpp\u0022\u003E这里\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E；在main函数的最后有这么一句话：\u003Cbr\u003E\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003Eif\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Ezygote\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n    \u003Cspan\u003Eruntime\u003C\/span\u003E\u003Cspan\u003E.\u003C\/span\u003E\u003Cspan\u003Estart\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0022com.android.internal.os.ZygoteInit\u0022\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \u003Cspan\u003Eargs\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \u003Cspan\u003Eelse\u003C\/span\u003E \u003Cspan\u003Eif\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003EclassName\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E最终调用到了 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/androidxref.com\/5.1.1_r6\/xref\/frameworks\/base\/core\/jni\/AndroidRuntime.cpp\u0022\u003EAndroidRuntime.cpp\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E  的 `start` 函数，而这个函数中最重要的一步就是启动虚拟机：\u003Cbr\u003E\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003EJNIEnv\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Eenv\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n\u003Cspan\u003Eif\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003EstartVm\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E\u0026amp;\u003C\/span\u003E\u003Cspan\u003EmJavaVM\u003C\/span\u003E\u003Cspan\u003E,\u003C\/span\u003E \u003Cspan\u003E\u0026amp;\u003C\/span\u003E\u003Cspan\u003Eenv\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E!=\u003C\/span\u003E \u003Cspan\u003E0\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n    \u003Cspan\u003Ereturn\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E这个函数相当之长，不过都是解析虚拟机启动的参数，比如堆大小等等；这些参数的来源最终是从\/system\/build.prop中读取的。\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/droidyue.com\/blog\/2015\/08\/01\/dive-into-android-large-heap\/index.html\u0022\u003E探究android:largeHeap - 技术小黑屋\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 这篇文章对一些重要的参数做了说明，这些参数对虚拟机非常重要，后面我们会见到。解析参数完毕之后，最终调用 `JNI_CreateJavaVM` 来真正创建Java虚拟机。这个接口是Android虚拟机定义的三个接口这一；它的具体是现在 \u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/androidxref.com\/5.1.1_r6\/xref\/art\/runtime\/jni_internal.cc\u0022\u003Ejni_internal.cc\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E；JNI_CreateJavaVM 这个函数在拿到虚拟机的相关参数之后，就直接创建了Android运行时：\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E if (!Runtime::Create(options, ignore_unrecognized)) { \n    return JNI_ERR; \n  } \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003ERuntime的创建非常复杂，其中，跟GC相关的是，App的堆空间Heap对象被创建出来了；Heap的构造函数接受了一大堆参数，这些参数对于GC有着重大的影响，如果要调整GC的策略，从这里入手，是比较靠谱的。\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003Eheap_ = new gc::Heap(options-\u0026gt;heap_initial_size_, \n                     options-\u0026gt;heap_growth_limit_, \n                     options-\u0026gt;heap_min_free_, \n                     options-\u0026gt;heap_max_free_, \n                     options-\u0026gt;heap_target_utilization_, \n                     options-\u0026gt;foreground_heap_growth_multiplier_, \n                     options-\u0026gt;heap_maximum_size_, \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cp\u003E其中 heap_initial_size_ 是堆的初始大小，heap_growth_limit_是堆增长的最大限制，heap_min_free_以及heap_max_free_ 是什么呢？详细的用途见\u003Ca href=\u0022https:\/\/link.zhihu.com\/?target=http%3A\/\/hello2mao.github.io\/2015\/12\/16\/Android_ART_GC_GrowForUtilization.html\u0022\u003EAndroid ART GC之GrowForUtilization的分析\u003Ci\u003E\u003C\/i\u003E\u003C\/a\u003E 简单来说就是，Android系统为了保证堆的利用效率，减少堆中的内存碎片；每次执行GC回收到一些内存之后，会对堆大小进行调整。比如说你进入了一个图片非常多的页面，这时候申请了100M内存，当你退出这个页面的时候，这100M自然就被回收了，成为了空闲内存；但是系统为了防止浪费，并不会把这100M的空闲内存全部留给你，而是做一个调整。而具体调整到多大，则与   `heap_min_free_`, `heap_max_free_` 以及 `heap_target_utilization_` 相关。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E说到这里，原理性的部分已经解释完了；除了流程稍微复杂，也没有什么难点。那么这个堆，跟我们的启动性能优化有什么关系呢？\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E在Android App的启动过程中，进程占用的内存在一段时间内是持续上涨的；假设堆的初始大小为8M，启动过程中的占用内存峰值30M；启动过程的进行中，伴随着大量临时对象的创建，它们朝生夕死，不久就被回收掉：\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-68a3980a1e07e07415c084f42ed14a74_b.png\u0022 width=\u0022892\u0022 alt=\u0022v2-68a3980a1e07e07415c084f42ed14a74_b.pn\u0022\u003E\u003Cp\u003E如上图，这是某次启动过程中某App的内存占用情况；我们看到了有很多小折线，专业术语叫做内存抖动；原因呢，也很明显——有大量的临时对象被创建。怎么解决？有人说，不要创建大量的临时对象。道理我都懂，可是做不到。对于很多大型App来说，启动的过程是相当复杂的，而很多操作也不能简单滴去掉。那么问题来了，30M并不是一个很大的数字，为什么系统如此恐慌，还需要不停滴回收内存呢？\u003C\/p\u003E\u003Cp\u003E有一种冷，叫做你妈妈觉得你冷。垃圾回收并不是说有垃圾了才去回收，而是只要系统觉得你需要回收垃圾就会进行。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E那么，能不能在启动过程中让堆保持持续增长而不进行GC？毕竟，30M并不会造成什么OOM。是什么原因导致系统没有这么做？答案是空闲内存。比如说一开始堆有8M，随着启动过程的进行，堆增长到了24M；这时候执行了一次GC，回收掉了8M内存，也是堆回到了16M；我们还有8M的空闲内存。系统就会说，小伙子，你占这么多空闲内存干嘛呀？来妈妈帮你保管，于是你就只剩下2M的空闲内存了。但显然App使用的堆内存很快就会超过18M，于是又引发一系列GC以及堆大小调整，周而复始直至启动完成内存平稳。至此，我们的结论已经很明显：\u003C\/p\u003E\u003Cp\u003E\u003Cb\u003E如果我们能够调整 heap_min_free_ 以及 heap_max_free_，就能很大程度上影响GC的过程。\u003C\/b\u003E\u003C\/p\u003E\u003Cp\u003E如何调整这两个参数的大小呢？\u003Ci\u003E拿到Heap对象的指针，找到这两个参数的偏移量，直接修改内存即可。\u003C\/i\u003E这里稍微需要一点C++内存布局的知识；至于如何拿到Heap对象的指针，只有去源码里面寻找答案了。这里我给出最终的实现代码：\u003C\/p\u003E\u003Cdiv\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan\u003E\u003C\/span\u003E\u003Cspan\u003Evoid\u003C\/span\u003E \u003Cspan\u003EmodifyHeap\u003C\/span\u003E\u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Eunsigned\u003C\/span\u003E \u003Cspan\u003Esize\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n \n    \u003Cspan\u003E\/\/ JavaVMExt指针 可以从JNI_OnLoad中拿到 \u003C\/span\u003E \n    \u003Cspan\u003EJavaVMExt\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003EvmExt\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003EJavaVMExt\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003Eg_javaVM\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n    \u003Cspan\u003Eif\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003EvmExt\u003C\/span\u003E\u003Cspan\u003E-\u0026gt;\u003C\/span\u003E\u003Cspan\u003Eruntime\u003C\/span\u003E \u003Cspan\u003E==\u003C\/span\u003E \u003Cspan\u003ENULL\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E{\u003C\/span\u003E \n        \u003Cspan\u003Ereturn\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n    \u003Cspan\u003E}\u003C\/span\u003E \n \n    \u003Cspan\u003Echar\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Eruntime_ptr\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Echar\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003EvmExt\u003C\/span\u003E\u003Cspan\u003E-\u0026gt;\u003C\/span\u003E\u003Cspan\u003Eruntime\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n    \u003Cspan\u003Evoid\u003C\/span\u003E \u003Cspan\u003E**\u003C\/span\u003E\u003Cspan\u003Eheap_pp\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Evoid\u003C\/span\u003E \u003Cspan\u003E**\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Eruntime_ptr\u003C\/span\u003E \u003Cspan\u003E+\u003C\/span\u003E \u003Cspan\u003E188\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n    \u003Cspan\u003Echar\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Ec_heap\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Echar\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Eheap_pp\u003C\/span\u003E\u003Cspan\u003E);\u003C\/span\u003E \n \n    \u003Cspan\u003Echar\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Emin_free_offset\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003Ec_heap\u003C\/span\u003E \u003Cspan\u003E+\u003C\/span\u003E \u003Cspan\u003E532\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n    \u003Cspan\u003Echar\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Emax_free_offset\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003Emin_free_offset\u003C\/span\u003E \u003Cspan\u003E+\u003C\/span\u003E \u003Cspan\u003E4\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n    \u003Cspan\u003Echar\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Etarget_utilization_offset\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003Emax_free_offset\u003C\/span\u003E \u003Cspan\u003E+\u003C\/span\u003E \u003Cspan\u003E4\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n \n    \u003Cspan\u003Esize_t\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Emin_free_\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Esize_t\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003Emin_free_offset\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n    \u003Cspan\u003Esize_t\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Emax_free_\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E(\u003C\/span\u003E\u003Cspan\u003Esize_t\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003E)\u003C\/span\u003E \u003Cspan\u003Emax_free_offset\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n \n    \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Emin_free_\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E1024\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003E1024\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003E2\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n    \u003Cspan\u003E*\u003C\/span\u003E\u003Cspan\u003Emax_free_\u003C\/span\u003E \u003Cspan\u003E=\u003C\/span\u003E \u003Cspan\u003E1024\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003E1024\u003C\/span\u003E \u003Cspan\u003E*\u003C\/span\u003E \u003Cspan\u003E8\u003C\/span\u003E\u003Cspan\u003E;\u003C\/span\u003E \n\u003Cspan\u003E}\u003C\/span\u003E \n\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003Cbr\u003E\u003Cp\u003E修改之后启动过程中内存占用如下，可以看到我们的目的已经达到：\u003C\/p\u003E\u003Cimg src=\u0022https:\/\/pic1.zhimg.com\/v2-884bd781093384f23bec0a029d6c0dc4_b.png\u0022 width=\u0022904\u0022 alt=\u0022v2-884bd781093384f23bec0a029d6c0dc4_b.pn\u0022\u003E\u003Cbr\u003E\u003Cp\u003E顺便说明一下，上面的代码没有考虑任何的可移植性和适配性，只起演示作用。真正投入使用是一个体力活：其一，我们依赖了某特定Android版本某个类的内存布局，其中的成员变量的偏移量可能不同版本不同；其二，这个 min_free_ 以及 max_free_ 具体调整为多大，跟手机的物理内存，App使用的内存，手机配置的初始堆大小等等因素密切相关；调整一个合适的参数需要花费一些时间，Android机型如此之多，这里需要一些小技巧。\u003C\/p\u003E\u003Cp\u003E不知道上面这个例子有木有让你感受到深入系统底层，那种呼风唤雨无所不能的快感？可能很多人觉得我们都是写写if else而已，调节面改动画写业务已经够了；但我想说明的是，深入学习系统原理是非常有好处的，它可以赋予你在应用层永远无法拥有的能力。\u003Cbr\u003E\u003C\/p\u003E\u003Cp\u003E另外留个作业，我们上面提到观察GC的次数，除了使用debug模式下用工具观察，能不能用代码监听到呢？本文主要说明了虚拟机运行时等native层的重要性，而这个答案可以在Java Framework中找到 ^_^\u003C\/p\u003E \n\u003Cbr\u003E\u003Cbr\u003E \n来源：知乎 www.zhihu.com\u003Cbr\u003E \n     \n作者：\u003Ca href=\u0022http:\/\/www.zhihu.com\/people\/tian-weishu?utm_campaign=rss\u0026amp;utm_medium=rss\u0026amp;utm_source=rss\u0026amp;utm_content=author\u0022\u003Eweishu\u003C\/a\u003E\u003Cbr\u003E\u003Cbr\u003E \n【知乎日报】千万用户的选择，做朋友圈里的新鲜事分享大牛。 \n        \u003Ca href=\u0022http:\/\/daily.zhihu.com?utm_source=rssyanwenzi\u0026amp;utm_campaign=tuijian\u0026amp;utm_medium=rssnormal\u0022\u003E点击下载\u003C\/a\u003E\u003Cbr\u003E"},"author":"weishu","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/www.zhihu.com\/rss","title":"知乎每日精选","htmlUrl":"http:\/\/www.zhihu.com\/"}},{"crawlTimeMsec":"1486829621000","timestampUsec":"1486829621000000","id":"tag:google.com,2005:reader\/item\/0000000255ebcbcf","categories":["user\/1006499979\/state\/com.google\/reading-list","user\/1006499979\/state\/com.google\/read","user\/1006499979\/state\/com.google\/starred"],"title":"JavaScript 全栈工程师培训教程","published":1479172100,"updated":1486623995,"starred":1486829621,"canonical":[{"href":"http:\/\/www.ruanyifeng.com\/blog\/2016\/11\/javascript.html"}],"alternate":[{"href":"http:\/\/www.ruanyifeng.com\/blog\/2016\/11\/javascript.html","type":"text\/html"}],"summary":{"direction":"ltr","content":"\u003Cp\u003E我现在的技术方向，前端是 \u003Ca href=\u0022http:\/\/www.ruanyifeng.com\/blog\/2016\/09\/react-technology-stack.html\u0022\u003EReact\u003C\/a\u003E，后端是 Node，时间都投入在这两方面。\u003C\/p\u003E \n\u003Cp\u003E最近有一种感觉，我可以融汇贯通了，使用 JavaScript 全栈解决各种问题。\u003C\/p\u003E \n \n\u003Cp\u003E\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\u0022\u003E\u003Cimg src=\u0022http:\/\/www.ruanyifeng.com\/blogimg\/asset\/2016\/bg2016111501.png\u0022 alt=\u0022\u0022 title=\u0022\u0022\u003E\u003C\/a\u003E\u003C\/p\u003E \n \n\u003Cp\u003E最初，我只是想整理一份技术清单，理清思路。但是内容越写越多，索性就做成一个\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\u0022\u003E教程\u003C\/a\u003E，放在 Github 上面。这份教程一共四章，可以在两天内学完，适合那些已掌握前端基本技能（HTML、CSS、JS）、想进一步进修、成为 JavaScript 全栈工程师的读者。 \u003C\/p\u003E \n \n\u003Cp\u003E我的写作目标是内容完整、脉络清晰、通俗易懂，帮助初学者看清技术路径，快速入门。难度为入门级，不涉及深入的细节，重在理解各种技术想要解决的问题，掌握基本用法，为进一步自学打下基础。\u003C\/p\u003E \n \n\u003Cp\u003E引子：\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/blob\/master\/docs\/preparation.md\u0022\u003E《准备工作》\u003C\/a\u003E\u003C\/p\u003E \n \n\u003Cblockquote\u003E \n  \u003Col\u003E\u003Cli\u003E知识准备\u003C\/li\u003E \n\u003Cli\u003E环境准备\u003C\/li\u003E \n\u003C\/ol\u003E\u003C\/blockquote\u003E \n \n\u003Cp\u003E第一讲：\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/blob\/master\/docs\/history.md\u0022\u003E《前端开发的历史和趋势》\u003C\/a\u003E\u003C\/p\u003E \n \n\u003Cblockquote\u003E \n  \u003Col\u003E\u003Cli\u003E前端开发的历史演变\u003C\/li\u003E \n\u003Cli\u003E前端MVC框架的兴起\u003C\/li\u003E \n\u003Cli\u003E前后端分离\u003C\/li\u003E \n\u003Cli\u003E全栈工程师\u003C\/li\u003E \n\u003Cli\u003E前端开发的未来\u003C\/li\u003E \n\u003C\/ol\u003E\u003C\/blockquote\u003E \n \n\u003Cp\u003E第二讲：\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/blob\/master\/docs\/react.md\u0022\u003E《React 技术栈》\u003C\/a\u003E\u003C\/p\u003E \n \n\u003Cblockquote\u003E \n  \u003Col\u003E\u003Cli\u003EReact 的基本用法\u003C\/li\u003E \n\u003Cli\u003EReact 应用的架构\u003C\/li\u003E \n\u003C\/ol\u003E\u003C\/blockquote\u003E \n \n\u003Cp\u003E第三讲：\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/blob\/master\/docs\/node.md\u0022\u003E《Node 应用开发》\u003C\/a\u003E\u003C\/p\u003E \n \n\u003Cblockquote\u003E \n  \u003Col\u003E\u003Cli\u003ENode 的基本用法\u003C\/li\u003E \n\u003Cli\u003ERestful API\u003C\/li\u003E \n\u003Cli\u003EExpress 框架搭建 Web 应用\u003C\/li\u003E \n\u003C\/ol\u003E\u003C\/blockquote\u003E \n \n\u003Cp\u003E第四讲：\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/blob\/master\/docs\/engineering.md\u0022\u003E《前端工程简介》\u003C\/a\u003E\u003C\/p\u003E \n \n\u003Cblockquote\u003E \n  \u003Col\u003E\u003Cli\u003E持续集成\u003C\/li\u003E \n\u003Cli\u003E静态代码检查\u003C\/li\u003E \n\u003Cli\u003E单元测试\u003C\/li\u003E \n\u003Cli\u003E功能测试\u003C\/li\u003E \n\u003Cli\u003E持续集成服务 Travis CI\u003C\/li\u003E \n\u003C\/ol\u003E\u003C\/blockquote\u003E \n \n\u003Cp\u003E所有内容都配有 \u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/tree\/master\/demos\u0022\u003EDemo\u003C\/a\u003E 和\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/blob\/master\/demos\/README.md\u0022\u003E操作指导\u003C\/a\u003E，帮助读者边学边练，保证学会。\u003C\/p\u003E \n \n\u003Cp\u003E\u003Ca href=\u0022https:\/\/github.com\/ruanyf\/jstraining\/tree\/master\/demos\u0022\u003E\u003Cimg src=\u0022http:\/\/www.ruanyifeng.com\/blogimg\/asset\/2016\/bg2016111502.png\u0022 alt=\u0022\u0022 title=\u0022\u0022\u003E\u003C\/a\u003E\u003C\/p\u003E \n \n\u003Cp\u003E我已经找了一个场合，试讲了一次上面的内容，觉得效果还可以。\u003C\/p\u003E \n \n\u003Cp\u003E本教程采用 GPL 许可证，你可以自由地使用它，唯一的条件是如果对内容做出任何改进，你也必须在 GPL 许可证下开源。\u003C\/p\u003E \n \n\u003Cp\u003E我也接受现场培训。如果你们公司有这个需要，可以联系我。不过，讲课费比较贵，所以还是推荐大家自学。\u003C\/p\u003E \n \n\u003Cp\u003E（完）\u003C\/p\u003E \n\u003Cdiv style=\u0022color:#556677;line-height:160%;padding:.3em .5em;border:1px solid #d3d3d3;margin:1em;background-color:#AAD2F0;\u0022\u003E\u003Ch3\u003E文档信息\u003C\/h3\u003E \n\u003Cul\u003E\u003Cli\u003E版权声明：自由转载-非商用-非衍生-保持署名（\u003Ca href=\u0022http:\/\/creativecommons.org\/licenses\/by-nc-nd\/3.0\/deed.zh\u0022\u003E创意共享3.0许可证\u003C\/a\u003E）\u003C\/li\u003E \n\u003Cli\u003E发表日期： \u003Cabbr title=\u00222016-11-15T09:08:20+08:00\u0022\u003E2016年11月15日\u003C\/abbr\u003E\u003C\/li\u003E \n\u003Cli\u003E更多内容： \u003Ca href=\u0022http:\/\/www.ruanyifeng.com\/blog\/archives.html\u0022\u003E 档案\u003C\/a\u003E  »  \n\u003Ca href=\u0022http:\/\/www.ruanyifeng.com\/blog\/javascript\/\u0022\u003E JavaScript\u003C\/a\u003E  \n\u003C\/li\u003E \n\u003Cli\u003E博客文集：\u003Ca href=\u0022http:\/\/road.ruanyifeng.com\u0022\u003E《寻找思想之路》\u003C\/a\u003E，\u003Ca href=\u0022http:\/\/ruanyf.github.io\/survivor\u0022\u003E《未来世界的幸存者》\u003C\/a\u003E\u003C\/li\u003E \n\u003Cli\u003E社交媒体：\u003Ca href=\u0022https:\/\/twitter.com\/ruanyf\u0022\u003E twitter\u003C\/a\u003E，\u003Ca href=\u0022http:\/\/weibo.com\/ruanyf\u0022\u003E weibo\u003C\/a\u003E\u003C\/li\u003E \n\u003Cli\u003EFeed订阅： \u003Ca href=\u0022http:\/\/www.ruanyifeng.com\/feed.html\u0022\u003E\u003C\/a\u003E\u003C\/li\u003E \n \n\u003C\/ul\u003E\u003C\/div\u003E\u003Cdiv style=\u0022color:#556677;line-height:160%;padding:.3em .5em;margin:1em;\u0022\u003E\u003C\/div\u003E"},"author":"","likingUsers":[],"comments":[],"commentsNum":-1,"annotations":[],"origin":{"streamId":"feed\/http:\/\/feeds.feedburner.com\/ruanyifeng","title":"阮一峰的网络日志","htmlUrl":"http:\/\/www.ruanyifeng.com\/blog\/"}}]}